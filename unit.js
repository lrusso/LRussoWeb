import { join, extname, resolve } from "path"
import { existsSync, readFileSync, readdirSync, statSync } from "fs"

// JEST LITE - MODIFIED VERSION OF https://unpkg.com/jest-lite@1.0.0-alpha.4/dist/core.js
new Function(
  Buffer.from(
    "Ly8gV09SS0FST1VORCBCWSBMUlVTU08uQ09NCmdsb2JhbC53aW5kb3cgPSB7fQoKLy8gaHR0cHM6Ly91bnBrZy5jb20vamVzdC1saXRlQDEuMC4wLWFscGhhLjQvZGlzdC9jb3JlLmpzCi8vIHByZXR0aWVyLWlnbm9yZQovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKIWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuY29yZT10KCk6KGUuamVzdExpdGU9ZS5qZXN0TGl0ZXx8e30sZS5qZXN0TGl0ZS5jb3JlPXQoKSl9KHdpbmRvdyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgbz10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxuKSxvLmw9ITAsby5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LHIpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbihlKXsidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJiJvYmplY3QiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciByPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiYic3RyaW5nIiE9dHlwZW9mIGUpZm9yKHZhciBvIGluIGUpbi5kKHIsbyxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLG8pKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCwiYSIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9IiIsbihuLnM9MzMxKX0oW2Z1bmN0aW9uKGUsdCl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fG5ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKGUpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfWUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpe3ZhciBuPWUuZXhwb3J0cz17dmVyc2lvbjoiMi42LjkifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNSksbz1uKDEpLGk9bigyMiksYT1uKDI2KSx1PW4oMjkpLGM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBzLGYsbCxwPWUmYy5GLGg9ZSZjLkcsZD1lJmMuUyx2PWUmYy5QLGc9ZSZjLkIseT1lJmMuVyxtPWg/bzpvW3RdfHwob1t0XT17fSksYj1tLnByb3RvdHlwZSxfPWg/cjpkP3JbdF06KHJbdF18fHt9KS5wcm90b3R5cGU7Zm9yKHMgaW4gaCYmKG49dCksbikoZj0hcCYmXyYmdm9pZCAwIT09X1tzXSkmJnUobSxzKXx8KGw9Zj9fW3NdOm5bc10sbVtzXT1oJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tzXT9uW3NdOmcmJmY/aShsLHIpOnkmJl9bc109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxuLHIpe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxuKX1yZXR1cm4gbmV3IGUodCxuLHIpfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHQucHJvdG90eXBlPWUucHJvdG90eXBlLHR9KGwpOnYmJiJmdW5jdGlvbiI9PXR5cGVvZiBsP2koRnVuY3Rpb24uY2FsbCxsKTpsLHYmJigobS52aXJ0dWFsfHwobS52aXJ0dWFsPXt9KSlbc109bCxlJmMuUiYmYiYmIWJbc10mJmEoYixzLGwpKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsYy5VPTY0LGMuUj0xMjgsZS5leHBvcnRzPWN9LCxmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1lLmV4cG9ydHM9e307ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIHUoZSl7aWYobj09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigobj09PWl8fCFuKSYmc2V0VGltZW91dClyZXR1cm4gbj1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIG4oZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIG4uY2FsbCh0aGlzLGUsMCl9fX0hZnVuY3Rpb24oKXt0cnl7bj0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Oml9Y2F0Y2goZSl7bj1pfXRyeXtyPSJmdW5jdGlvbiI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OmF9Y2F0Y2goZSl7cj1hfX0oKTt2YXIgYyxzPVtdLGY9ITEsbD0tMTtmdW5jdGlvbiBwKCl7ZiYmYyYmKGY9ITEsYy5sZW5ndGg/cz1jLmNvbmNhdChzKTpsPS0xLHMubGVuZ3RoJiZoKCkpfWZ1bmN0aW9uIGgoKXtpZighZil7dmFyIGU9dShwKTtmPSEwO2Zvcih2YXIgdD1zLmxlbmd0aDt0Oyl7Zm9yKGM9cyxzPVtdOysrbDx0OyljJiZjW2xdLnJ1bigpO2w9LTEsdD1zLmxlbmd0aH1jPW51bGwsZj0hMSxmdW5jdGlvbihlKXtpZihyPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKHI9PT1hfHwhcikmJmNsZWFyVGltZW91dClyZXR1cm4gcj1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtyKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIHIuY2FsbCh0aGlzLGUpfX19KGUpfX1mdW5jdGlvbiBkKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gdigpe31vLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07cy5wdXNoKG5ldyBkKGUsdCkpLDEhPT1zLmxlbmd0aHx8Znx8dShoKX0sZC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sby50aXRsZT0iYnJvd3NlciIsby5icm93c2VyPSEwLG8uZW52PXt9LG8uYXJndj1bXSxvLnZlcnNpb249IiIsby52ZXJzaW9ucz17fSxvLm9uPXYsby5hZGRMaXN0ZW5lcj12LG8ub25jZT12LG8ub2ZmPXYsby5yZW1vdmVMaXN0ZW5lcj12LG8ucmVtb3ZlQWxsTGlzdGVuZXJzPXYsby5lbWl0PXYsby5wcmVwZW5kTGlzdGVuZXI9dixvLnByZXBlbmRPbmNlTGlzdGVuZXI9dixvLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0sby5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKX0sby5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LG8uY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0sby51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEyMSkoIndrcyIpLG89big4MCksaT1uKDUpLlN5bWJvbCxhPSJmdW5jdGlvbiI9PXR5cGVvZiBpOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHJbZV18fChyW2VdPWEmJmlbZV18fChhP2k6bykoIlN5bWJvbC4iK2UpKX0pLnN0b3JlPXJ9LCwsZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIHI9YShuKDIxMSkpLG89YShuKDIxMikpLGk9ImZ1bmN0aW9uIj09dHlwZW9mIG8uZGVmYXVsdCYmInN5bWJvbCI9PXR5cGVvZiByLmRlZmF1bHQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIG8uZGVmYXVsdCYmZS5jb25zdHJ1Y3Rvcj09PW8uZGVmYXVsdCYmZSE9PW8uZGVmYXVsdC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9O2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD0iZnVuY3Rpb24iPT10eXBlb2Ygby5kZWZhdWx0JiYic3ltYm9sIj09PWkoci5kZWZhdWx0KT9mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT8idW5kZWZpbmVkIjppKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIG8uZGVmYXVsdCYmZS5jb25zdHJ1Y3Rvcj09PW8uZGVmYXVsdCYmZSE9PW8uZGVmYXVsdC5wcm90b3R5cGU/InN5bWJvbCI6dm9pZCAwPT09ZT8idW5kZWZpbmVkIjppKGUpfX0sLCxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNyksbz1uKDE5NCksaT1uKDExNiksYT1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPW4oMTQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQsbil7aWYocihlKSx0PWkodCwhMCkscihuKSxvKXRyeXtyZXR1cm4gYShlLHQsbil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gbnx8InNldCJpbiBuKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIG4mJihlW3RdPW4udmFsdWUpLGV9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPSFuKDI4KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKHQpe2NvbnN0IHI9big4Niksbz1uKDE0NSksaT1uKDE0Nikuc3Rkb3V0LGE9bigxNDcpLHU9IndpbjMyIj09PXQucGxhdGZvcm0mJiEodC5lbnYuVEVSTXx8IiIpLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgieHRlcm0iKSxjPVsiYW5zaSIsImFuc2kiLCJhbnNpMjU2IiwiYW5zaTE2bSJdLHM9bmV3IFNldChbImdyYXkiXSksZj1PYmplY3QuY3JlYXRlKG51bGwpO2Z1bmN0aW9uIGwoZSx0KXt0PXR8fHt9O2NvbnN0IG49aT9pLmxldmVsOjA7ZS5sZXZlbD12b2lkIDA9PT10LmxldmVsP246dC5sZXZlbCxlLmVuYWJsZWQ9ImVuYWJsZWQiaW4gdD90LmVuYWJsZWQ6ZS5sZXZlbD4wfWZ1bmN0aW9uIHAoZSl7aWYoIXRoaXN8fCEodGhpcyBpbnN0YW5jZW9mIHApfHx0aGlzLnRlbXBsYXRlKXtjb25zdCB0PXt9O3JldHVybiBsKHQsZSksdC50ZW1wbGF0ZT1mdW5jdGlvbigpe2NvbnN0IGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBnLmFwcGx5KG51bGwsW3QudGVtcGxhdGVdLmNvbmNhdChlKSl9LE9iamVjdC5zZXRQcm90b3R5cGVPZih0LHAucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YodC50ZW1wbGF0ZSx0KSx0LnRlbXBsYXRlLmNvbnN0cnVjdG9yPXAsdC50ZW1wbGF0ZX1sKHRoaXMsZSl9dSYmKG8uYmx1ZS5vcGVuPSIbWzk0bSIpO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKG8pKW9bZV0uY2xvc2VSZT1uZXcgUmVnRXhwKHIob1tlXS5jbG9zZSksImciKSxmW2VdPXtnZXQoKXtjb25zdCB0PW9bZV07cmV0dXJuIGQuY2FsbCh0aGlzLHRoaXMuX3N0eWxlcz90aGlzLl9zdHlsZXMuY29uY2F0KHQpOlt0XSx0aGlzLl9lbXB0eSxlKX19O2YudmlzaWJsZT17Z2V0KCl7cmV0dXJuIGQuY2FsbCh0aGlzLHRoaXMuX3N0eWxlc3x8W10sITAsInZpc2libGUiKX19LG8uY29sb3IuY2xvc2VSZT1uZXcgUmVnRXhwKHIoby5jb2xvci5jbG9zZSksImciKTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhvLmNvbG9yLmFuc2kpKXMuaGFzKGUpfHwoZltlXT17Z2V0KCl7Y29uc3QgdD10aGlzLmxldmVsO3JldHVybiBmdW5jdGlvbigpe2NvbnN0IG49by5jb2xvcltjW3RdXVtlXS5hcHBseShudWxsLGFyZ3VtZW50cykscj17b3BlbjpuLGNsb3NlOm8uY29sb3IuY2xvc2UsY2xvc2VSZTpvLmNvbG9yLmNsb3NlUmV9O3JldHVybiBkLmNhbGwodGhpcyx0aGlzLl9zdHlsZXM/dGhpcy5fc3R5bGVzLmNvbmNhdChyKTpbcl0sdGhpcy5fZW1wdHksZSl9fX0pO28uYmdDb2xvci5jbG9zZVJlPW5ldyBSZWdFeHAocihvLmJnQ29sb3IuY2xvc2UpLCJnIik7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMoby5iZ0NvbG9yLmFuc2kpKXtpZihzLmhhcyhlKSljb250aW51ZTtmWyJiZyIrZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSldPXtnZXQoKXtjb25zdCB0PXRoaXMubGV2ZWw7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3Qgbj1vLmJnQ29sb3JbY1t0XV1bZV0uYXBwbHkobnVsbCxhcmd1bWVudHMpLHI9e29wZW46bixjbG9zZTpvLmJnQ29sb3IuY2xvc2UsY2xvc2VSZTpvLmJnQ29sb3IuY2xvc2VSZX07cmV0dXJuIGQuY2FsbCh0aGlzLHRoaXMuX3N0eWxlcz90aGlzLl9zdHlsZXMuY29uY2F0KHIpOltyXSx0aGlzLl9lbXB0eSxlKX19fX1jb25zdCBoPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCgpPT57fSxmKTtmdW5jdGlvbiBkKGUsdCxuKXtjb25zdCByPWZ1bmN0aW9uKCl7cmV0dXJuIHYuYXBwbHkocixhcmd1bWVudHMpfTtyLl9zdHlsZXM9ZSxyLl9lbXB0eT10O2NvbnN0IG89dGhpcztyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsImxldmVsIix7ZW51bWVyYWJsZTohMCxnZXQ6KCk9Pm8ubGV2ZWwsc2V0KGUpe28ubGV2ZWw9ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkociwiZW5hYmxlZCIse2VudW1lcmFibGU6ITAsZ2V0OigpPT5vLmVuYWJsZWQsc2V0KGUpe28uZW5hYmxlZD1lfX0pLHIuaGFzR3JleT10aGlzLmhhc0dyZXl8fCJncmF5Ij09PW58fCJncmV5Ij09PW4sci5fX3Byb3RvX189aCxyfWZ1bmN0aW9uIHYoKXtjb25zdCBlPWFyZ3VtZW50cyx0PWUubGVuZ3RoO2xldCBuPVN0cmluZyhhcmd1bWVudHNbMF0pO2lmKDA9PT10KXJldHVybiIiO2lmKHQ+MSlmb3IobGV0IHI9MTtyPHQ7cisrKW4rPSIgIitlW3JdO2lmKCF0aGlzLmVuYWJsZWR8fHRoaXMubGV2ZWw8PTB8fCFuKXJldHVybiB0aGlzLl9lbXB0eT8iIjpuO2NvbnN0IHI9by5kaW0ub3Blbjt1JiZ0aGlzLmhhc0dyZXkmJihvLmRpbS5vcGVuPSIiKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9zdHlsZXMuc2xpY2UoKS5yZXZlcnNlKCkpbj0obj1lLm9wZW4rbi5yZXBsYWNlKGUuY2xvc2VSZSxlLm9wZW4pK2UuY2xvc2UpLnJlcGxhY2UoL1xyP1xuL2csYCR7ZS5jbG9zZX0kJiR7ZS5vcGVufWApO3JldHVybiBvLmRpbS5vcGVuPXIsbn1mdW5jdGlvbiBnKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSkuam9pbigiICIpO2NvbnN0IG49W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMikscj1bdC5yYXdbMF1dO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7ZSsrKXIucHVzaChTdHJpbmcobltlLTFdKS5yZXBsYWNlKC9be31cXF0vZywiXFwkJiIpKSxyLnB1c2goU3RyaW5nKHQucmF3W2VdKSk7cmV0dXJuIGEoZSxyLmpvaW4oIiIpKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLnByb3RvdHlwZSxmKSxlLmV4cG9ydHM9cCgpLGUuZXhwb3J0cy5zdXBwb3J0c0NvbG9yPWksZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSkuY2FsbCh0aGlzLG4oNCkpfSwsZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighcihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZS53ZWJwYWNrUG9seWZpbGx8fChlLmRlcHJlY2F0ZT1mdW5jdGlvbigpe30sZS5wYXRocz1bXSxlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImxvYWRlZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUubH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiaWQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLml9fSksZS53ZWJwYWNrUG9seWZpbGw9MSksZX19LCwsLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQ3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKHIoZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZS5jYWxsKHQsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gZS5jYWxsKHQsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsbyl7cmV0dXJuIGUuY2FsbCh0LG4scixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LCwsLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEyKSxvPW4oNDgpO2UuZXhwb3J0cz1uKDE0KT9mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIuZihlLHQsbygxLG4pKX06ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW4sZX19LCxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sZnVuY3Rpb24oZSx0KXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIoZSkpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDM0NCkoITApO24oMTI0KShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxuPXRoaXMuX2k7cmV0dXJuIG4+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9cih0LG4pLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSwsLCwsZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTE3KSxvPW4oMTE4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIobyhlKSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sZnVuY3Rpb24oZSx0LG4pe24oMzQ3KTtmb3IodmFyIHI9big1KSxvPW4oMjYpLGk9bigzNyksYT1uKDYpKCJ0b1N0cmluZ1RhZyIpLHU9IkNTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCxNZWRpYUxpc3QsTWltZVR5cGVBcnJheSxOYW1lZE5vZGVNYXAsTm9kZUxpc3QsUGFpbnRSZXF1ZXN0TGlzdCxQbHVnaW4sUGx1Z2luQXJyYXksU1ZHTGVuZ3RoTGlzdCxTVkdOdW1iZXJMaXN0LFNWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LFRleHRUcmFja0xpc3QsVG91Y2hMaXN0Ii5zcGxpdCgiLCIpLGM9MDtjPHUubGVuZ3RoO2MrKyl7dmFyIHM9dVtjXSxmPXJbc10sbD1mJiZmLnByb3RvdHlwZTtsJiYhbFthXSYmbyhsLGEscyksaVtzXT1pLkFycmF5fX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz17ZGVmYXVsdDpuKDM1NSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9e2RlZmF1bHQ6bigzNzMpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByLG89bigzOTkpLGk9KHI9bykmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixyLG8sYSx1KXt2YXIgYyxzLGY9dT9bInsiLCJ9Il06WyJbIiwiXSJdLGw9KDAsaS5kZWZhdWx0KShmLDIpLHA9bFswXSxoPWxbMV0sZD0iSW1tdXRhYmxlLiIrYSsiICIrcCtyLmVkZ2VTcGFjaW5nLHY9W107cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlLGkpe3JldHVybiB2LnB1c2gobihmdW5jdGlvbihlLHQpe3JldHVybiBlP3QrIjogIjoiIn0odSxpKSt0KGUsdCxuLHIsbykpKX0pLGQrPXYuam9pbigiLCIrci5zcGFjaW5nKSwhci5taW4mJnYubGVuZ3RoPjAmJihkKz0iLCIpLGQrKGM9di5sZW5ndGgscz1yLmVkZ2VTcGFjaW5nLGM+MD9zOiIiKStofX0sZnVuY3Rpb24oZSx0KXsgZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmL1tAPyErKl1cKC8udGVzdChlKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt0Lm1ha2VEZXNjcmliZT0oZSx0LG4pPT4odCYmIW4mJihuPXQubW9kZSkse2NoaWxkcmVuOltdLGhvb2tzOltdLG1vZGU6bixuYW1lOmUscGFyZW50OnQsdGVzdHM6W119KSx0Lm1ha2VUZXN0PShlLHQsbixyKT0+KGU/dHx8KHQ9ci5tb2RlKTp0PSJza2lwIix7ZHVyYXRpb246bnVsbCxlcnJvcnM6W10sZm46ZSxtb2RlOnQsbmFtZTpuLHBhcmVudDpyLHN0YXJ0ZWRBdDpudWxsLHN0YXR1czpudWxsfSksdC5nZXRBbGxIb29rc0ZvckRlc2NyaWJlPWU9Pntjb25zdCB0PXthZnRlckFsbDpbXSxiZWZvcmVBbGw6W119O2Zvcihjb25zdCBuIG9mIGUuaG9va3Mpc3dpdGNoKG4udHlwZSl7Y2FzZSJiZWZvcmVBbGwiOnQuYmVmb3JlQWxsLnB1c2gobik7YnJlYWs7Y2FzZSJhZnRlckFsbCI6dC5hZnRlckFsbC5wdXNoKG4pfXJldHVybiB0fSx0LmdldEVhY2hIb29rc0ZvclRlc3Q9ZT0+e2NvbnN0IHQ9e2FmdGVyRWFjaDpbXSxiZWZvcmVFYWNoOltdfTtsZXQgbj1lLnBhcmVudDtkb3tmb3IoY29uc3QgZSBvZiBuLmhvb2tzKXN3aXRjaChlLnR5cGUpe2Nhc2UiYmVmb3JlRWFjaCI6dC5iZWZvcmVFYWNoLnVuc2hpZnQoZSk7YnJlYWs7Y2FzZSJhZnRlckVhY2giOnQuYWZ0ZXJFYWNoLnB1c2goZSl9fXdoaWxlKG49bi5wYXJlbnQpO3JldHVybiB0fTt2YXIgbj1lO2NvbnN0IHI9bi5zZXRUaW1lb3V0LG89bi5jbGVhclRpbWVvdXQsaT0odC5jYWxsQXN5bmNGbj0oZSx0LG4pPT57bGV0IGksYT1uLmlzSG9vayx1PShuLnRlc3Qsbi50aW1lb3V0KTtyZXR1cm4gbmV3IFByb21pc2UoKG4sbyk9PntpZihpPXIoKCk9Pm8oKChlLHQpPT5uZXcgRXJyb3IoYEV4Y2VlZGVkIHRpbWVvdXQgb2YgJHtlfW1zIGZvciBhICR7dD8iaG9vayI6InRlc3QifS5cblVzZSBqZXN0LnNldFRpbWVvdXQobmV3VGltZW91dCkgdG8gaW5jcmVhc2UgdGhlIHRpbWVvdXQgdmFsdWUsIGlmIHRoaXMgaXMgYSBsb25nLXJ1bm5pbmcgdGVzdC5gKSkodSxhKSksdSksZS5sZW5ndGgpe2NvbnN0IHI9ZT0+ZT9vKGUpOm4oKTtyZXR1cm4gZS5jYWxsKHQscil9bGV0IGM7dHJ5e2M9ZS5jYWxsKHQpfWNhdGNoKGUpe3JldHVybiBvKGUpfXJldHVybiJvYmplY3QiPT10eXBlb2YgYyYmbnVsbCE9PWMmJiJmdW5jdGlvbiI9PXR5cGVvZiBjLnRoZW4/Yy50aGVuKG4sbyk6YXx8dm9pZCAwPT09Yz9uKCk6byhuZXcgRXJyb3IoYFxuICAgICAgdGVzdCBmdW5jdGlvbnMgY2FuIG9ubHkgcmV0dXJuIFByb21pc2Ugb3IgdW5kZWZpbmVkLlxuICAgICAgUmV0dXJuZWQgdmFsdWU6ICR7U3RyaW5nKGMpfVxuICAgICAgYCkpfSkudGhlbigoKT0+e2kudW5yZWYmJmkudW5yZWYoKSxvKGkpfSkuY2F0Y2goZT0+e3Rocm93IGkudW5yZWYmJmkudW5yZWYoKSxvKGkpLGV9KX0sdC5nZXRUZXN0RHVyYXRpb249ZT0+e2NvbnN0IHQ9ZS5zdGFydGVkQXQ7cmV0dXJuIHQ/RGF0ZS5ub3coKS10Om51bGx9LHQubWFrZVRlc3RSZXN1bHRzPWU9PntsZXQgdD1bXTtmb3IoY29uc3QgbiBvZiBlLnRlc3RzKXtjb25zdCBlPVtdO2xldCByPW47ZG97ZS51bnNoaWZ0KHIubmFtZSl9d2hpbGUocj1yLnBhcmVudCk7Y29uc3Qgbz1uLnN0YXR1cztpZighbyl0aHJvdyBuZXcgRXJyb3IoIlN0YXR1cyBzaG91bGQgYmUgcHJlc2VudCBhZnRlciB0ZXN0cyBhcmUgcnVuLiIpO3QucHVzaCh7ZHVyYXRpb246bi5kdXJhdGlvbixlcnJvcnM6bi5lcnJvcnMubWFwKGEpLHN0YXR1czpvLHRlc3RQYXRoOmV9KX1mb3IoY29uc3QgbiBvZiBlLmNoaWxkcmVuKXQ9dC5jb25jYXQoaShuKSk7cmV0dXJuIHR9KSxhPSh0LmdldFRlc3RJRD1lPT57Y29uc3QgdD1bXTtsZXQgbj1lO2Rve3QudW5zaGlmdChuLm5hbWUpfXdoaWxlKG49bi5wYXJlbnQpO3JldHVybiB0LnNoaWZ0KCksdC5qb2luKCIgIil9LGU9PmU/ZS5zdGFjaz9lLnN0YWNrOmUubWVzc2FnZT9lLm1lc3NhZ2U6YCR7U3RyaW5nKGUpfSB0aHJvd25gOiJOTyBFUlJPUiBNRVNTQUdFIE9SIFNUQUNLIFRSQUNFIFNQRUNJRklFRCIpfSkuY2FsbCh0aGlzLG4oMCkpfSwsLCxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxOTUpLG89bigxMjIpO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxvKX19LGZ1bmN0aW9uKGUsdCl7dmFyIG49e30udG9TdHJpbmc7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0hMH0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTIpLmYsbz1uKDI5KSxpPW4oNikoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtlJiYhbyhlPW4/ZTplLnByb3RvdHlwZSxpKSYmcihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMiksbz1uKDIwMCksaT1uKDIwMSksYT1uKDE3KSx1PW4oNzkpLGM9bigxMjYpLHM9e30sZj17fTsodD1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sbCxwKXt2YXIgaCxkLHYsZyx5PXA/ZnVuY3Rpb24oKXtyZXR1cm4gZX06YyhlKSxtPXIobixsLHQ/MjoxKSxiPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaSh5KSl7Zm9yKGg9dShlLmxlbmd0aCk7aD5iO2IrKylpZigoZz10P20oYShkPWVbYl0pWzBdLGRbMV0pOm0oZVtiXSkpPT09c3x8Zz09PWYpcmV0dXJuIGd9ZWxzZSBmb3Iodj15LmNhbGwoZSk7IShkPXYubmV4dCgpKS5kb25lOylpZigoZz1vKHYsbSxkLnZhbHVlLHQpKT09PXN8fGc9PT1mKXJldHVybiBnfSkuQlJFQUs9cyx0LlJFVFVSTj1mfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPWEobigyMTYpKSxvPWEobigyMjIpKSxpPWEobig5KSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHU9big1NSksYz1uKDg3KSxzPW4oODcpLnBsdWdpbnMsZj1zLkFzeW1tZXRyaWNNYXRjaGVyLGw9cy5SZWFjdEVsZW1lbnQscD1zLkhUTUxFbGVtZW50LGg9cy5JbW11dGFibGUsZD1bZixsLHBdLmNvbmNhdChoKSx2PXUuZ3JlZW4sZz11LmJnR3JlZW4seT11LnJlZCxtPXUuYmdSZWQsYj1bInplcm8iLCJvbmUiLCJ0d28iLCJ0aHJlZSIsImZvdXIiLCJmaXZlIiwic2l4Iiwic2V2ZW4iLCJlaWdodCIsIm5pbmUiLCJ0ZW4iLCJlbGV2ZW4iLCJ0d2VsdmUiLCJ0aGlydGVlbiJdLF89ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4idW5kZWZpbmVkIjtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4iYXJyYXkiO2lmKCJib29sZWFuIj09dHlwZW9mIGUpcmV0dXJuImJvb2xlYW4iO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKXJldHVybiJmdW5jdGlvbiI7aWYoIm51bWJlciI9PXR5cGVvZiBlKXJldHVybiJudW1iZXIiO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4ic3RyaW5nIjtpZigib2JqZWN0Ij09PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLGkuZGVmYXVsdCkoZSkpKXJldHVybiBlLmNvbnN0cnVjdG9yPT09UmVnRXhwPyJyZWdleHAiOmUuY29uc3RydWN0b3I9PT1vLmRlZmF1bHQ/Im1hcCI6ZS5jb25zdHJ1Y3Rvcj09PXIuZGVmYXVsdD8ic2V0Ijoib2JqZWN0IjtpZigic3ltYm9sIj09PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLGkuZGVmYXVsdCkoZSkpKXJldHVybiJzeW1ib2wiO3Rocm93IG5ldyBFcnJvcigidmFsdWUgb2YgdW5rbm93biB0eXBlOiAiK2UpfSx3PWZ1bmN0aW9uIGUodCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEwLHI9MWU0LG89dm9pZCAwO3RyeXtvPWModCx7bWF4RGVwdGg6bixtaW46ITAscGx1Z2luczpkfSl9Y2F0Y2goZSl7bz1jKHQse2NhbGxUb0pTT046ITEsbWF4RGVwdGg6bixtaW46ITAscGx1Z2luczpkfSl9cmV0dXJuIG8ubGVuZ3RoPj1yJiZuPjE/ZSh0LE1hdGguZmxvb3Iobi8yKSk6b30seD1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UoL1xzKyQvZ20sdCgiJCYiKSl9LEU9ZnVuY3Rpb24oZSl7cmV0dXJuIHgoeSh3KGUpKSxtKX0saz1mdW5jdGlvbihlKXtyZXR1cm4geCh2KHcoZSkpLGcpfSxNPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1fKHQpO3JldHVybiBlKyI6IisoIm51bGwiIT09ciYmInVuZGVmaW5lZCIhPT1yPyJcbiAgIityKyI6ICI6IiAiKStuKHQpfSxPPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9IlRoaXMgbWF0Y2hlciIpLCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoUygiWy5ub3RdIit0KSsiXG5cblJlY2VpdmVkIHZhbHVlIG11c3QgYmUgYSBudW1iZXIuXG4iK00oIlJlY2VpdmVkIixlLEUpKX0saj1mdW5jdGlvbihlLHQpe2lmKHR8fCh0PSJUaGlzIG1hdGNoZXIiKSwibnVtYmVyIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFMoIlsubm90XSIrdCkrIlxuXG5FeHBlY3RlZCB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyLlxuIitNKCJHb3QiLGUsaykpfSxTPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToicmVjZWl2ZWQiLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiJleHBlY3RlZCIscj1hcmd1bWVudHNbM10sbz1yJiZyLnNlY29uZEFyZ3VtZW50LGk9ciYmci5pc0RpcmVjdEV4cGVjdENhbGw7cmV0dXJuIHUuZGltKCJleHBlY3QiKyhpPyIiOiIoIikpK3kodCkrdS5kaW0oKGk/IiI6IikiKStlKyIoIikrdihuKSsobz8iLCAiK3Yobyk6IiIpK3UuZGltKCIpIil9O2UuZXhwb3J0cz17RVhQRUNURURfQkc6ZyxFWFBFQ1RFRF9DT0xPUjp2LFJFQ0VJVkVEX0JHOm0sUkVDRUlWRURfQ09MT1I6eSxlbnN1cmVBY3R1YWxJc051bWJlcjpPLGVuc3VyZUV4cGVjdGVkSXNOdW1iZXI6aixlbnN1cmVOb0V4cGVjdGVkOmZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9IlRoaXMiKSx2b2lkIDAhPT1lKXRocm93IG5ldyBFcnJvcihTKCJbLm5vdF0iK3Qsdm9pZCAwLCIiKSsiXG5cbk1hdGNoZXIgZG9lcyBub3QgYWNjZXB0IGFueSBhcmd1bWVudHMuXG4iK00oIkdvdCIsZSxrKSl9LGVuc3VyZU51bWJlcnM6ZnVuY3Rpb24oZSx0LG4pe08oZSxuKSxqKHQsbil9LGdldFR5cGU6XyxoaWdobGlnaHRUcmFpbGluZ1doaXRlc3BhY2U6eCxtYXRjaGVySGludDpTLHBsdXJhbGl6ZTpmdW5jdGlvbihlLHQpe3JldHVybihiW3RdfHx0KSsiICIrZSsoMT09PXQ/IiI6InMiKX0scHJpbnRFeHBlY3RlZDprLHByaW50UmVjZWl2ZWQ6RSxwcmludFdpdGhUeXBlOk0sc3RyaW5naWZ5Ond9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyhmdW5jdGlvbih0KXt2YXIgcj1uKDg2KSxvPW4oMzg4KSxpPW4oMzg5KSxhPW4oMzkwKSx1PW4oMzkxKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLHM9IndpbjMyIj09PXQucGxhdGZvcm0mJiEvXnh0ZXJtL2kudGVzdCh0LmVudi5URVJNKTtmdW5jdGlvbiBmKGUpe3RoaXMuZW5hYmxlZD1lJiZ2b2lkIDAhPT1lLmVuYWJsZWQ/ZS5lbmFibGVkOnV9cyYmKG8uYmx1ZS5vcGVuPSIbWzk0bSIpO3ZhciBsLHA9KGw9e30sT2JqZWN0LmtleXMobykuZm9yRWFjaChmdW5jdGlvbihlKXtvW2VdLmNsb3NlUmU9bmV3IFJlZ0V4cChyKG9bZV0uY2xvc2UpLCJnIiksbFtlXT17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzLHRoaXMuX3N0eWxlcy5jb25jYXQoZSkpfX19KSxsKSxoPWMoZnVuY3Rpb24oKXt9LHApO2Z1bmN0aW9uIGQoZSl7dmFyIHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdi5hcHBseSh0LGFyZ3VtZW50cyl9O3JldHVybiB0Ll9zdHlsZXM9ZSx0LmVuYWJsZWQ9dGhpcy5lbmFibGVkLHQuX19wcm90b19fPWgsdH1mdW5jdGlvbiB2KCl7dmFyIGU9YXJndW1lbnRzLHQ9ZS5sZW5ndGgsbj0wIT09dCYmU3RyaW5nKGFyZ3VtZW50c1swXSk7aWYodD4xKWZvcih2YXIgcj0xO3I8dDtyKyspbis9IiAiK2Vbcl07aWYoIXRoaXMuZW5hYmxlZHx8IW4pcmV0dXJuIG47dmFyIGk9dGhpcy5fc3R5bGVzLGE9aS5sZW5ndGgsdT1vLmRpbS5vcGVuO2Zvcighc3x8LTE9PT1pLmluZGV4T2YoImdyYXkiKSYmLTE9PT1pLmluZGV4T2YoImdyZXkiKXx8KG8uZGltLm9wZW49IiIpO2EtLTspe3ZhciBjPW9baVthXV07bj1jLm9wZW4rbi5yZXBsYWNlKGMuY2xvc2VSZSxjLm9wZW4pK2MuY2xvc2V9cmV0dXJuIG8uZGltLm9wZW49dSxufWMoZi5wcm90b3R5cGUsZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gT2JqZWN0LmtleXMocCkuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMsW3RdKX19fSksZX0oKSksZS5leHBvcnRzPW5ldyBmLGUuZXhwb3J0cy5zdHlsZXM9byxlLmV4cG9ydHMuaGFzQ29sb3I9YSxlLmV4cG9ydHMuc3RyaXBDb2xvcj1pLGUuZXhwb3J0cy5zdXBwb3J0c0NvbG9yPXV9KS5jYWxsKHRoaXMsbig0KSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEzOCksbz17fTtmb3IodmFyIGkgaW4gcilyLmhhc093blByb3BlcnR5KGkpJiYob1tyW2ldXT1pKTt2YXIgYT1lLmV4cG9ydHM9e3JnYjp7Y2hhbm5lbHM6MyxsYWJlbHM6InJnYiJ9LGhzbDp7Y2hhbm5lbHM6MyxsYWJlbHM6ImhzbCJ9LGhzdjp7Y2hhbm5lbHM6MyxsYWJlbHM6ImhzdiJ9LGh3Yjp7Y2hhbm5lbHM6MyxsYWJlbHM6Imh3YiJ9LGNteWs6e2NoYW5uZWxzOjQsbGFiZWxzOiJjbXlrIn0seHl6OntjaGFubmVsczozLGxhYmVsczoieHl6In0sbGFiOntjaGFubmVsczozLGxhYmVsczoibGFiIn0sbGNoOntjaGFubmVsczozLGxhYmVsczoibGNoIn0saGV4OntjaGFubmVsczoxLGxhYmVsczpbImhleCJdfSxrZXl3b3JkOntjaGFubmVsczoxLGxhYmVsczpbImtleXdvcmQiXX0sYW5zaTE2OntjaGFubmVsczoxLGxhYmVsczpbImFuc2kxNiJdfSxhbnNpMjU2OntjaGFubmVsczoxLGxhYmVsczpbImFuc2kyNTYiXX0saGNnOntjaGFubmVsczozLGxhYmVsczpbImgiLCJjIiwiZyJdfSxhcHBsZTp7Y2hhbm5lbHM6MyxsYWJlbHM6WyJyMTYiLCJnMTYiLCJiMTYiXX0sZ3JheTp7Y2hhbm5lbHM6MSxsYWJlbHM6WyJncmF5Il19fTtmb3IodmFyIHUgaW4gYSlpZihhLmhhc093blByb3BlcnR5KHUpKXtpZighKCJjaGFubmVscyJpbiBhW3VdKSl0aHJvdyBuZXcgRXJyb3IoIm1pc3NpbmcgY2hhbm5lbHMgcHJvcGVydHk6ICIrdSk7aWYoISgibGFiZWxzImluIGFbdV0pKXRocm93IG5ldyBFcnJvcigibWlzc2luZyBjaGFubmVsIGxhYmVscyBwcm9wZXJ0eTogIit1KTtpZihhW3VdLmxhYmVscy5sZW5ndGghPT1hW3VdLmNoYW5uZWxzKXRocm93IG5ldyBFcnJvcigiY2hhbm5lbCBhbmQgbGFiZWwgY291bnRzIG1pc21hdGNoOiAiK3UpO3ZhciBjPWFbdV0uY2hhbm5lbHMscz1hW3VdLmxhYmVscztkZWxldGUgYVt1XS5jaGFubmVscyxkZWxldGUgYVt1XS5sYWJlbHMsT2JqZWN0LmRlZmluZVByb3BlcnR5KGFbdV0sImNoYW5uZWxzIix7dmFsdWU6Y30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhW3VdLCJsYWJlbHMiLHt2YWx1ZTpzfSl9YS5yZ2IuaHNsPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lWzBdLzI1NSxvPWVbMV0vMjU1LGk9ZVsyXS8yNTUsYT1NYXRoLm1pbihyLG8saSksdT1NYXRoLm1heChyLG8saSksYz11LWE7cmV0dXJuIHU9PT1hP3Q9MDpyPT09dT90PShvLWkpL2M6bz09PXU/dD0yKyhpLXIpL2M6aT09PXUmJih0PTQrKHItbykvYyksKHQ9TWF0aC5taW4oNjAqdCwzNjApKTwwJiYodCs9MzYwKSxuPShhK3UpLzIsW3QsMTAwKih1PT09YT8wOm48PS41P2MvKHUrYSk6Yy8oMi11LWEpKSwxMDAqbl19LGEucmdiLmhzdj1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGE9ZVswXS8yNTUsdT1lWzFdLzI1NSxjPWVbMl0vMjU1LHM9TWF0aC5tYXgoYSx1LGMpLGY9cy1NYXRoLm1pbihhLHUsYyksbD1mdW5jdGlvbihlKXtyZXR1cm4ocy1lKS82L2YrLjV9O3JldHVybiAwPT09Zj9vPWk9MDooaT1mL3MsdD1sKGEpLG49bCh1KSxyPWwoYyksYT09PXM/bz1yLW46dT09PXM/bz0xLzMrdC1yOmM9PT1zJiYobz0yLzMrbi10KSxvPDA/bys9MTpvPjEmJihvLT0xKSksWzM2MCpvLDEwMCppLDEwMCpzXX0sYS5yZ2IuaHdiPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1lWzFdLHI9ZVsyXTtyZXR1cm5bYS5yZ2IuaHNsKGUpWzBdLDEwMCooMS8yNTUqTWF0aC5taW4odCxNYXRoLm1pbihuLHIpKSksMTAwKihyPTEtMS8yNTUqTWF0aC5tYXgodCxNYXRoLm1heChuLHIpKSldfSxhLnJnYi5jbXlrPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZVswXS8yNTUscj1lWzFdLzI1NSxvPWVbMl0vMjU1O3JldHVyblsxMDAqKCgxLW4tKHQ9TWF0aC5taW4oMS1uLDEtciwxLW8pKSkvKDEtdCl8fDApLDEwMCooKDEtci10KS8oMS10KXx8MCksMTAwKigoMS1vLXQpLygxLXQpfHwwKSwxMDAqdF19LGEucmdiLmtleXdvcmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9b1tlXTtpZih0KXJldHVybiB0O3ZhciBuLGksYSx1PTEvMDtmb3IodmFyIGMgaW4gcilpZihyLmhhc093blByb3BlcnR5KGMpKXt2YXIgcz1yW2NdLGY9KGk9ZSxhPXMsTWF0aC5wb3coaVswXS1hWzBdLDIpK01hdGgucG93KGlbMV0tYVsxXSwyKStNYXRoLnBvdyhpWzJdLWFbMl0sMikpO2Y8dSYmKHU9ZixuPWMpfXJldHVybiBufSxhLmtleXdvcmQucmdiPWZ1bmN0aW9uKGUpe3JldHVybiByW2VdfSxhLnJnYi54eXo9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS8yNTUsbj1lWzFdLzI1NSxyPWVbMl0vMjU1O3JldHVyblsxMDAqKC40MTI0Kih0PXQ+LjA0MDQ1P01hdGgucG93KCh0Ky4wNTUpLzEuMDU1LDIuNCk6dC8xMi45MikrLjM1NzYqKG49bj4uMDQwNDU/TWF0aC5wb3coKG4rLjA1NSkvMS4wNTUsMi40KTpuLzEyLjkyKSsuMTgwNSoocj1yPi4wNDA0NT9NYXRoLnBvdygocisuMDU1KS8xLjA1NSwyLjQpOnIvMTIuOTIpKSwxMDAqKC4yMTI2KnQrLjcxNTIqbisuMDcyMipyKSwxMDAqKC4wMTkzKnQrLjExOTIqbisuOTUwNSpyKV19LGEucmdiLmxhYj1mdW5jdGlvbihlKXt2YXIgdD1hLnJnYi54eXooZSksbj10WzBdLHI9dFsxXSxvPXRbMl07cmV0dXJuIHIvPTEwMCxvLz0xMDguODgzLG49KG4vPTk1LjA0Nyk+LjAwODg1Nj9NYXRoLnBvdyhuLDEvMyk6Ny43ODcqbisxNi8xMTYsWzExNioocj1yPi4wMDg4NTY/TWF0aC5wb3cociwxLzMpOjcuNzg3KnIrMTYvMTE2KS0xNiw1MDAqKG4tciksMjAwKihyLShvPW8+LjAwODg1Nj9NYXRoLnBvdyhvLDEvMyk6Ny43ODcqbysxNi8xMTYpKV19LGEuaHNsLnJnYj1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGE9ZVswXS8zNjAsdT1lWzFdLzEwMCxjPWVbMl0vMTAwO2lmKDA9PT11KXJldHVybltpPTI1NSpjLGksaV07dD0yKmMtKG49YzwuNT9jKigxK3UpOmMrdS1jKnUpLG89WzAsMCwwXTtmb3IodmFyIHM9MDtzPDM7cysrKShyPWErMS8zKi0ocy0xKSk8MCYmcisrLHI+MSYmci0tLGk9NipyPDE/dCs2KihuLXQpKnI6MipyPDE/bjozKnI8Mj90KyhuLXQpKigyLzMtcikqNjp0LG9bc109MjU1Kmk7cmV0dXJuIG99LGEuaHNsLmhzdj1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXS8xMDAscj1lWzJdLzEwMCxvPW4saT1NYXRoLm1heChyLC4wMSk7cmV0dXJuIG4qPShyKj0yKTw9MT9yOjItcixvKj1pPD0xP2k6Mi1pLFt0LDEwMCooMD09PXI/MipvLyhpK28pOjIqbi8ocituKSksMTAwKigocituKS8yKV19LGEuaHN2LnJnYj1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLzYwLG49ZVsxXS8xMDAscj1lWzJdLzEwMCxvPU1hdGguZmxvb3IodCklNixpPXQtTWF0aC5mbG9vcih0KSxhPTI1NSpyKigxLW4pLHU9MjU1KnIqKDEtbippKSxjPTI1NSpyKigxLW4qKDEtaSkpO3N3aXRjaChyKj0yNTUsbyl7Y2FzZSAwOnJldHVybltyLGMsYV07Y2FzZSAxOnJldHVyblt1LHIsYV07Y2FzZSAyOnJldHVyblthLHIsY107Y2FzZSAzOnJldHVyblthLHUscl07Y2FzZSA0OnJldHVybltjLGEscl07Y2FzZSA1OnJldHVybltyLGEsdV19fSxhLmhzdi5oc2w9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89ZVswXSxpPWVbMV0vMTAwLGE9ZVsyXS8xMDAsdT1NYXRoLm1heChhLC4wMSk7cmV0dXJuIHI9KDItaSkqYSxuPWkqdSxbbywxMDAqKG49KG4vPSh0PSgyLWkpKnUpPD0xP3Q6Mi10KXx8MCksMTAwKihyLz0yKV19LGEuaHdiLnJnYj1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxjPWVbMF0vMzYwLHM9ZVsxXS8xMDAsZj1lWzJdLzEwMCxsPXMrZjtzd2l0Y2gobD4xJiYocy89bCxmLz1sKSxyPTYqYy0odD1NYXRoLmZsb29yKDYqYykpLDAhPSgxJnQpJiYocj0xLXIpLG89cytyKigobj0xLWYpLXMpLHQpe2RlZmF1bHQ6Y2FzZSA2OmNhc2UgMDppPW4sYT1vLHU9czticmVhaztjYXNlIDE6aT1vLGE9bix1PXM7YnJlYWs7Y2FzZSAyOmk9cyxhPW4sdT1vO2JyZWFrO2Nhc2UgMzppPXMsYT1vLHU9bjticmVhaztjYXNlIDQ6aT1vLGE9cyx1PW47YnJlYWs7Y2FzZSA1Omk9bixhPXMsdT1vfXJldHVyblsyNTUqaSwyNTUqYSwyNTUqdV19LGEuY215ay5yZ2I9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS8xMDAsbj1lWzFdLzEwMCxyPWVbMl0vMTAwLG89ZVszXS8xMDA7cmV0dXJuWzI1NSooMS1NYXRoLm1pbigxLHQqKDEtbykrbykpLDI1NSooMS1NYXRoLm1pbigxLG4qKDEtbykrbykpLDI1NSooMS1NYXRoLm1pbigxLHIqKDEtbykrbykpXX0sYS54eXoucmdiPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWVbMF0vMTAwLGk9ZVsxXS8xMDAsYT1lWzJdLzEwMDtyZXR1cm4gbj0tLjk2ODkqbysxLjg3NTgqaSsuMDQxNSphLHI9LjA1NTcqbystLjIwNCppKzEuMDU3KmEsdD0odD0zLjI0MDYqbystMS41MzcyKmkrLS40OTg2KmEpPi4wMDMxMzA4PzEuMDU1Kk1hdGgucG93KHQsMS8yLjQpLS4wNTU6MTIuOTIqdCxuPW4+LjAwMzEzMDg/MS4wNTUqTWF0aC5wb3cobiwxLzIuNCktLjA1NToxMi45MipuLHI9cj4uMDAzMTMwOD8xLjA1NSpNYXRoLnBvdyhyLDEvMi40KS0uMDU1OjEyLjkyKnIsWzI1NSoodD1NYXRoLm1pbihNYXRoLm1heCgwLHQpLDEpKSwyNTUqKG49TWF0aC5taW4oTWF0aC5tYXgoMCxuKSwxKSksMjU1KihyPU1hdGgubWluKE1hdGgubWF4KDAsciksMSkpXX0sYS54eXoubGFiPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1lWzFdLHI9ZVsyXTtyZXR1cm4gbi89MTAwLHIvPTEwOC44ODMsdD0odC89OTUuMDQ3KT4uMDA4ODU2P01hdGgucG93KHQsMS8zKTo3Ljc4Nyp0KzE2LzExNixbMTE2KihuPW4+LjAwODg1Nj9NYXRoLnBvdyhuLDEvMyk6Ny43ODcqbisxNi8xMTYpLTE2LDUwMCoodC1uKSwyMDAqKG4tKHI9cj4uMDA4ODU2P01hdGgucG93KHIsMS8zKTo3Ljc4NypyKzE2LzExNikpXX0sYS5sYWIueHl6PWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWVbMF07dD1lWzFdLzUwMCsobj0obysxNikvMTE2KSxyPW4tZVsyXS8yMDA7dmFyIGk9TWF0aC5wb3cobiwzKSxhPU1hdGgucG93KHQsMyksdT1NYXRoLnBvdyhyLDMpO3JldHVybiBuPWk+LjAwODg1Nj9pOihuLTE2LzExNikvNy43ODcsdD1hPi4wMDg4NTY/YToodC0xNi8xMTYpLzcuNzg3LHI9dT4uMDA4ODU2P3U6KHItMTYvMTE2KS83Ljc4NyxbdCo9OTUuMDQ3LG4qPTEwMCxyKj0xMDguODgzXX0sYS5sYWIubGNoPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZVswXSxyPWVbMV0sbz1lWzJdO3JldHVybih0PTM2MCpNYXRoLmF0YW4yKG8scikvMi9NYXRoLlBJKTwwJiYodCs9MzYwKSxbbixNYXRoLnNxcnQocipyK28qbyksdF19LGEubGNoLmxhYj1mdW5jdGlvbihlKXt2YXIgdCxuPWVbMF0scj1lWzFdO3JldHVybiB0PWVbMl0vMzYwKjIqTWF0aC5QSSxbbixyKk1hdGguY29zKHQpLHIqTWF0aC5zaW4odCldfSxhLnJnYi5hbnNpMTY9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxuPWVbMV0scj1lWzJdLG89MSBpbiBhcmd1bWVudHM/YXJndW1lbnRzWzFdOmEucmdiLmhzdihlKVsyXTtpZigwPT09KG89TWF0aC5yb3VuZChvLzUwKSkpcmV0dXJuIDMwO3ZhciBpPTMwKyhNYXRoLnJvdW5kKHIvMjU1KTw8MnxNYXRoLnJvdW5kKG4vMjU1KTw8MXxNYXRoLnJvdW5kKHQvMjU1KSk7cmV0dXJuIDI9PT1vJiYoaSs9NjApLGl9LGEuaHN2LmFuc2kxNj1mdW5jdGlvbihlKXtyZXR1cm4gYS5yZ2IuYW5zaTE2KGEuaHN2LnJnYihlKSxlWzJdKX0sYS5yZ2IuYW5zaTI1Nj1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXSxyPWVbMl07cmV0dXJuIHQ9PT1uJiZuPT09cj90PDg/MTY6dD4yNDg/MjMxOk1hdGgucm91bmQoKHQtOCkvMjQ3KjI0KSsyMzI6MTYrMzYqTWF0aC5yb3VuZCh0LzI1NSo1KSs2Kk1hdGgucm91bmQobi8yNTUqNSkrTWF0aC5yb3VuZChyLzI1NSo1KX0sYS5hbnNpMTYucmdiPWZ1bmN0aW9uKGUpe3ZhciB0PWUlMTA7aWYoMD09PXR8fDc9PT10KXJldHVybiBlPjUwJiYodCs9My41KSxbdD10LzEwLjUqMjU1LHQsdF07dmFyIG49LjUqKDErfn4oZT41MCkpO3JldHVyblsoMSZ0KSpuKjI1NSwodD4+MSYxKSpuKjI1NSwodD4+MiYxKSpuKjI1NV19LGEuYW5zaTI1Ni5yZ2I9ZnVuY3Rpb24oZSl7aWYoZT49MjMyKXt2YXIgdD0xMCooZS0yMzIpKzg7cmV0dXJuW3QsdCx0XX12YXIgbjtyZXR1cm4gZS09MTYsW01hdGguZmxvb3IoZS8zNikvNSoyNTUsTWF0aC5mbG9vcigobj1lJTM2KS82KS81KjI1NSxuJTYvNSoyNTVdfSxhLnJnYi5oZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9KCgoMjU1Jk1hdGgucm91bmQoZVswXSkpPDwxNikrKCgyNTUmTWF0aC5yb3VuZChlWzFdKSk8PDgpKygyNTUmTWF0aC5yb3VuZChlWzJdKSkpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO3JldHVybiIwMDAwMDAiLnN1YnN0cmluZyh0Lmxlbmd0aCkrdH0sYS5oZXgucmdiPWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpLm1hdGNoKC9bYS1mMC05XXs2fXxbYS1mMC05XXszfS9pKTtpZighdClyZXR1cm5bMCwwLDBdO3ZhciBuPXRbMF07Mz09PXRbMF0ubGVuZ3RoJiYobj1uLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUrZX0pLmpvaW4oIiIpKTt2YXIgcj1wYXJzZUludChuLDE2KTtyZXR1cm5bcj4+MTYmMjU1LHI+PjgmMjU1LDI1NSZyXX0sYS5yZ2IuaGNnPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZVswXS8yNTUscj1lWzFdLzI1NSxvPWVbMl0vMjU1LGk9TWF0aC5tYXgoTWF0aC5tYXgobixyKSxvKSxhPU1hdGgubWluKE1hdGgubWluKG4sciksbyksdT1pLWE7cmV0dXJuIHQ9dTw9MD8wOmk9PT1uPyhyLW8pL3UlNjppPT09cj8yKyhvLW4pL3U6NCsobi1yKS91KzQsdC89NixbMzYwKih0JT0xKSwxMDAqdSwxMDAqKHU8MT9hLygxLXUpOjApXX0sYS5oc2wuaGNnPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMV0vMTAwLG49ZVsyXS8xMDAscj0xLG89MDtyZXR1cm4ocj1uPC41PzIqdCpuOjIqdCooMS1uKSk8MSYmKG89KG4tLjUqcikvKDEtcikpLFtlWzBdLDEwMCpyLDEwMCpvXX0sYS5oc3YuaGNnPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMV0vMTAwLG49ZVsyXS8xMDAscj10Km4sbz0wO3JldHVybiByPDEmJihvPShuLXIpLygxLXIpKSxbZVswXSwxMDAqciwxMDAqb119LGEuaGNnLnJnYj1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLzM2MCxuPWVbMV0vMTAwLHI9ZVsyXS8xMDA7aWYoMD09PW4pcmV0dXJuWzI1NSpyLDI1NSpyLDI1NSpyXTt2YXIgbyxpPVswLDAsMF0sYT10JTEqNix1PWElMSxjPTEtdTtzd2l0Y2goTWF0aC5mbG9vcihhKSl7Y2FzZSAwOmlbMF09MSxpWzFdPXUsaVsyXT0wO2JyZWFrO2Nhc2UgMTppWzBdPWMsaVsxXT0xLGlbMl09MDticmVhaztjYXNlIDI6aVswXT0wLGlbMV09MSxpWzJdPXU7YnJlYWs7Y2FzZSAzOmlbMF09MCxpWzFdPWMsaVsyXT0xO2JyZWFrO2Nhc2UgNDppWzBdPXUsaVsxXT0wLGlbMl09MTticmVhaztkZWZhdWx0OmlbMF09MSxpWzFdPTAsaVsyXT1jfXJldHVybiBvPSgxLW4pKnIsWzI1NSoobippWzBdK28pLDI1NSoobippWzFdK28pLDI1NSoobippWzJdK28pXX0sYS5oY2cuaHN2PWZ1bmN0aW9uKGUpe3ZhciB0PWVbMV0vMTAwLG49dCtlWzJdLzEwMCooMS10KSxyPTA7cmV0dXJuIG4+MCYmKHI9dC9uKSxbZVswXSwxMDAqciwxMDAqbl19LGEuaGNnLmhzbD1mdW5jdGlvbihlKXt2YXIgdD1lWzFdLzEwMCxuPWVbMl0vMTAwKigxLXQpKy41KnQscj0wO3JldHVybiBuPjAmJm48LjU/cj10LygyKm4pOm4+PS41JiZuPDEmJihyPXQvKDIqKDEtbikpKSxbZVswXSwxMDAqciwxMDAqbl19LGEuaGNnLmh3Yj1mdW5jdGlvbihlKXt2YXIgdD1lWzFdLzEwMCxuPXQrZVsyXS8xMDAqKDEtdCk7cmV0dXJuW2VbMF0sMTAwKihuLXQpLDEwMCooMS1uKV19LGEuaHdiLmhjZz1mdW5jdGlvbihlKXt2YXIgdD1lWzFdLzEwMCxuPTEtZVsyXS8xMDAscj1uLXQsbz0wO3JldHVybiByPDEmJihvPShuLXIpLygxLXIpKSxbZVswXSwxMDAqciwxMDAqb119LGEuYXBwbGUucmdiPWZ1bmN0aW9uKGUpe3JldHVybltlWzBdLzY1NTM1KjI1NSxlWzFdLzY1NTM1KjI1NSxlWzJdLzY1NTM1KjI1NV19LGEucmdiLmFwcGxlPWZ1bmN0aW9uKGUpe3JldHVybltlWzBdLzI1NSo2NTUzNSxlWzFdLzI1NSo2NTUzNSxlWzJdLzI1NSo2NTUzNV19LGEuZ3JheS5yZ2I9ZnVuY3Rpb24oZSl7cmV0dXJuW2VbMF0vMTAwKjI1NSxlWzBdLzEwMCoyNTUsZVswXS8xMDAqMjU1XX0sYS5ncmF5LmhzbD1hLmdyYXkuaHN2PWZ1bmN0aW9uKGUpe3JldHVyblswLDAsZVswXV19LGEuZ3JheS5od2I9ZnVuY3Rpb24oZSl7cmV0dXJuWzAsMTAwLGVbMF1dfSxhLmdyYXkuY215az1mdW5jdGlvbihlKXtyZXR1cm5bMCwwLDAsZVswXV19LGEuZ3JheS5sYWI9ZnVuY3Rpb24oZSl7cmV0dXJuW2VbMF0sMCwwXX0sYS5ncmF5LmhleD1mdW5jdGlvbihlKXt2YXIgdD0yNTUmTWF0aC5yb3VuZChlWzBdLzEwMCoyNTUpLG49KCh0PDwxNikrKHQ8PDgpK3QpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO3JldHVybiIwMDAwMDAiLnN1YnN0cmluZyhuLmxlbmd0aCkrbn0sYS5yZ2IuZ3JheT1mdW5jdGlvbihlKXtyZXR1cm5bKGVbMF0rZVsxXStlWzJdKS8zLzI1NSoxMDBdfX0sZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXtmdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgbz1lW3JdOyIuIj09PW8/ZS5zcGxpY2UociwxKToiLi4iPT09bz8oZS5zcGxpY2UociwxKSxuKyspOm4mJihlLnNwbGljZShyLDEpLG4tLSl9aWYodClmb3IoO24tLTtuKWUudW5zaGlmdCgiLi4iKTtyZXR1cm4gZX1mdW5jdGlvbiByKGUsdCl7aWYoZS5maWx0ZXIpcmV0dXJuIGUuZmlsdGVyKHQpO2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspdChlW3JdLHIsZSkmJm4ucHVzaChlW3JdKTtyZXR1cm4gbn10LnJlc29sdmU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9IiIsbz0hMSxpPWFyZ3VtZW50cy5sZW5ndGgtMTtpPj0tMSYmIW87aS0tKXt2YXIgYT1pPj0wP2FyZ3VtZW50c1tpXTplLmN3ZCgpO2lmKCJzdHJpbmciIT10eXBlb2YgYSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncyIpO2EmJih0PWErIi8iK3Qsbz0iLyI9PT1hLmNoYXJBdCgwKSl9cmV0dXJuKG8/Ii8iOiIiKSsodD1uKHIodC5zcGxpdCgiLyIpLGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pLCFvKS5qb2luKCIvIikpfHwiLiJ9LHQubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3ZhciBpPXQuaXNBYnNvbHV0ZShlKSxhPSIvIj09PW8oZSwtMSk7cmV0dXJuKGU9bihyKGUuc3BsaXQoIi8iKSxmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSwhaSkuam9pbigiLyIpKXx8aXx8KGU9Ii4iKSxlJiZhJiYoZSs9Ii8iKSwoaT8iLyI6IiIpK2V9LHQuaXNBYnNvbHV0ZT1mdW5jdGlvbihlKXtyZXR1cm4iLyI9PT1lLmNoYXJBdCgwKX0sdC5qb2luPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiB0Lm5vcm1hbGl6ZShyKGUsZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MiKTtyZXR1cm4gZX0pLmpvaW4oIi8iKSl9LHQucmVsYXRpdmU9ZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiByKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGgmJiIiPT09ZVt0XTt0KyspO2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTAmJiIiPT09ZVtuXTtuLS0pO3JldHVybiB0Pm4/W106ZS5zbGljZSh0LG4tdCsxKX1lPXQucmVzb2x2ZShlKS5zdWJzdHIoMSksbj10LnJlc29sdmUobikuc3Vic3RyKDEpO2Zvcih2YXIgbz1yKGUuc3BsaXQoIi8iKSksaT1yKG4uc3BsaXQoIi8iKSksYT1NYXRoLm1pbihvLmxlbmd0aCxpLmxlbmd0aCksdT1hLGM9MDtjPGE7YysrKWlmKG9bY10hPT1pW2NdKXt1PWM7YnJlYWt9dmFyIHM9W107Zm9yKGM9dTtjPG8ubGVuZ3RoO2MrKylzLnB1c2goIi4uIik7cmV0dXJuKHM9cy5jb25jYXQoaS5zbGljZSh1KSkpLmpvaW4oIi8iKX0sdC5zZXA9Ii8iLHQuZGVsaW1pdGVyPSI6Iix0LmRpcm5hbWU9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlJiYoZSs9IiIpLDA9PT1lLmxlbmd0aClyZXR1cm4iLiI7Zm9yKHZhciB0PWUuY2hhckNvZGVBdCgwKSxuPTQ3PT09dCxyPS0xLG89ITAsaT1lLmxlbmd0aC0xO2k+PTE7LS1pKWlmKDQ3PT09KHQ9ZS5jaGFyQ29kZUF0KGkpKSl7aWYoIW8pe3I9aTticmVha319ZWxzZSBvPSExO3JldHVybi0xPT09cj9uPyIvIjoiLiI6biYmMT09PXI/Ii8iOmUuc2xpY2UoMCxyKX0sdC5iYXNlbmFtZT1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUpeyJzdHJpbmciIT10eXBlb2YgZSYmKGUrPSIiKTt2YXIgdCxuPTAscj0tMSxvPSEwO2Zvcih0PWUubGVuZ3RoLTE7dD49MDstLXQpaWYoNDc9PT1lLmNoYXJDb2RlQXQodCkpe2lmKCFvKXtuPXQrMTticmVha319ZWxzZS0xPT09ciYmKG89ITEscj10KzEpO3JldHVybi0xPT09cj8iIjplLnNsaWNlKG4scil9KGUpO3JldHVybiB0JiZuLnN1YnN0cigtMSp0Lmxlbmd0aCk9PT10JiYobj1uLnN1YnN0cigwLG4ubGVuZ3RoLXQubGVuZ3RoKSksbn0sdC5leHRuYW1lPWZ1bmN0aW9uKGUpeyJzdHJpbmciIT10eXBlb2YgZSYmKGUrPSIiKTtmb3IodmFyIHQ9LTEsbj0wLHI9LTEsbz0hMCxpPTAsYT1lLmxlbmd0aC0xO2E+PTA7LS1hKXt2YXIgdT1lLmNoYXJDb2RlQXQoYSk7aWYoNDchPT11KS0xPT09ciYmKG89ITEscj1hKzEpLDQ2PT09dT8tMT09PXQ/dD1hOjEhPT1pJiYoaT0xKTotMSE9PXQmJihpPS0xKTtlbHNlIGlmKCFvKXtuPWErMTticmVha319cmV0dXJuLTE9PT10fHwtMT09PXJ8fDA9PT1pfHwxPT09aSYmdD09PXItMSYmdD09PW4rMT8iIjplLnNsaWNlKHQscil9O3ZhciBvPSJiIj09PSJhYiIuc3Vic3RyKC0xKT9mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuc3Vic3RyKHQsbil9OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdDwwJiYodD1lLmxlbmd0aCt0KSxlLnN1YnN0cih0LG4pfX0pLmNhbGwodGhpcyxuKDQpKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1pKG4oODUpKSxvPWkobig5KSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmcygiRnVuY3Rpb24iLGUuYXN5bW1ldHJpY01hdGNoKX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpYyhlLG4pJiZ0LnB1c2gobik7cmV0dXJuIHR9KGUpO2lmKCF0KXJldHVybiBuO3ZhciByPVtdO2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gbjtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyluW29dLm1hdGNoKC9eWzAtOV0rJC8pfHxyLnB1c2gobltvXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmdm9pZCAwIT09ZVt0XX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodCk9PT0iW29iamVjdCAiK2UrIl0ifWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGUubm9kZVR5cGU+MH1lLmV4cG9ydHM9e2VxdWFsczpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uIGUodCxuLHIsaSxzKXt2YXIgbD0hMCxwPWZ1bmN0aW9uKGUsdCl7dmFyIG49YShlKSxyPWEodCk7aWYoIW58fCFyKXJldHVybiBuP2UuYXN5bW1ldHJpY01hdGNoKHQpOnI/dC5hc3ltbWV0cmljTWF0Y2goZSk6dm9pZCAwfSh0LG4pO2lmKHZvaWQgMCE9PXApcmV0dXJuIHA7Zm9yKHZhciBoPTA7aDxzLmxlbmd0aDtoKyspe3ZhciBkPXNbaF0odCxuKTtpZih2b2lkIDAhPT1kKXJldHVybiBkfWlmKHQgaW5zdGFuY2VvZiBFcnJvciYmbiBpbnN0YW5jZW9mIEVycm9yKXJldHVybiB0Lm1lc3NhZ2U9PW4ubWVzc2FnZTtpZih0PT09bilyZXR1cm4gMCE9PXR8fDEvdD09MS9uO2lmKG51bGw9PT10fHxudWxsPT09bilyZXR1cm4gdD09PW47dmFyIHY9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpO2lmKHYhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKSlyZXR1cm4hMTtzd2l0Y2godil7Y2FzZSJbb2JqZWN0IFN0cmluZ10iOnJldHVybiB0PT1TdHJpbmcobik7Y2FzZSJbb2JqZWN0IE51bWJlcl0iOnJldHVybiB0IT0rdD9uIT0rbjowPT09dD8xL3Q9PTEvbjp0PT0rbjtjYXNlIltvYmplY3QgRGF0ZV0iOmNhc2UiW29iamVjdCBCb29sZWFuXSI6cmV0dXJuK3Q9PStuO2Nhc2UiW29iamVjdCBSZWdFeHBdIjpyZXR1cm4gdC5zb3VyY2U9PW4uc291cmNlJiZ0Lmdsb2JhbD09bi5nbG9iYWwmJnQubXVsdGlsaW5lPT1uLm11bHRpbGluZSYmdC5pZ25vcmVDYXNlPT1uLmlnbm9yZUNhc2V9aWYoIm9iamVjdCIhPSh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOigwLG8uZGVmYXVsdCkodCkpfHwib2JqZWN0IiE9KHZvaWQgMD09PW4/InVuZGVmaW5lZCI6KDAsby5kZWZhdWx0KShuKSkpcmV0dXJuITE7dmFyIGc9Zih0KSx5PWYobik7aWYoZyYmeSl7aWYodC5pc0VxdWFsTm9kZSlyZXR1cm4gdC5pc0VxdWFsTm9kZShuKTt2YXIgbT10IGluc3RhbmNlb2YgRWxlbWVudCxiPW4gaW5zdGFuY2VvZiBFbGVtZW50O3JldHVybiBtJiZiP3Qub3V0ZXJIVE1MPT1uLm91dGVySFRNTDohbSYmIWImJnQuaW5uZXJUZXh0PT1uLmlubmVyVGV4dCYmdC50ZXh0Q29udGVudD09bi50ZXh0Q29udGVudH1pZihnfHx5KXJldHVybiExO2Zvcih2YXIgXz1yLmxlbmd0aDtfLS07KWlmKHJbX109PXQpcmV0dXJuIGlbX109PW47ci5wdXNoKHQpLGkucHVzaChuKTt2YXIgdz0wO2lmKCJbb2JqZWN0IEFycmF5XSI9PXYpe2lmKCh3PXQubGVuZ3RoKSE9PW4ubGVuZ3RoKXJldHVybiExO2Zvcig7dy0tOylpZighKGw9ZSh0W3ddLG5bd10scixpLHMpKSlyZXR1cm4hMX12YXIgeCxFPXUodCwiW29iamVjdCBBcnJheV0iPT12KTtpZih3PUUubGVuZ3RoLHUobiwiW29iamVjdCBBcnJheV0iPT12KS5sZW5ndGghPT13KXJldHVybiExO2Zvcig7dy0tOylpZih4PUVbd10sIShsPWMobix4KSYmZSh0W3hdLG5beF0scixpLHMpKSlyZXR1cm4hMTtyZXR1cm4gci5wb3AoKSxpLnBvcCgpLGx9KGUsdCxbXSxbXSxuPW58fFtdKX0sZm5OYW1lRm9yOmZ1bmN0aW9uKGUpe2lmKGUubmFtZSlyZXR1cm4gZS5uYW1lO3ZhciB0PWUudG9TdHJpbmcoKS5tYXRjaCgvXlxzKmZ1bmN0aW9uXHMqKFx3KilccypcKC8pO3JldHVybiB0P3RbMV06Ijxhbm9ueW1vdXM+In0saGFzUHJvcGVydHk6ZnVuY3Rpb24gZSh0LG4pe3JldHVybiEhdCYmKCEhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbil8fGUoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZGVmYXVsdD8oMCxyLmRlZmF1bHQpKGUpOmUuY29uc3RydWN0b3IucHJvdG90eXBlPT1lP251bGw6ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGV9KHQpLG4pKX0saXNBOnMsaXNVbmRlZmluZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV9fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuYWRkRXZlbnRIYW5kbGVyPXQuZGlzcGF0Y2g9dC5zZXRTdGF0ZT10LmdldFN0YXRlPXQuUk9PVF9ERVNDUklCRV9CTE9DS19OQU1FPXZvaWQgMDt2YXIgcj1uKDQzKSxvPWEobigxNDIpKSxpPWEobigxNDMpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1jb25zdCB1PVtvLmRlZmF1bHQsaS5kZWZhdWx0XSxjPXQuUk9PVF9ERVNDUklCRV9CTE9DS19OQU1FPSJST09UX0RFU0NSSUJFX0JMT0NLIixzPVN5bWJvbCgiSkVTVF9TVEFURV9TWU1CT0wiKSxmPSgwLHIubWFrZURlc2NyaWJlKShjKSxsPXtjdXJyZW50RGVzY3JpYmVCbG9jazpmLGV4cGFuZDp2b2lkIDAsaGFzRm9jdXNlZFRlc3RzOiExLHJvb3REZXNjcmliZUJsb2NrOmYsdGVzdFRpbWVvdXQ6NWUzfTtlW3NdPWw7Y29uc3QgcD10LmdldFN0YXRlPSgpPT5lW3NdO3Quc2V0U3RhdGU9dD0+ZVtzXT10LHQuZGlzcGF0Y2g9ZT0+e2Zvcihjb25zdCB0IG9mIHUpdChlLHAoKSl9LHQuYWRkRXZlbnRIYW5kbGVyPWU9Pnt1LnB1c2goZSl9fSkuY2FsbCh0aGlzLG4oMCkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1lPT57aWYodm9pZCAwPT09ZSlyZXR1cm4idW5kZWZpbmVkIjtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4iYXJyYXkiO2lmKCJib29sZWFuIj09dHlwZW9mIGUpcmV0dXJuImJvb2xlYW4iO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKXJldHVybiJmdW5jdGlvbiI7aWYoIm51bWJlciI9PXR5cGVvZiBlKXJldHVybiJudW1iZXIiO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4ic3RyaW5nIjtpZigib2JqZWN0Ij09dHlwZW9mIGUpcmV0dXJuIGUuY29uc3RydWN0b3I9PT1SZWdFeHA/InJlZ2V4cCI6ZS5jb25zdHJ1Y3Rvcj09PU1hcD8ibWFwIjplLmNvbnN0cnVjdG9yPT09U2V0PyJzZXQiOmUuY29uc3RydWN0b3I9PT1EYXRlPyJkYXRlIjoib2JqZWN0IjtpZigic3ltYm9sIj09dHlwZW9mIGUpcmV0dXJuInN5bWJvbCI7dGhyb3cgbmV3IEVycm9yKGB2YWx1ZSBvZiB1bmtub3duIHR5cGU6ICR7ZX1gKX19LGZ1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwiZGVmYXVsdCIpP2UuZGVmYXVsdDplfWZ1bmN0aW9uIG4oZSx0KXtyZXR1cm4gZSh0PXtleHBvcnRzOnt9fSx0LmV4cG9ydHMpLHQuZXhwb3J0c312YXIgcj1uKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz10KX0pLG89bihmdW5jdGlvbihlKXt2YXIgdD1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS4zIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9dCl9KSxpPShvLnZlcnNpb24sZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX0pLGE9ZnVuY3Rpb24oZSx0LG4pe2lmKGkoZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZS5jYWxsKHQsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gZS5jYWxsKHQsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsbyl7cmV0dXJuIGUuY2FsbCh0LG4scixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX0sdT1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9LGM9ZnVuY3Rpb24oZSl7aWYoIXUoZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfSxzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19LGY9IXMoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pLGw9ci5kb2N1bWVudCxwPXUobCkmJnUobC5jcmVhdGVFbGVtZW50KSxoPWZ1bmN0aW9uKGUpe3JldHVybiBwP2wuY3JlYXRlRWxlbWVudChlKTp7fX0sZD0hZiYmIXMoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGgoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pLHY9ZnVuY3Rpb24oZSx0KXtpZighdShlKSlyZXR1cm4gZTt2YXIgbixyO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhdShyPW4uY2FsbChlKSkpcmV0dXJuIHI7aWYoImZ1bmN0aW9uIj09dHlwZW9mKG49ZS52YWx1ZU9mKSYmIXUocj1uLmNhbGwoZSkpKXJldHVybiByO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnRvU3RyaW5nKSYmIXUocj1uLmNhbGwoZSkpKXJldHVybiByO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9LGc9T2JqZWN0LmRlZmluZVByb3BlcnR5LHk9e2Y6Zj9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LG4pe2lmKGMoZSksdD12KHQsITApLGMobiksZCl0cnl7cmV0dXJuIGcoZSx0LG4pfWNhdGNoKGUpe31pZigiZ2V0ImluIG58fCJzZXQiaW4gbil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiBuJiYoZVt0XT1uLnZhbHVlKSxlfX0sbT1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX0sYj1mP2Z1bmN0aW9uKGUsdCxuKXtyZXR1cm4geS5mKGUsdCxtKDEsbikpfTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bixlfSxfPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSx1LGMscz1lJl8uRixmPWUmXy5HLGw9ZSZfLlMscD1lJl8uUCxoPWUmXy5CLGQ9ZSZfLlcsdj1mP286b1t0XXx8KG9bdF09e30pLGc9di5wcm90b3R5cGUseT1mP3I6bD9yW3RdOihyW3RdfHx7fSkucHJvdG90eXBlO2ZvcihpIGluIGYmJihuPXQpLG4pKHU9IXMmJnkmJnZvaWQgMCE9PXlbaV0pJiZpIGluIHZ8fChjPXU/eVtpXTpuW2ldLHZbaV09ZiYmImZ1bmN0aW9uIiE9dHlwZW9mIHlbaV0/bltpXTpoJiZ1P2EoYyxyKTpkJiZ5W2ldPT1jP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQsbixyKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQsbil9cmV0dXJuIG5ldyBlKHQsbixyKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fShjKTpwJiYiZnVuY3Rpb24iPT10eXBlb2YgYz9hKEZ1bmN0aW9uLmNhbGwsYyk6YyxwJiYoKHYudmlydHVhbHx8KHYudmlydHVhbD17fSkpW2ldPWMsZSZfLlImJmcmJiFnW2ldJiZiKGcsaSxjKSkpfTtfLkY9MSxfLkc9MixfLlM9NCxfLlA9OCxfLkI9MTYsXy5XPTMyLF8uVT02NCxfLlI9MTI4O3ZhciB3LHg9XyxFPXt9Lmhhc093blByb3BlcnR5LGs9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRS5jYWxsKGUsdCl9LE09e30udG9TdHJpbmcsTz1mdW5jdGlvbihlKXtyZXR1cm4gTS5jYWxsKGUpLnNsaWNlKDgsLTEpfSxqPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09TyhlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9LFM9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfSxBPWZ1bmN0aW9uKGUpe3JldHVybiBqKFMoZSkpfSxUPU1hdGguY2VpbCxDPU1hdGguZmxvb3IsUD1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP0M6VCkoZSl9LFI9TWF0aC5taW4sTD1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP1IoUChlKSw5MDA3MTk5MjU0NzQwOTkxKTowfSxOPU1hdGgubWF4LEI9TWF0aC5taW4sRj1yWyJfX2NvcmUtanNfc2hhcmVkX18iXXx8KHJbIl9fY29yZS1qc19zaGFyZWRfXyJdPXt9KSxJPWZ1bmN0aW9uKGUpe3JldHVybiBGW2VdfHwoRltlXT17fSl9LEQ9MCwkPU1hdGgucmFuZG9tKCksRz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK0QrJCkudG9TdHJpbmcoMzYpKX0sVz1JKCJrZXlzIikscT1mdW5jdGlvbihlKXtyZXR1cm4gV1tlXXx8KFdbZV09RyhlKSl9LFU9KHc9ITEsZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89QShlKSxpPUwoby5sZW5ndGgpLGE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT1QKGUpKTwwP04oZSt0LDApOkIoZSx0KX0obixpKTtpZih3JiZ0IT10KXtmb3IoO2k+YTspaWYoKHI9b1thKytdKSE9cilyZXR1cm4hMH1lbHNlIGZvcig7aT5hO2ErKylpZigod3x8YSBpbiBvKSYmb1thXT09PXQpcmV0dXJuIHd8fGF8fDA7cmV0dXJuIXcmJi0xfSksej1xKCJJRV9QUk9UTyIpLEg9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPUEoZSksbz0wLGk9W107Zm9yKG4gaW4gciluIT16JiZrKHIsbikmJmkucHVzaChuKTtmb3IoO3QubGVuZ3RoPm87KWsocixuPXRbbysrXSkmJih+VShpLG4pfHxpLnB1c2gobikpO3JldHVybiBpfSxWPSJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YiLnNwbGl0KCIsIiksSj1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIEgoZSxWKX0sSz1mP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7YyhlKTtmb3IodmFyIG4scj1KKHQpLG89ci5sZW5ndGgsaT0wO28+aTspeS5mKGUsbj1yW2krK10sdFtuXSk7cmV0dXJuIGV9LFk9ci5kb2N1bWVudCxYPVkmJlkuZG9jdW1lbnRFbGVtZW50LFo9cSgiSUVfUFJPVE8iKSxRPWZ1bmN0aW9uKCl7fSxlZT1mdW5jdGlvbigpe3ZhciBlLHQ9aCgiaWZyYW1lIiksbj1WLmxlbmd0aDtmb3IodC5zdHlsZS5kaXNwbGF5PSJub25lIixYLmFwcGVuZENoaWxkKHQpLHQuc3JjPSJqYXZhc2NyaXB0OiIsKGU9dC5jb250ZW50V2luZG93LmRvY3VtZW50KS5vcGVuKCksZS53cml0ZSgiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDxcL3NjcmlwdD4iKSxlLmNsb3NlKCksZWU9ZS5GO24tLTspZGVsZXRlIGVlLnByb3RvdHlwZVtWW25dXTtyZXR1cm4gZWUoKX0sdGU9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbnVsbCE9PWU/KFEucHJvdG90eXBlPWMoZSksbj1uZXcgUSxRLnByb3RvdHlwZT1udWxsLG5bWl09ZSk6bj1lZSgpLHZvaWQgMD09PXQ/bjpLKG4sdCl9O3goeC5TLCJPYmplY3QiLHtjcmVhdGU6dGV9KTt2YXIgbmU9by5PYmplY3QscmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmUuY3JlYXRlKGUsdCl9LG9lPW4oZnVuY3Rpb24oZSl7ZS5leHBvcnRzPXtkZWZhdWx0OnJlLF9fZXNNb2R1bGU6ITB9fSksaWU9dChvZSksYWU9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChTKGUpKX0sdWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHI9e307cltlXT10KG4pLHgoeC5TK3guRipzKGZ1bmN0aW9uKCl7bigxKX0pLCJPYmplY3QiLHIpfTt1ZSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIEooYWUoZSkpfX0pO3ZhciBjZT1vLk9iamVjdC5rZXlzLHNlPXQobihmdW5jdGlvbihlKXtlLmV4cG9ydHM9e2RlZmF1bHQ6Y2UsX19lc01vZHVsZTohMH19KSksZmU9YixsZT17fSxwZT1uKGZ1bmN0aW9uKGUpe3ZhciB0PUkoIndrcyIpLG49ci5TeW1ib2wsbz0iZnVuY3Rpb24iPT10eXBlb2YgbixpPWUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdFtlXXx8KHRbZV09byYmbltlXXx8KG8/bjpHKSgiU3ltYm9sLiIrZSkpfTtpLnN0b3JlPXR9KSxoZT15LmYsZGU9cGUoInRvU3RyaW5nVGFnIiksdmU9ZnVuY3Rpb24oZSx0LG4pe2UmJiFrKGU9bj9lOmUucHJvdG90eXBlLGRlKSYmaGUoZSxkZSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX0sZ2U9e307YihnZSxwZSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSk7dmFyIHllLG1lPWZ1bmN0aW9uKGUsdCxuKXtlLnByb3RvdHlwZT10ZShnZSx7bmV4dDptKDEsbil9KSx2ZShlLHQrIiBJdGVyYXRvciIpfSxiZT1xKCJJRV9QUk9UTyIpLF9lPU9iamVjdC5wcm90b3R5cGUsd2U9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1hZShlKSxrKGUsYmUpP2VbYmVdOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P19lOm51bGx9LHhlPXBlKCJpdGVyYXRvciIpLEVlPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGtlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LE1lPWZ1bmN0aW9uKGUsdCxuLHIsbyxpLGEpe21lKG4sdCxyKTt2YXIgdSxjLHMsZj1mdW5jdGlvbihlKXtpZighRWUmJmUgaW4gZClyZXR1cm4gZFtlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLGUpfX0sbD10KyIgSXRlcmF0b3IiLHA9InZhbHVlcyI9PW8saD0hMSxkPWUucHJvdG90eXBlLHY9ZFt4ZV18fGRbIkBAaXRlcmF0b3IiXXx8byYmZFtvXSxnPSFFZSYmdnx8ZihvKSx5PW8/cD9mKCJlbnRyaWVzIik6Zzp2b2lkIDAsbT0iQXJyYXkiPT10JiZkLmVudHJpZXN8fHY7aWYobSYmKHM9d2UobS5jYWxsKG5ldyBlKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmcy5uZXh0JiZ2ZShzLGwsITApLHAmJnYmJiJ2YWx1ZXMiIT09di5uYW1lJiYoaD0hMCxnPWZ1bmN0aW9uKCl7cmV0dXJuIHYuY2FsbCh0aGlzKX0pLGEmJihFZXx8aHx8IWRbeGVdKSYmYihkLHhlLGcpLGxlW3RdPWcsbGVbbF09a2UsbylpZih1PXt2YWx1ZXM6cD9nOmYoInZhbHVlcyIpLGtleXM6aT9nOmYoImtleXMiKSxlbnRyaWVzOnl9LGEpZm9yKGMgaW4gdSljIGluIGR8fGZlKGQsYyx1W2NdKTtlbHNlIHgoeC5QK3guRiooRWV8fGgpLHQsdSk7cmV0dXJuIHV9LE9lPSh5ZT0hMCxmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1TdHJpbmcoUyhlKSksaT1QKHQpLGE9by5sZW5ndGg7cmV0dXJuIGk8MHx8aT49YT95ZT8iIjp2b2lkIDA6KG49by5jaGFyQ29kZUF0KGkpKTw1NTI5Nnx8bj41NjMxOXx8aSsxPT09YXx8KHI9by5jaGFyQ29kZUF0KGkrMSkpPDU2MzIwfHxyPjU3MzQzP3llP28uY2hhckF0KGkpOm46eWU/by5zbGljZShpLGkrMik6ci01NjMyMCsobi01NTI5Njw8MTApKzY1NTM2fSk7TWUoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qsbj10aGlzLl9pO3JldHVybiBuPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPU9lKHQsbiksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSk7dmFyIGplPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fTtNZShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1BKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2ssbj10aGlzLl9pKys7cmV0dXJuIWV8fG4+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxqZSgxKSk6amUoMCwia2V5cyI9PXQ/bjoidmFsdWVzIj09dD9lW25dOltuLGVbbl1dKX0sInZhbHVlcyIpLGxlLkFyZ3VtZW50cz1sZS5BcnJheTtmb3IodmFyIFNlPXBlKCJ0b1N0cmluZ1RhZyIpLEFlPSJDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LERPTVRva2VuTGlzdCxEYXRhVHJhbnNmZXJJdGVtTGlzdCxGaWxlTGlzdCxIVE1MQWxsQ29sbGVjdGlvbixIVE1MQ29sbGVjdGlvbixIVE1MRm9ybUVsZW1lbnQsSFRNTFNlbGVjdEVsZW1lbnQsTWVkaWFMaXN0LE1pbWVUeXBlQXJyYXksTmFtZWROb2RlTWFwLE5vZGVMaXN0LFBhaW50UmVxdWVzdExpc3QsUGx1Z2luLFBsdWdpbkFycmF5LFNWR0xlbmd0aExpc3QsU1ZHTnVtYmVyTGlzdCxTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCxUZXh0VHJhY2tMaXN0LFRvdWNoTGlzdCIuc3BsaXQoIiwiKSxUZT0wO1RlPEFlLmxlbmd0aDtUZSsrKXt2YXIgQ2U9QWVbVGVdLFBlPXJbQ2VdLFJlPVBlJiZQZS5wcm90b3R5cGU7UmUmJiFSZVtTZV0mJmIoUmUsU2UsQ2UpLGxlW0NlXT1sZS5BcnJheX12YXIgTGU9e2Y6cGV9LE5lPUxlLmYoIml0ZXJhdG9yIiksQmU9bihmdW5jdGlvbihlKXtlLmV4cG9ydHM9e2RlZmF1bHQ6TmUsX19lc01vZHVsZTohMH19KTt0KEJlKTt2YXIgRmU9bihmdW5jdGlvbihlKXt2YXIgdD1HKCJtZXRhIiksbj15LmYscj0wLG89T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0saT0hcyhmdW5jdGlvbigpe3JldHVybiBvKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksYT1mdW5jdGlvbihlKXtuKGUsdCx7dmFsdWU6e2k6Ik8iKyArK3Isdzp7fX19KX0sYz1lLmV4cG9ydHM9e0tFWTp0LE5FRUQ6ITEsZmFzdEtleTpmdW5jdGlvbihlLG4pe2lmKCF1KGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighayhlLHQpKXtpZighbyhlKSlyZXR1cm4iRiI7aWYoIW4pcmV0dXJuIkUiO2EoZSl9cmV0dXJuIGVbdF0uaX0sZ2V0V2VhazpmdW5jdGlvbihlLG4pe2lmKCFrKGUsdCkpe2lmKCFvKGUpKXJldHVybiEwO2lmKCFuKXJldHVybiExO2EoZSl9cmV0dXJuIGVbdF0ud30sb25GcmVlemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkmJmMuTkVFRCYmbyhlKSYmIWsoZSx0KSYmYShlKSxlfX19KSxJZT0oRmUuS0VZLEZlLk5FRUQsRmUuZmFzdEtleSxGZS5nZXRXZWFrLEZlLm9uRnJlZXplLHkuZiksRGU9ZnVuY3Rpb24oZSl7dmFyIHQ9by5TeW1ib2x8fChvLlN5bWJvbD17fSk7Il8iPT1lLmNoYXJBdCgwKXx8ZSBpbiB0fHxJZSh0LGUse3ZhbHVlOkxlLmYoZSl9KX0sJGU9e2Y6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sR2U9e2Y6e30ucHJvcGVydHlJc0VudW1lcmFibGV9LFdlPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PU8oZSl9LHFlPVYuY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKSxVZT17ZjpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIEgoZSxxZSl9fSx6ZT1VZS5mLEhlPXt9LnRvU3RyaW5nLFZlPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sSmU9e2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIFZlJiYiW29iamVjdCBXaW5kb3ddIj09SGUuY2FsbChlKT9mdW5jdGlvbihlKXt0cnl7cmV0dXJuIHplKGUpfWNhdGNoKGUpe3JldHVybiBWZS5zbGljZSgpfX0oZSk6emUoQShlKSl9fSxLZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFllPXtmOmY/S2U6ZnVuY3Rpb24oZSx0KXtpZihlPUEoZSksdD12KHQsITApLGQpdHJ5e3JldHVybiBLZShlLHQpfWNhdGNoKGUpe31pZihrKGUsdCkpcmV0dXJuIG0oIUdlLmYuY2FsbChlLHQpLGVbdF0pfX0sWGU9RmUuS0VZLFplPVllLmYsUWU9eS5mLGV0PUplLmYsdHQ9ci5TeW1ib2wsbnQ9ci5KU09OLHJ0PW50JiZudC5zdHJpbmdpZnksb3Q9cGUoIl9oaWRkZW4iKSxpdD1wZSgidG9QcmltaXRpdmUiKSxhdD17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSx1dD1JKCJzeW1ib2wtcmVnaXN0cnkiKSxjdD1JKCJzeW1ib2xzIiksc3Q9SSgib3Atc3ltYm9scyIpLGZ0PU9iamVjdC5wcm90b3R5cGUsbHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHR0LHB0PXIuUU9iamVjdCxodD0hcHR8fCFwdC5wcm90b3R5cGV8fCFwdC5wcm90b3R5cGUuZmluZENoaWxkLGR0PWYmJnMoZnVuY3Rpb24oKXtyZXR1cm4gNyE9dGUoUWUoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUWUodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVplKGZ0LHQpO3ImJmRlbGV0ZSBmdFt0XSxRZShlLHQsbiksciYmZSE9PWZ0JiZRZShmdCx0LHIpfTpRZSx2dD1mdW5jdGlvbihlKXt2YXIgdD1jdFtlXT10ZSh0dC5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUsdH0sZ3Q9bHQmJiJzeW1ib2wiPT10eXBlb2YgdHQuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR0fSx5dD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9PT1mdCYmeXQoc3QsdCxuKSxjKGUpLHQ9dih0LCEwKSxjKG4pLGsoY3QsdCk/KG4uZW51bWVyYWJsZT8oayhlLG90KSYmZVtvdF1bdF0mJihlW290XVt0XT0hMSksbj10ZShuLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGsoZSxvdCl8fFFlKGUsb3QsbSgxLHt9KSksZVtvdF1bdF09ITApLGR0KGUsdCxuKSk6UWUoZSx0LG4pfSxtdD1mdW5jdGlvbihlLHQpe2MoZSk7Zm9yKHZhciBuLHI9ZnVuY3Rpb24oZSl7dmFyIHQ9SihlKSxuPSRlLmY7aWYobilmb3IodmFyIHIsbz1uKGUpLGk9R2UuZixhPTA7by5sZW5ndGg+YTspaS5jYWxsKGUscj1vW2ErK10pJiZ0LnB1c2gocik7cmV0dXJuIHR9KHQ9QSh0KSksbz0wLGk9ci5sZW5ndGg7aT5vOyl5dChlLG49cltvKytdLHRbbl0pO3JldHVybiBlfSxidD1mdW5jdGlvbihlKXt2YXIgdD1hdC5jYWxsKHRoaXMsZT12KGUsITApKTtyZXR1cm4hKHRoaXM9PT1mdCYmayhjdCxlKSYmIWsoc3QsZSkpJiYoISh0fHwhayh0aGlzLGUpfHwhayhjdCxlKXx8ayh0aGlzLG90KSYmdGhpc1tvdF1bZV0pfHx0KX0sX3Q9ZnVuY3Rpb24oZSx0KXtpZihlPUEoZSksdD12KHQsITApLGUhPT1mdHx8IWsoY3QsdCl8fGsoc3QsdCkpe3ZhciBuPVplKGUsdCk7cmV0dXJuIW58fCFrKGN0LHQpfHxrKGUsb3QpJiZlW290XVt0XXx8KG4uZW51bWVyYWJsZT0hMCksbn19LHd0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWV0KEEoZSkpLHI9W10sbz0wO24ubGVuZ3RoPm87KWsoY3QsdD1uW28rK10pfHx0PT1vdHx8dD09WGV8fHIucHVzaCh0KTtyZXR1cm4gcn0seHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49ZT09PWZ0LHI9ZXQobj9zdDpBKGUpKSxvPVtdLGk9MDtyLmxlbmd0aD5pOykhayhjdCx0PXJbaSsrXSl8fG4mJiFrKGZ0LHQpfHxvLnB1c2goY3RbdF0pO3JldHVybiBvfTtsdHx8KGZlKCh0dD1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiB0dCl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEiKTt2YXIgZT1HKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSx0PWZ1bmN0aW9uKG4pe3RoaXM9PT1mdCYmdC5jYWxsKHN0LG4pLGsodGhpcyxvdCkmJmsodGhpc1tvdF0sZSkmJih0aGlzW290XVtlXT0hMSksZHQodGhpcyxlLG0oMSxuKSl9O3JldHVybiBmJiZodCYmZHQoZnQsZSx7Y29uZmlndXJhYmxlOiEwLHNldDp0fSksdnQoZSl9KS5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksWWUuZj1fdCx5LmY9eXQsVWUuZj1KZS5mPXd0LEdlLmY9YnQsJGUuZj14dCxMZS5mPWZ1bmN0aW9uKGUpe3JldHVybiB2dChwZShlKSl9KSx4KHguRyt4LlcreC5GKiFsdCx7U3ltYm9sOnR0fSk7Zm9yKHZhciBFdD0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIiksa3Q9MDtFdC5sZW5ndGg+a3Q7KXBlKEV0W2t0KytdKTtmb3IodmFyIE10PUoocGUuc3RvcmUpLE90PTA7TXQubGVuZ3RoPk90OylEZShNdFtPdCsrXSk7eCh4LlMreC5GKiFsdCwiU3ltYm9sIix7Zm9yOmZ1bmN0aW9uKGUpe3JldHVybiBrKHV0LGUrPSIiKT91dFtlXTp1dFtlXT10dChlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFndChlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKTtmb3IodmFyIHQgaW4gdXQpaWYodXRbdF09PT1lKXJldHVybiB0fSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtodD0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7aHQ9ITF9fSkseCh4LlMreC5GKiFsdCwiT2JqZWN0Iix7Y3JlYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGUoZSk6bXQodGUoZSksdCl9LGRlZmluZVByb3BlcnR5Onl0LGRlZmluZVByb3BlcnRpZXM6bXQsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOl90LGdldE93blByb3BlcnR5TmFtZXM6d3QsZ2V0T3duUHJvcGVydHlTeW1ib2xzOnh0fSksbnQmJngoeC5TK3guRiooIWx0fHxzKGZ1bmN0aW9uKCl7dmFyIGU9dHQoKTtyZXR1cm4iW251bGxdIiE9cnQoW2VdKXx8Int9IiE9cnQoe2E6ZX0pfHwie30iIT1ydChPYmplY3QoZSkpfSkpLCJKU09OIix7c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHI9W2VdLG89MTthcmd1bWVudHMubGVuZ3RoPm87KXIucHVzaChhcmd1bWVudHNbbysrXSk7aWYobj10PXJbMV0sKHUodCl8fHZvaWQgMCE9PWUpJiYhZ3QoZSkpcmV0dXJuIFdlKHQpfHwodD1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuJiYodD1uLmNhbGwodGhpcyxlLHQpKSwhZ3QodCkpcmV0dXJuIHR9KSxyWzFdPXQscnQuYXBwbHkobnQscil9fSksdHQucHJvdG90eXBlW2l0XXx8Yih0dC5wcm90b3R5cGUsaXQsdHQucHJvdG90eXBlLnZhbHVlT2YpLHZlKHR0LCJTeW1ib2wiKSx2ZShNYXRoLCJNYXRoIiwhMCksdmUoci5KU09OLCJKU09OIiwhMCksRGUoImFzeW5jSXRlcmF0b3IiKSxEZSgib2JzZXJ2YWJsZSIpO3ZhciBqdD1vLlN5bWJvbCxTdD1uKGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz17ZGVmYXVsdDpqdCxfX2VzTW9kdWxlOiEwfX0pLEF0PXQoU3QpLFR0PW4oZnVuY3Rpb24oZSx0KXt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49aShCZSkscj1pKFN0KSxvPSJmdW5jdGlvbiI9PXR5cGVvZiByLmRlZmF1bHQmJiJzeW1ib2wiPT10eXBlb2Ygbi5kZWZhdWx0P2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiByLmRlZmF1bHQmJmUuY29uc3RydWN0b3I9PT1yLmRlZmF1bHQmJmUhPT1yLmRlZmF1bHQucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10LmRlZmF1bHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHIuZGVmYXVsdCYmInN5bWJvbCI9PT1vKG4uZGVmYXVsdCk/ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/InVuZGVmaW5lZCI6byhlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiByLmRlZmF1bHQmJmUuY29uc3RydWN0b3I9PT1yLmRlZmF1bHQmJmUhPT1yLmRlZmF1bHQucHJvdG90eXBlPyJzeW1ib2wiOnZvaWQgMD09PWU/InVuZGVmaW5lZCI6byhlKX19KSxDdD10KFR0KSxQdD1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PTEvdDplIT1lJiZ0IT10fTt4KHguUywiT2JqZWN0Iix7aXM6UHR9KTt2YXIgUnQ9by5PYmplY3QuaXMsTHQ9dChuKGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz17ZGVmYXVsdDpSdCxfX2VzTW9kdWxlOiEwfX0pKTt1ZSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB3ZShhZShlKSl9fSk7dmFyIE50PW8uT2JqZWN0LmdldFByb3RvdHlwZU9mLEJ0PXQobihmdW5jdGlvbihlKXtlLmV4cG9ydHM9e2RlZmF1bHQ6TnQsX19lc01vZHVsZTohMH19KSksRnQ9dChuKGZ1bmN0aW9uKGUsdCl7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0pKSxJdD10KG4oZnVuY3Rpb24oZSx0KXt0Ll9fZXNNb2R1bGU9ITA7dmFyIG4scj0obj1UdCkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O3QuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT09KHZvaWQgMD09PXQ/InVuZGVmaW5lZCI6KDAsci5kZWZhdWx0KSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19KSksRHQ9ZnVuY3Rpb24oZSx0KXtpZihjKGUpLCF1KHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfSwkdD17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHQsbil7dHJ5eyhuPWEoRnVuY3Rpb24uY2FsbCxZZS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSkoZSxbXSksdD0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goZSl7dD0hMH1yZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gRHQoZSxyKSx0P2UuX19wcm90b19fPXI6bihlLHIpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpEdH07eCh4LlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOiR0LnNldH0pO3ZhciBHdD1vLk9iamVjdC5zZXRQcm90b3R5cGVPZixXdD1uKGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz17ZGVmYXVsdDpHdCxfX2VzTW9kdWxlOiEwfX0pO3QoV3QpO3ZhciBxdD10KG4oZnVuY3Rpb24oZSx0KXt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49aShXdCkscj1pKG9lKSxvPWkoVHQpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrKHZvaWQgMD09PXQ/InVuZGVmaW5lZCI6KDAsby5kZWZhdWx0KSh0KSkpO2UucHJvdG90eXBlPSgwLHIuZGVmYXVsdCkodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihuLmRlZmF1bHQ/KDAsbi5kZWZhdWx0KShlLHQpOmUuX19wcm90b19fPXQpfX0pKTt4KHguUyt4LkYqIWYsIk9iamVjdCIse2RlZmluZVByb3BlcnR5OnkuZn0pO3ZhciBVdCx6dD1vLk9iamVjdCxIdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHp0LmRlZmluZVByb3BlcnR5KGUsdCxuKX0sVnQ9dChuKGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz17ZGVmYXVsdDpIdCxfX2VzTW9kdWxlOiEwfX0pKSxKdD1wZSgidG9TdHJpbmdUYWciKSxLdD0iQXJndW1lbnRzIj09TyhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLFl0PWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihuPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKGUpe319KHQ9T2JqZWN0KGUpLEp0KSk/bjpLdD9PKHQpOiJPYmplY3QiPT0ocj1PKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnJ9LFh0PXBlKCJpdGVyYXRvciIpLFp0PW8uZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVtYdF18fGVbIkBAaXRlcmF0b3IiXXx8bGVbWXQoZSldfSxRdD1vLmdldEl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3ZhciB0PVp0KGUpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO3JldHVybiBjKHQuY2FsbChlKSl9LGVuPXQobihmdW5jdGlvbihlKXtlLmV4cG9ydHM9e2RlZmF1bHQ6UXQsX19lc01vZHVsZTohMH19KSksdG49ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgciBpbiB0KW4mJmVbcl0/ZVtyXT10W3JdOmIoZSxyLHRbcl0pO3JldHVybiBlfSxubj1mdW5jdGlvbihlLHQsbixyKXtpZighKGUgaW5zdGFuY2VvZiB0KXx8dm9pZCAwIT09ciYmciBpbiBlKXRocm93IFR5cGVFcnJvcihuKyI6IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiBlfSxybj1mdW5jdGlvbihlLHQsbixyKXt0cnl7cmV0dXJuIHI/dChjKG4pWzBdLG5bMV0pOnQobil9Y2F0Y2godCl7dmFyIG89ZS5yZXR1cm47dGhyb3cgdm9pZCAwIT09byYmYyhvLmNhbGwoZSkpLHR9fSxvbj1wZSgiaXRlcmF0b3IiKSxhbj1BcnJheS5wcm90b3R5cGUsdW49bihmdW5jdGlvbihlKXt2YXIgdD17fSxuPXt9LHI9ZS5leHBvcnRzPWZ1bmN0aW9uKGUscixvLGksdSl7dmFyIHMsZixsLHAsaCxkPXU/ZnVuY3Rpb24oKXtyZXR1cm4gZX06WnQoZSksdj1hKG8saSxyPzI6MSksZz0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBkKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKHZvaWQgMD09PShoPWQpfHxsZS5BcnJheSE9PWgmJmFuW29uXSE9PWgpe2ZvcihsPWQuY2FsbChlKTshKGY9bC5uZXh0KCkpLmRvbmU7KWlmKChwPXJuKGwsdixmLnZhbHVlLHIpKT09PXR8fHA9PT1uKXJldHVybiBwfWVsc2UgZm9yKHM9TChlLmxlbmd0aCk7cz5nO2crKylpZigocD1yP3YoYyhmPWVbZ10pWzBdLGZbMV0pOnYoZVtnXSkpPT09dHx8cD09PW4pcmV0dXJuIHB9O3IuQlJFQUs9dCxyLlJFVFVSTj1ufSksY249cGUoInNwZWNpZXMiKSxzbj1mdW5jdGlvbihlLHQpe2lmKCF1KGUpfHxlLl90IT09dCl0aHJvdyBUeXBlRXJyb3IoIkluY29tcGF0aWJsZSByZWNlaXZlciwgIit0KyIgcmVxdWlyZWQhIik7cmV0dXJuIGV9LGZuPXkuZixsbj1GZS5mYXN0S2V5LHBuPWY/Il9zIjoic2l6ZSIsaG49ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWxuKHQpO2lmKCJGIiE9PXIpcmV0dXJuIGUuX2lbcl07Zm9yKG49ZS5fZjtuO249bi5uKWlmKG4uaz09dClyZXR1cm4gbn0sZG49e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWUoZnVuY3Rpb24oZSxpKXtubihlLG8sdCwiX2kiKSxlLl90PXQsZS5faT10ZShudWxsKSxlLl9mPXZvaWQgMCxlLl9sPXZvaWQgMCxlW3BuXT0wLG51bGwhPWkmJnVuKGksbixlW3JdLGUpfSk7cmV0dXJuIHRuKG8ucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1zbih0aGlzLHQpLG49ZS5faSxyPWUuX2Y7cjtyPXIubilyLnI9ITAsci5wJiYoci5wPXIucC5uPXZvaWQgMCksZGVsZXRlIG5bci5pXTtlLl9mPWUuX2w9dm9pZCAwLGVbcG5dPTB9LGRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgbj1zbih0aGlzLHQpLHI9aG4obixlKTtpZihyKXt2YXIgbz1yLm4saT1yLnA7ZGVsZXRlIG4uX2lbci5pXSxyLnI9ITAsaSYmKGkubj1vKSxvJiYoby5wPWkpLG4uX2Y9PXImJihuLl9mPW8pLG4uX2w9PXImJihuLl9sPWkpLG5bcG5dLS19cmV0dXJuISFyfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe3NuKHRoaXMsdCk7Zm9yKHZhciBuLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO249bj9uLm46dGhpcy5fZjspZm9yKHIobi52LG4uayx0aGlzKTtuJiZuLnI7KW49bi5wfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFobihzbih0aGlzLHQpLGUpfX0pLGYmJmZuKG8ucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHNuKHRoaXMsdClbcG5dfX0pLG99LGRlZjpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPWhuKGUsdCk7cmV0dXJuIGk/aS52PW46KGUuX2w9aT17aTpvPWxuKHQsITApLGs6dCx2Om4scDpyPWUuX2wsbjp2b2lkIDAscjohMX0sZS5fZnx8KGUuX2Y9aSksciYmKHIubj1pKSxlW3BuXSsrLCJGIiE9PW8mJihlLl9pW29dPWkpKSxlfSxnZXRFbnRyeTpobixzZXRTdHJvbmc6ZnVuY3Rpb24oZSx0LG4pe01lKGUsdCxmdW5jdGlvbihlLG4pe3RoaXMuX3Q9c24oZSx0KSx0aGlzLl9rPW4sdGhpcy5fbD12b2lkIDB9LGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2ssdD10aGlzLl9sO3QmJnQucjspdD10LnA7cmV0dXJuIHRoaXMuX3QmJih0aGlzLl9sPXQ9dD90Lm46dGhpcy5fdC5fZik/amUoMCwia2V5cyI9PWU/dC5rOiJ2YWx1ZXMiPT1lP3QudjpbdC5rLHQudl0pOih0aGlzLl90PXZvaWQgMCxqZSgxKSl9LG4/ImVudHJpZXMiOiJ2YWx1ZXMiLCFuLCEwKSxmdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2Ygb1tlXT9vW2VdOnJbZV07ZiYmdCYmIXRbY25dJiZ5LmYodCxjbix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfSh0KX19LHZuPXBlKCJzcGVjaWVzIiksZ249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3KGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBXZShlKSYmKCJmdW5jdGlvbiIhPXR5cGVvZih0PWUuY29uc3RydWN0b3IpfHx0IT09QXJyYXkmJiFXZSh0LnByb3RvdHlwZSl8fCh0PXZvaWQgMCksdSh0KSYmbnVsbD09PSh0PXRbdm5dKSYmKHQ9dm9pZCAwKSksdm9pZCAwPT09dD9BcnJheTp0fShlKSkodCl9LHluPXkuZixtbj1mdW5jdGlvbihlLHQpe3ZhciBuPTE9PWUscj0yPT1lLG89Mz09ZSxpPTQ9PWUsdT02PT1lLGM9NT09ZXx8dSxzPXR8fGduO3JldHVybiBmdW5jdGlvbih0LGYsbCl7Zm9yKHZhciBwLGgsZD1hZSh0KSx2PWooZCksZz1hKGYsbCwzKSx5PUwodi5sZW5ndGgpLG09MCxiPW4/cyh0LHkpOnI/cyh0LDApOnZvaWQgMDt5Pm07bSsrKWlmKChjfHxtIGluIHYpJiYocD12W21dLGg9ZyhwLG0sZCksZSkpaWYobiliW21dPWg7ZWxzZSBpZihoKXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBwO2Nhc2UgNjpyZXR1cm4gbTtjYXNlIDI6Yi5wdXNoKHApfWVsc2UgaWYoaSlyZXR1cm4hMTtyZXR1cm4gdT8tMTpvfHxpP2k6Yn19KDApOyFmdW5jdGlvbihlLHQsbixvLGksYSl7dmFyIGM9cltlXSxsPWMscD1pPyJzZXQiOiJhZGQiLGg9bCYmbC5wcm90b3R5cGUsZD17fTtmJiYiZnVuY3Rpb24iPT10eXBlb2YgbCYmKGF8fGguZm9yRWFjaCYmIXMoZnVuY3Rpb24oKXsobmV3IGwpLmVudHJpZXMoKS5uZXh0KCl9KSk/KGw9dChmdW5jdGlvbih0LG4pe25uKHQsbCxlLCJfYyIpLHQuX2M9bmV3IGMsbnVsbCE9biYmdW4obixpLHRbcF0sdCl9KSxtbigiYWRkLGNsZWFyLGRlbGV0ZSxmb3JFYWNoLGdldCxoYXMsc2V0LGtleXMsdmFsdWVzLGVudHJpZXMsdG9KU09OIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0PSJhZGQiPT1lfHwic2V0Ij09ZTtlIGluIGgmJighYXx8ImNsZWFyIiE9ZSkmJmIobC5wcm90b3R5cGUsZSxmdW5jdGlvbihuLHIpe2lmKG5uKHRoaXMsbCxlKSwhdCYmYSYmIXUobikpcmV0dXJuImdldCI9PWUmJnZvaWQgMDt2YXIgbz10aGlzLl9jW2VdKDA9PT1uPzA6bixyKTtyZXR1cm4gdD90aGlzOm99KX0pLGF8fHluKGwucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Muc2l6ZX19KSk6KGw9by5nZXRDb25zdHJ1Y3Rvcih0LGUsaSxwKSx0bihsLnByb3RvdHlwZSxuKSxGZS5ORUVEPSEwKSx2ZShsLGUpLGRbZV09bCx4KHguRyt4LlcreC5GLGQpLGF8fG8uc2V0U3Ryb25nKGwsZSxpKX0oIk1hcCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSx7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWRuLmdldEVudHJ5KHNuKHRoaXMsIk1hcCIpLGUpO3JldHVybiB0JiZ0LnZ9LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiBkbi5kZWYoc24odGhpcywiTWFwIiksMD09PWU/MDplLHQpfX0sZG4sITApLHgoeC5QK3guUiwiTWFwIix7dG9KU09OOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2lmKFl0KHRoaXMpIT1lKXRocm93IFR5cGVFcnJvcihlKyIjdG9KU09OIGlzbid0IGdlbmVyaWMiKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtyZXR1cm4gdW4oZSwhMSxuLnB1c2gsbix0KSxufSh0aGlzKX19KCJNYXAiKX0pLFV0PSJNYXAiLHgoeC5TLFV0LHtvZjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpO2UtLTspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyB0aGlzKHQpfX0pLGZ1bmN0aW9uKGUpe3goeC5TLGUse2Zyb206ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8sdT1hcmd1bWVudHNbMV07cmV0dXJuIGkodGhpcyksKHQ9dm9pZCAwIT09dSkmJmkodSksbnVsbD09ZT9uZXcgdGhpczoobj1bXSx0PyhyPTAsbz1hKHUsYXJndW1lbnRzWzJdLDIpLHVuKGUsITEsZnVuY3Rpb24oZSl7bi5wdXNoKG8oZSxyKyspKX0pKTp1bihlLCExLG4ucHVzaCxuKSxuZXcgdGhpcyhuKSl9fSl9KCJNYXAiKTt2YXIgYm49by5NYXAsX249dChuKGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz17ZGVmYXVsdDpibixfX2VzTW9kdWxlOiEwfX0pKSx3bj17YWxpY2VibHVlOlsyNDAsMjQ4LDI1NV0sYW50aXF1ZXdoaXRlOlsyNTAsMjM1LDIxNV0sYXF1YTpbMCwyNTUsMjU1XSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMl0sYXp1cmU6WzI0MCwyNTUsMjU1XSxiZWlnZTpbMjQ1LDI0NSwyMjBdLGJpc3F1ZTpbMjU1LDIyOCwxOTZdLGJsYWNrOlswLDAsMF0sYmxhbmNoZWRhbG1vbmQ6WzI1NSwyMzUsMjA1XSxibHVlOlswLDAsMjU1XSxibHVldmlvbGV0OlsxMzgsNDMsMjI2XSxicm93bjpbMTY1LDQyLDQyXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1XSxjYWRldGJsdWU6Wzk1LDE1OCwxNjBdLGNoYXJ0cmV1c2U6WzEyNywyNTUsMF0sY2hvY29sYXRlOlsyMTAsMTA1LDMwXSxjb3JhbDpbMjU1LDEyNyw4MF0sY29ybmZsb3dlcmJsdWU6WzEwMCwxNDksMjM3XSxjb3Juc2lsazpbMjU1LDI0OCwyMjBdLGNyaW1zb246WzIyMCwyMCw2MF0sY3lhbjpbMCwyNTUsMjU1XSxkYXJrYmx1ZTpbMCwwLDEzOV0sZGFya2N5YW46WzAsMTM5LDEzOV0sZGFya2dvbGRlbnJvZDpbMTg0LDEzNCwxMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5XSxkYXJrZ3JlZW46WzAsMTAwLDBdLGRhcmtncmV5OlsxNjksMTY5LDE2OV0sZGFya2toYWtpOlsxODksMTgzLDEwN10sZGFya21hZ2VudGE6WzEzOSwwLDEzOV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0N10sZGFya29yYW5nZTpbMjU1LDE0MCwwXSxkYXJrb3JjaGlkOlsxNTMsNTAsMjA0XSxkYXJrcmVkOlsxMzksMCwwXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMl0sZGFya3NlYWdyZWVuOlsxNDMsMTg4LDE0M10sZGFya3NsYXRlYmx1ZTpbNzIsNjEsMTM5XSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OV0sZGFya3NsYXRlZ3JleTpbNDcsNzksNzldLGRhcmt0dXJxdW9pc2U6WzAsMjA2LDIwOV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExXSxkZWVwcGluazpbMjU1LDIwLDE0N10sZGVlcHNreWJsdWU6WzAsMTkxLDI1NV0sZGltZ3JheTpbMTA1LDEwNSwxMDVdLGRpbWdyZXk6WzEwNSwxMDUsMTA1XSxkb2RnZXJibHVlOlszMCwxNDQsMjU1XSxmaXJlYnJpY2s6WzE3OCwzNCwzNF0sZmxvcmFsd2hpdGU6WzI1NSwyNTAsMjQwXSxmb3Jlc3RncmVlbjpbMzQsMTM5LDM0XSxmdWNoc2lhOlsyNTUsMCwyNTVdLGdhaW5zYm9ybzpbMjIwLDIyMCwyMjBdLGdob3N0d2hpdGU6WzI0OCwyNDgsMjU1XSxnb2xkOlsyNTUsMjE1LDBdLGdvbGRlbnJvZDpbMjE4LDE2NSwzMl0sZ3JheTpbMTI4LDEyOCwxMjhdLGdyZWVuOlswLDEyOCwwXSxncmVlbnllbGxvdzpbMTczLDI1NSw0N10sZ3JleTpbMTI4LDEyOCwxMjhdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MF0saG90cGluazpbMjU1LDEwNSwxODBdLGluZGlhbnJlZDpbMjA1LDkyLDkyXSxpbmRpZ286Wzc1LDAsMTMwXSxpdm9yeTpbMjU1LDI1NSwyNDBdLGtoYWtpOlsyNDAsMjMwLDE0MF0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwXSxsYXZlbmRlcmJsdXNoOlsyNTUsMjQwLDI0NV0sbGF3bmdyZWVuOlsxMjQsMjUyLDBdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDVdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzBdLGxpZ2h0Y29yYWw6WzI0MCwxMjgsMTI4XSxsaWdodGN5YW46WzIyNCwyNTUsMjU1XSxsaWdodGdvbGRlbnJvZHllbGxvdzpbMjUwLDI1MCwyMTBdLGxpZ2h0Z3JheTpbMjExLDIxMSwyMTFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0XSxsaWdodGdyZXk6WzIxMSwyMTEsMjExXSxsaWdodHBpbms6WzI1NSwxODIsMTkzXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjJdLGxpZ2h0c2VhZ3JlZW46WzMyLDE3OCwxNzBdLGxpZ2h0c2t5Ymx1ZTpbMTM1LDIwNiwyNTBdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1M10sbGlnaHRzbGF0ZWdyZXk6WzExOSwxMzYsMTUzXSxsaWdodHN0ZWVsYmx1ZTpbMTc2LDE5NiwyMjJdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNF0sbGltZTpbMCwyNTUsMF0sbGltZWdyZWVuOls1MCwyMDUsNTBdLGxpbmVuOlsyNTAsMjQwLDIzMF0sbWFnZW50YTpbMjU1LDAsMjU1XSxtYXJvb246WzEyOCwwLDBdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwXSxtZWRpdW1ibHVlOlswLDAsMjA1XSxtZWRpdW1vcmNoaWQ6WzE4Niw4NSwyMTFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTldLG1lZGl1bXNlYWdyZWVuOls2MCwxNzksMTEzXSxtZWRpdW1zbGF0ZWJsdWU6WzEyMywxMDQsMjM4XSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0XSxtZWRpdW10dXJxdW9pc2U6WzcyLDIwOSwyMDRdLG1lZGl1bXZpb2xldHJlZDpbMTk5LDIxLDEzM10sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTJdLG1pbnRjcmVhbTpbMjQ1LDI1NSwyNTBdLG1pc3R5cm9zZTpbMjU1LDIyOCwyMjVdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MV0sbmF2YWpvd2hpdGU6WzI1NSwyMjIsMTczXSxuYXZ5OlswLDAsMTI4XSxvbGRsYWNlOlsyNTMsMjQ1LDIzMF0sb2xpdmU6WzEyOCwxMjgsMF0sb2xpdmVkcmFiOlsxMDcsMTQyLDM1XSxvcmFuZ2U6WzI1NSwxNjUsMF0sb3JhbmdlcmVkOlsyNTUsNjksMF0sb3JjaGlkOlsyMTgsMTEyLDIxNF0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzBdLHBhbGVncmVlbjpbMTUyLDI1MSwxNTJdLHBhbGV0dXJxdW9pc2U6WzE3NSwyMzgsMjM4XSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0N10scGFwYXlhd2hpcDpbMjU1LDIzOSwyMTNdLHBlYWNocHVmZjpbMjU1LDIxOCwxODVdLHBlcnU6WzIwNSwxMzMsNjNdLHBpbms6WzI1NSwxOTIsMjAzXSxwbHVtOlsyMjEsMTYwLDIyMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzBdLHB1cnBsZTpbMTI4LDAsMTI4XSxyZWJlY2NhcHVycGxlOlsxMDIsNTEsMTUzXSxyZWQ6WzI1NSwwLDBdLHJvc3licm93bjpbMTg4LDE0MywxNDNdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOV0sc2FsbW9uOlsyNTAsMTI4LDExNF0sc2FuZHlicm93bjpbMjQ0LDE2NCw5Nl0sc2VhZ3JlZW46WzQ2LDEzOSw4N10sc2Vhc2hlbGw6WzI1NSwyNDUsMjM4XSxzaWVubmE6WzE2MCw4Miw0NV0sc2lsdmVyOlsxOTIsMTkyLDE5Ml0sc2t5Ymx1ZTpbMTM1LDIwNiwyMzVdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NF0sc2xhdGVncmV5OlsxMTIsMTI4LDE0NF0sc25vdzpbMjU1LDI1MCwyNTBdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjddLHN0ZWVsYmx1ZTpbNzAsMTMwLDE4MF0sdGFuOlsyMTAsMTgwLDE0MF0sdGVhbDpbMCwxMjgsMTI4XSx0aGlzdGxlOlsyMTYsMTkxLDIxNl0sdG9tYXRvOlsyNTUsOTksNzFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOF0sdmlvbGV0OlsyMzgsMTMwLDIzOF0sd2hlYXQ6WzI0NSwyMjIsMTc5XSx3aGl0ZTpbMjU1LDI1NSwyNTVdLHdoaXRlc21va2U6WzI0NSwyNDUsMjQ1XSx5ZWxsb3c6WzI1NSwyNTUsMF0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTBdfSx4bj1uKGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiB3bil3bi5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbd25bbl1dPW4pO3ZhciByPWUuZXhwb3J0cz17cmdiOntjaGFubmVsczozLGxhYmVsczoicmdiIn0saHNsOntjaGFubmVsczozLGxhYmVsczoiaHNsIn0saHN2OntjaGFubmVsczozLGxhYmVsczoiaHN2In0saHdiOntjaGFubmVsczozLGxhYmVsczoiaHdiIn0sY215azp7Y2hhbm5lbHM6NCxsYWJlbHM6ImNteWsifSx4eXo6e2NoYW5uZWxzOjMsbGFiZWxzOiJ4eXoifSxsYWI6e2NoYW5uZWxzOjMsbGFiZWxzOiJsYWIifSxsY2g6e2NoYW5uZWxzOjMsbGFiZWxzOiJsY2gifSxoZXg6e2NoYW5uZWxzOjEsbGFiZWxzOlsiaGV4Il19LGtleXdvcmQ6e2NoYW5uZWxzOjEsbGFiZWxzOlsia2V5d29yZCJdfSxhbnNpMTY6e2NoYW5uZWxzOjEsbGFiZWxzOlsiYW5zaTE2Il19LGFuc2kyNTY6e2NoYW5uZWxzOjEsbGFiZWxzOlsiYW5zaTI1NiJdfSxoY2c6e2NoYW5uZWxzOjMsbGFiZWxzOlsiaCIsImMiLCJnIl19LGFwcGxlOntjaGFubmVsczozLGxhYmVsczpbInIxNiIsImcxNiIsImIxNiJdfSxncmF5OntjaGFubmVsczoxLGxhYmVsczpbImdyYXkiXX19O2Zvcih2YXIgbyBpbiByKWlmKHIuaGFzT3duUHJvcGVydHkobykpe2lmKCEoImNoYW5uZWxzImluIHJbb10pKXRocm93IG5ldyBFcnJvcigibWlzc2luZyBjaGFubmVscyBwcm9wZXJ0eTogIitvKTtpZighKCJsYWJlbHMiaW4gcltvXSkpdGhyb3cgbmV3IEVycm9yKCJtaXNzaW5nIGNoYW5uZWwgbGFiZWxzIHByb3BlcnR5OiAiK28pO2lmKHJbb10ubGFiZWxzLmxlbmd0aCE9PXJbb10uY2hhbm5lbHMpdGhyb3cgbmV3IEVycm9yKCJjaGFubmVsIGFuZCBsYWJlbCBjb3VudHMgbWlzbWF0Y2g6ICIrbyk7dmFyIGk9cltvXS5jaGFubmVscyxhPXJbb10ubGFiZWxzO2RlbGV0ZSByW29dLmNoYW5uZWxzLGRlbGV0ZSByW29dLmxhYmVscyxPYmplY3QuZGVmaW5lUHJvcGVydHkocltvXSwiY2hhbm5lbHMiLHt2YWx1ZTppfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHJbb10sImxhYmVscyIse3ZhbHVlOmF9KX1yLnJnYi5oc2w9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWVbMF0vMjU1LG89ZVsxXS8yNTUsaT1lWzJdLzI1NSxhPU1hdGgubWluKHIsbyxpKSx1PU1hdGgubWF4KHIsbyxpKSxjPXUtYTtyZXR1cm4gdT09PWE/dD0wOnI9PT11P3Q9KG8taSkvYzpvPT09dT90PTIrKGktcikvYzppPT09dSYmKHQ9NCsoci1vKS9jKSwodD1NYXRoLm1pbig2MCp0LDM2MCkpPDAmJih0Kz0zNjApLG49KGErdSkvMixbdCwxMDAqKHU9PT1hPzA6bjw9LjU/Yy8odSthKTpjLygyLXUtYSkpLDEwMCpuXX0sci5yZ2IuaHN2PWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lWzBdLG89ZVsxXSxpPWVbMl0sYT1NYXRoLm1pbihyLG8saSksdT1NYXRoLm1heChyLG8saSksYz11LWE7cmV0dXJuIG49MD09PXU/MDpjL3UqMWUzLzEwLHU9PT1hP3Q9MDpyPT09dT90PShvLWkpL2M6bz09PXU/dD0yKyhpLXIpL2M6aT09PXUmJih0PTQrKHItbykvYyksKHQ9TWF0aC5taW4oNjAqdCwzNjApKTwwJiYodCs9MzYwKSxbdCxuLHUvMjU1KjFlMy8xMF19LHIucmdiLmh3Yj1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXSxvPWVbMl0saT1yLnJnYi5oc2woZSlbMF0sYT0xLzI1NSpNYXRoLm1pbih0LE1hdGgubWluKG4sbykpO3JldHVybiBvPTEtMS8yNTUqTWF0aC5tYXgodCxNYXRoLm1heChuLG8pKSxbaSwxMDAqYSwxMDAqb119LHIucmdiLmNteWs9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lWzBdLzI1NSxyPWVbMV0vMjU1LG89ZVsyXS8yNTU7cmV0dXJuIHQ9TWF0aC5taW4oMS1uLDEtciwxLW8pLFsxMDAqKCgxLW4tdCkvKDEtdCl8fDApLDEwMCooKDEtci10KS8oMS10KXx8MCksMTAwKigoMS1vLXQpLygxLXQpfHwwKSwxMDAqdF19LHIucmdiLmtleXdvcmQ9ZnVuY3Rpb24oZSl7dmFyIG49dFtlXTtpZihuKXJldHVybiBuO3ZhciByLG8saSxhPTEvMDtmb3IodmFyIHUgaW4gd24paWYod24uaGFzT3duUHJvcGVydHkodSkpe3ZhciBjPXduW3VdLHM9KG89ZSxpPWMsTWF0aC5wb3cob1swXS1pWzBdLDIpK01hdGgucG93KG9bMV0taVsxXSwyKStNYXRoLnBvdyhvWzJdLWlbMl0sMikpO3M8YSYmKGE9cyxyPXUpfXJldHVybiByfSxyLmtleXdvcmQucmdiPWZ1bmN0aW9uKGUpe3JldHVybiB3bltlXX0sci5yZ2IueHl6PWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0vMjU1LG49ZVsxXS8yNTUscj1lWzJdLzI1NTt0PXQ+LjA0MDQ1P01hdGgucG93KCh0Ky4wNTUpLzEuMDU1LDIuNCk6dC8xMi45MixuPW4+LjA0MDQ1P01hdGgucG93KChuKy4wNTUpLzEuMDU1LDIuNCk6bi8xMi45MixyPXI+LjA0MDQ1P01hdGgucG93KChyKy4wNTUpLzEuMDU1LDIuNCk6ci8xMi45Mjt2YXIgbz0uNDEyNCp0Ky4zNTc2Km4rLjE4MDUqcixpPS4yMTI2KnQrLjcxNTIqbisuMDcyMipyLGE9LjAxOTMqdCsuMTE5MipuKy45NTA1KnI7cmV0dXJuWzEwMCpvLDEwMCppLDEwMCphXX0sci5yZ2IubGFiPWZ1bmN0aW9uKGUpe3ZhciB0PXIucmdiLnh5eihlKSxuPXRbMF0sbz10WzFdLGk9dFsyXTtyZXR1cm4gby89MTAwLGkvPTEwOC44ODMsbj0obi89OTUuMDQ3KT4uMDA4ODU2P01hdGgucG93KG4sMS8zKTo3Ljc4NypuKzE2LzExNixvPW8+LjAwODg1Nj9NYXRoLnBvdyhvLDEvMyk6Ny43ODcqbysxNi8xMTYsaT1pPi4wMDg4NTY/TWF0aC5wb3coaSwxLzMpOjcuNzg3KmkrMTYvMTE2LFsxMTYqby0xNiw1MDAqKG4tbyksMjAwKihvLWkpXX0sci5oc2wucmdiPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYT1lWzBdLzM2MCx1PWVbMV0vMTAwLGM9ZVsyXS8xMDA7aWYoMD09PXUpcmV0dXJuW2k9MjU1KmMsaSxpXTt0PTIqYy0obj1jPC41P2MqKDErdSk6Yyt1LWMqdSksbz1bMCwwLDBdO2Zvcih2YXIgcz0wO3M8MztzKyspKHI9YSsxLzMqLShzLTEpKTwwJiZyKysscj4xJiZyLS0saT02KnI8MT90KzYqKG4tdCkqcjoyKnI8MT9uOjMqcjwyP3QrKG4tdCkqKDIvMy1yKSo2OnQsb1tzXT0yNTUqaTtyZXR1cm4gb30sci5oc2wuaHN2PWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1lWzFdLzEwMCxyPWVbMl0vMTAwLG89bixpPU1hdGgubWF4KHIsLjAxKTtyZXR1cm4gbio9KHIqPTIpPD0xP3I6Mi1yLG8qPWk8PTE/aToyLWksW3QsMTAwKigwPT09cj8yKm8vKGkrbyk6MipuLyhyK24pKSwocituKS8yKjEwMF19LHIuaHN2LnJnYj1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLzYwLG49ZVsxXS8xMDAscj1lWzJdLzEwMCxvPU1hdGguZmxvb3IodCklNixpPXQtTWF0aC5mbG9vcih0KSxhPTI1NSpyKigxLW4pLHU9MjU1KnIqKDEtbippKSxjPTI1NSpyKigxLW4qKDEtaSkpO3N3aXRjaChyKj0yNTUsbyl7Y2FzZSAwOnJldHVybltyLGMsYV07Y2FzZSAxOnJldHVyblt1LHIsYV07Y2FzZSAyOnJldHVyblthLHIsY107Y2FzZSAzOnJldHVyblthLHUscl07Y2FzZSA0OnJldHVybltjLGEscl07Y2FzZSA1OnJldHVybltyLGEsdV19fSxyLmhzdi5oc2w9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89ZVswXSxpPWVbMV0vMTAwLGE9ZVsyXS8xMDAsdT1NYXRoLm1heChhLC4wMSk7cmV0dXJuIHI9KDItaSkqYSxuPWkqdSxbbywxMDAqKG49KG4vPSh0PSgyLWkpKnUpPD0xP3Q6Mi10KXx8MCksMTAwKihyLz0yKV19LHIuaHdiLnJnYj1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxjPWVbMF0vMzYwLHM9ZVsxXS8xMDAsZj1lWzJdLzEwMCxsPXMrZjtzd2l0Y2gobD4xJiYocy89bCxmLz1sKSx0PU1hdGguZmxvb3IoNipjKSxyPTYqYy10LDAhPSgxJnQpJiYocj0xLXIpLG89cytyKigobj0xLWYpLXMpLHQpe2RlZmF1bHQ6Y2FzZSA2OmNhc2UgMDppPW4sYT1vLHU9czticmVhaztjYXNlIDE6aT1vLGE9bix1PXM7YnJlYWs7Y2FzZSAyOmk9cyxhPW4sdT1vO2JyZWFrO2Nhc2UgMzppPXMsYT1vLHU9bjticmVhaztjYXNlIDQ6aT1vLGE9cyx1PW47YnJlYWs7Y2FzZSA1Omk9bixhPXMsdT1vfXJldHVyblsyNTUqaSwyNTUqYSwyNTUqdV19LHIuY215ay5yZ2I9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89ZVswXS8xMDAsaT1lWzFdLzEwMCxhPWVbMl0vMTAwLHU9ZVszXS8xMDA7cmV0dXJuIHQ9MS1NYXRoLm1pbigxLG8qKDEtdSkrdSksbj0xLU1hdGgubWluKDEsaSooMS11KSt1KSxyPTEtTWF0aC5taW4oMSxhKigxLXUpK3UpLFsyNTUqdCwyNTUqbiwyNTUqcl19LHIueHl6LnJnYj1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbz1lWzBdLzEwMCxpPWVbMV0vMTAwLGE9ZVsyXS8xMDA7cmV0dXJuIG49LS45Njg5Km8rMS44NzU4KmkrLjA0MTUqYSxyPS4wNTU3Km8rLS4yMDQqaSsxLjA1NyphLHQ9KHQ9My4yNDA2Km8rLTEuNTM3MippKy0uNDk4NiphKT4uMDAzMTMwOD8xLjA1NSpNYXRoLnBvdyh0LDEvMi40KS0uMDU1OjEyLjkyKnQsbj1uPi4wMDMxMzA4PzEuMDU1Kk1hdGgucG93KG4sMS8yLjQpLS4wNTU6MTIuOTIqbixyPXI+LjAwMzEzMDg/MS4wNTUqTWF0aC5wb3cociwxLzIuNCktLjA1NToxMi45MipyLHQ9TWF0aC5taW4oTWF0aC5tYXgoMCx0KSwxKSxuPU1hdGgubWluKE1hdGgubWF4KDAsbiksMSkscj1NYXRoLm1pbihNYXRoLm1heCgwLHIpLDEpLFsyNTUqdCwyNTUqbiwyNTUqcl19LHIueHl6LmxhYj1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXSxyPWVbMl07cmV0dXJuIG4vPTEwMCxyLz0xMDguODgzLHQ9KHQvPTk1LjA0Nyk+LjAwODg1Nj9NYXRoLnBvdyh0LDEvMyk6Ny43ODcqdCsxNi8xMTYsbj1uPi4wMDg4NTY/TWF0aC5wb3cobiwxLzMpOjcuNzg3Km4rMTYvMTE2LHI9cj4uMDA4ODU2P01hdGgucG93KHIsMS8zKTo3Ljc4NypyKzE2LzExNixbMTE2Km4tMTYsNTAwKih0LW4pLDIwMCoobi1yKV19LHIubGFiLnh5ej1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbz1lWzBdLGk9ZVsxXSxhPWVbMl07dD1pLzUwMCsobj0obysxNikvMTE2KSxyPW4tYS8yMDA7dmFyIHU9TWF0aC5wb3cobiwzKSxjPU1hdGgucG93KHQsMykscz1NYXRoLnBvdyhyLDMpO3JldHVybiBuPXU+LjAwODg1Nj91OihuLTE2LzExNikvNy43ODcsdD1jPi4wMDg4NTY/YzoodC0xNi8xMTYpLzcuNzg3LHI9cz4uMDA4ODU2P3M6KHItMTYvMTE2KS83Ljc4NyxbdCo9OTUuMDQ3LG4qPTEwMCxyKj0xMDguODgzXX0sci5sYWIubGNoPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWVbMF0saT1lWzFdLGE9ZVsyXTtyZXR1cm4gdD1NYXRoLmF0YW4yKGEsaSksKG49MzYwKnQvMi9NYXRoLlBJKTwwJiYobis9MzYwKSxyPU1hdGguc3FydChpKmkrYSphKSxbbyxyLG5dfSxyLmxjaC5sYWI9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89ZVswXSxpPWVbMV0sYT1lWzJdO3JldHVybiByPWEvMzYwKjIqTWF0aC5QSSx0PWkqTWF0aC5jb3Mociksbj1pKk1hdGguc2luKHIpLFtvLHQsbl19LHIucmdiLmFuc2kxNj1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXSxvPWVbMl0saT0xIGluIGFyZ3VtZW50cz9hcmd1bWVudHNbMV06ci5yZ2IuaHN2KGUpWzJdO2lmKDA9PT0oaT1NYXRoLnJvdW5kKGkvNTApKSlyZXR1cm4gMzA7dmFyIGE9MzArKE1hdGgucm91bmQoby8yNTUpPDwyfE1hdGgucm91bmQobi8yNTUpPDwxfE1hdGgucm91bmQodC8yNTUpKTtyZXR1cm4gMj09PWkmJihhKz02MCksYX0sci5oc3YuYW5zaTE2PWZ1bmN0aW9uKGUpe3JldHVybiByLnJnYi5hbnNpMTYoci5oc3YucmdiKGUpLGVbMl0pfSxyLnJnYi5hbnNpMjU2PWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1lWzFdLHI9ZVsyXTtpZih0PT09biYmbj09PXIpcmV0dXJuIHQ8OD8xNjp0PjI0OD8yMzE6TWF0aC5yb3VuZCgodC04KS8yNDcqMjQpKzIzMjt2YXIgbz0xNiszNipNYXRoLnJvdW5kKHQvMjU1KjUpKzYqTWF0aC5yb3VuZChuLzI1NSo1KStNYXRoLnJvdW5kKHIvMjU1KjUpO3JldHVybiBvfSxyLmFuc2kxNi5yZ2I9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSUxMDtpZigwPT09dHx8Nz09PXQpcmV0dXJuIGU+NTAmJih0Kz0zLjUpLFt0PXQvMTAuNSoyNTUsdCx0XTt2YXIgbj0uNSooMSt+fihlPjUwKSkscj0oMSZ0KSpuKjI1NSxvPSh0Pj4xJjEpKm4qMjU1LGk9KHQ+PjImMSkqbioyNTU7cmV0dXJuW3IsbyxpXX0sci5hbnNpMjU2LnJnYj1mdW5jdGlvbihlKXtpZihlPj0yMzIpe3ZhciB0PTEwKihlLTIzMikrODtyZXR1cm5bdCx0LHRdfXZhciBuO2UtPTE2O3ZhciByPU1hdGguZmxvb3IoZS8zNikvNSoyNTUsbz1NYXRoLmZsb29yKChuPWUlMzYpLzYpLzUqMjU1LGk9biU2LzUqMjU1O3JldHVybltyLG8saV19LHIucmdiLmhleD1mdW5jdGlvbihlKXt2YXIgdD0oKDI1NSZNYXRoLnJvdW5kKGVbMF0pKTw8MTYpKygoMjU1Jk1hdGgucm91bmQoZVsxXSkpPDw4KSsoMjU1Jk1hdGgucm91bmQoZVsyXSkpLG49dC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtyZXR1cm4iMDAwMDAwIi5zdWJzdHJpbmcobi5sZW5ndGgpK259LHIuaGV4LnJnYj1mdW5jdGlvbihlKXt2YXIgdD1lLnRvU3RyaW5nKDE2KS5tYXRjaCgvW2EtZjAtOV17Nn18W2EtZjAtOV17M30vaSk7aWYoIXQpcmV0dXJuWzAsMCwwXTt2YXIgbj10WzBdOzM9PT10WzBdLmxlbmd0aCYmKG49bi5zcGxpdCgiIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlK2V9KS5qb2luKCIiKSk7dmFyIHI9cGFyc2VJbnQobiwxNiksbz1yPj4xNiYyNTUsaT1yPj44JjI1NSxhPTI1NSZyO3JldHVybltvLGksYV19LHIucmdiLmhjZz1mdW5jdGlvbihlKXt2YXIgdCxuPWVbMF0vMjU1LHI9ZVsxXS8yNTUsbz1lWzJdLzI1NSxpPU1hdGgubWF4KE1hdGgubWF4KG4sciksbyksYT1NYXRoLm1pbihNYXRoLm1pbihuLHIpLG8pLHU9aS1hO3JldHVybiB0PXU8PTA/MDppPT09bj8oci1vKS91JTY6aT09PXI/Misoby1uKS91OjQrKG4tcikvdSs0LHQvPTYsWzM2MCoodCU9MSksMTAwKnUsMTAwKih1PDE/YS8oMS11KTowKV19LHIuaHNsLmhjZz1mdW5jdGlvbihlKXt2YXIgdD1lWzFdLzEwMCxuPWVbMl0vMTAwLHI9MSxvPTA7cmV0dXJuKHI9bjwuNT8yKnQqbjoyKnQqKDEtbikpPDEmJihvPShuLS41KnIpLygxLXIpKSxbZVswXSwxMDAqciwxMDAqb119LHIuaHN2LmhjZz1mdW5jdGlvbihlKXt2YXIgdD1lWzFdLzEwMCxuPWVbMl0vMTAwLHI9dCpuLG89MDtyZXR1cm4gcjwxJiYobz0obi1yKS8oMS1yKSksW2VbMF0sMTAwKnIsMTAwKm9dfSxyLmhjZy5yZ2I9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS8zNjAsbj1lWzFdLzEwMCxyPWVbMl0vMTAwO2lmKDA9PT1uKXJldHVyblsyNTUqciwyNTUqciwyNTUqcl07dmFyIG89WzAsMCwwXSxpPXQlMSo2LGE9aSUxLHU9MS1hLGM9MDtzd2l0Y2goTWF0aC5mbG9vcihpKSl7Y2FzZSAwOm9bMF09MSxvWzFdPWEsb1syXT0wO2JyZWFrO2Nhc2UgMTpvWzBdPXUsb1sxXT0xLG9bMl09MDticmVhaztjYXNlIDI6b1swXT0wLG9bMV09MSxvWzJdPWE7YnJlYWs7Y2FzZSAzOm9bMF09MCxvWzFdPXUsb1syXT0xO2JyZWFrO2Nhc2UgNDpvWzBdPWEsb1sxXT0wLG9bMl09MTticmVhaztkZWZhdWx0Om9bMF09MSxvWzFdPTAsb1syXT11fXJldHVybiBjPSgxLW4pKnIsWzI1NSoobipvWzBdK2MpLDI1NSoobipvWzFdK2MpLDI1NSoobipvWzJdK2MpXX0sci5oY2cuaHN2PWZ1bmN0aW9uKGUpe3ZhciB0PWVbMV0vMTAwLG49ZVsyXS8xMDAscj10K24qKDEtdCksbz0wO3JldHVybiByPjAmJihvPXQvciksW2VbMF0sMTAwKm8sMTAwKnJdfSxyLmhjZy5oc2w9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVsxXS8xMDAsbj1lWzJdLzEwMCxyPW4qKDEtdCkrLjUqdCxvPTA7cmV0dXJuIHI+MCYmcjwuNT9vPXQvKDIqcik6cj49LjUmJnI8MSYmKG89dC8oMiooMS1yKSkpLFtlWzBdLDEwMCpvLDEwMCpyXX0sci5oY2cuaHdiPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMV0vMTAwLG49ZVsyXS8xMDAscj10K24qKDEtdCk7cmV0dXJuW2VbMF0sMTAwKihyLXQpLDEwMCooMS1yKV19LHIuaHdiLmhjZz1mdW5jdGlvbihlKXt2YXIgdD1lWzFdLzEwMCxuPWVbMl0vMTAwLHI9MS1uLG89ci10LGk9MDtyZXR1cm4gbzwxJiYoaT0oci1vKS8oMS1vKSksW2VbMF0sMTAwKm8sMTAwKmldfSxyLmFwcGxlLnJnYj1mdW5jdGlvbihlKXtyZXR1cm5bZVswXS82NTUzNSoyNTUsZVsxXS82NTUzNSoyNTUsZVsyXS82NTUzNSoyNTVdfSxyLnJnYi5hcHBsZT1mdW5jdGlvbihlKXtyZXR1cm5bZVswXS8yNTUqNjU1MzUsZVsxXS8yNTUqNjU1MzUsZVsyXS8yNTUqNjU1MzVdfSxyLmdyYXkucmdiPWZ1bmN0aW9uKGUpe3JldHVybltlWzBdLzEwMCoyNTUsZVswXS8xMDAqMjU1LGVbMF0vMTAwKjI1NV19LHIuZ3JheS5oc2w9ci5ncmF5Lmhzdj1mdW5jdGlvbihlKXtyZXR1cm5bMCwwLGVbMF1dfSxyLmdyYXkuaHdiPWZ1bmN0aW9uKGUpe3JldHVyblswLDEwMCxlWzBdXX0sci5ncmF5LmNteWs9ZnVuY3Rpb24oZSl7cmV0dXJuWzAsMCwwLGVbMF1dfSxyLmdyYXkubGFiPWZ1bmN0aW9uKGUpe3JldHVybltlWzBdLDAsMF19LHIuZ3JheS5oZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9MjU1Jk1hdGgucm91bmQoZVswXS8xMDAqMjU1KSxuPSh0PDwxNikrKHQ8PDgpK3Qscj1uLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO3JldHVybiIwMDAwMDAiLnN1YnN0cmluZyhyLmxlbmd0aCkrcn0sci5yZ2IuZ3JheT1mdW5jdGlvbihlKXt2YXIgdD0oZVswXStlWzFdK2VbMl0pLzM7cmV0dXJuW3QvMjU1KjEwMF19fSk7ZnVuY3Rpb24gRW4oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9e30sdD1PYmplY3Qua2V5cyh4biksbj10Lmxlbmd0aCxyPTA7cjxuO3IrKyllW3Rbcl1dPXtkaXN0YW5jZTotMSxwYXJlbnQ6bnVsbH07cmV0dXJuIGV9KCksbj1bZV07Zm9yKHRbZV0uZGlzdGFuY2U9MDtuLmxlbmd0aDspZm9yKHZhciByPW4ucG9wKCksbz1PYmplY3Qua2V5cyh4bltyXSksaT1vLmxlbmd0aCxhPTA7YTxpO2ErKyl7dmFyIHU9b1thXSxjPXRbdV07LTE9PT1jLmRpc3RhbmNlJiYoYy5kaXN0YW5jZT10W3JdLmRpc3RhbmNlKzEsYy5wYXJlbnQ9cixuLnVuc2hpZnQodSkpfXJldHVybiB0fWZ1bmN0aW9uIGtuKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KGUobikpfX1mdW5jdGlvbiBNbihlLHQpe2Zvcih2YXIgbj1bdFtlXS5wYXJlbnQsZV0scj14blt0W2VdLnBhcmVudF1bZV0sbz10W2VdLnBhcmVudDt0W29dLnBhcmVudDspbi51bnNoaWZ0KHRbb10ucGFyZW50KSxyPWtuKHhuW3Rbb10ucGFyZW50XVtvXSxyKSxvPXRbb10ucGFyZW50O3JldHVybiByLmNvbnZlcnNpb249bixyfXhuLnJnYix4bi5oc2wseG4uaHN2LHhuLmh3Yix4bi5jbXlrLHhuLnh5eix4bi5sYWIseG4ubGNoLHhuLmhleCx4bi5rZXl3b3JkLHhuLmFuc2kxNix4bi5hbnNpMjU2LHhuLmhjZyx4bi5hcHBsZSx4bi5ncmF5O3ZhciBPbj17fTtPYmplY3Qua2V5cyh4bikuZm9yRWFjaChmdW5jdGlvbihlKXtPbltlXT17fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoT25bZV0sImNoYW5uZWxzIix7dmFsdWU6eG5bZV0uY2hhbm5lbHN9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoT25bZV0sImxhYmVscyIse3ZhbHVlOnhuW2VdLmxhYmVsc30pO3ZhciB0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1FbihlKSxuPXt9LHI9T2JqZWN0LmtleXModCksbz1yLmxlbmd0aCxpPTA7aTxvO2krKyl7dmFyIGE9cltpXSx1PXRbYV07bnVsbCE9PXUucGFyZW50JiYoblthXT1NbihhLHQpKX1yZXR1cm4gbn0oZSksbj1PYmplY3Qua2V5cyh0KTtuLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHI9dFtuXTtPbltlXVtuXT1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtpZihudWxsPT10KXJldHVybiB0O2FyZ3VtZW50cy5sZW5ndGg+MSYmKHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7dmFyIG49ZSh0KTtpZigib2JqZWN0Ij09dHlwZW9mIG4pZm9yKHZhciByPW4ubGVuZ3RoLG89MDtvPHI7bysrKW5bb109TWF0aC5yb3VuZChuW29dKTtyZXR1cm4gbn07cmV0dXJuImNvbnZlcnNpb24iaW4gZSYmKHQuY29udmVyc2lvbj1lLmNvbnZlcnNpb24pLHR9KHIpLE9uW2VdW25dLnJhdz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD90Oihhcmd1bWVudHMubGVuZ3RoPjEmJih0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpLGUodCkpfTtyZXR1cm4iY29udmVyc2lvbiJpbiBlJiYodC5jb252ZXJzaW9uPWUuY29udmVyc2lvbiksdH0ocil9KX0pO3ZhciBqbj1PbixTbj1uKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49ZS5hcHBseShqbixhcmd1bWVudHMpO3JldHVybiIbWyIrKG4rdCkrIm0ifX0sbj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPWUuYXBwbHkoam4sYXJndW1lbnRzKTtyZXR1cm4iG1siKygzOCt0KSsiOzU7IituKyJtIn19LHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1lLmFwcGx5KGpuLGFyZ3VtZW50cyk7cmV0dXJuIhtbIisoMzgrdCkrIjsyOyIrblswXSsiOyIrblsxXSsiOyIrblsyXSsibSJ9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZXhwb3J0cyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9bmV3IF9uLG89e21vZGlmaWVyOntyZXNldDpbMCwwXSxib2xkOlsxLDIyXSxkaW06WzIsMjJdLGl0YWxpYzpbMywyM10sdW5kZXJsaW5lOls0LDI0XSxpbnZlcnNlOls3LDI3XSxoaWRkZW46WzgsMjhdLHN0cmlrZXRocm91Z2g6WzksMjldfSxjb2xvcjp7YmxhY2s6WzMwLDM5XSxyZWQ6WzMxLDM5XSxncmVlbjpbMzIsMzldLHllbGxvdzpbMzMsMzldLGJsdWU6WzM0LDM5XSxtYWdlbnRhOlszNSwzOV0sY3lhbjpbMzYsMzldLHdoaXRlOlszNywzOV0sZ3JheTpbOTAsMzldLHJlZEJyaWdodDpbOTEsMzldLGdyZWVuQnJpZ2h0Ols5MiwzOV0seWVsbG93QnJpZ2h0Ols5MywzOV0sYmx1ZUJyaWdodDpbOTQsMzldLG1hZ2VudGFCcmlnaHQ6Wzk1LDM5XSxjeWFuQnJpZ2h0Ols5NiwzOV0sd2hpdGVCcmlnaHQ6Wzk3LDM5XX0sYmdDb2xvcjp7YmdCbGFjazpbNDAsNDldLGJnUmVkOls0MSw0OV0sYmdHcmVlbjpbNDIsNDldLGJnWWVsbG93Ols0Myw0OV0sYmdCbHVlOls0NCw0OV0sYmdNYWdlbnRhOls0NSw0OV0sYmdDeWFuOls0Niw0OV0sYmdXaGl0ZTpbNDcsNDldLGJnQmxhY2tCcmlnaHQ6WzEwMCw0OV0sYmdSZWRCcmlnaHQ6WzEwMSw0OV0sYmdHcmVlbkJyaWdodDpbMTAyLDQ5XSxiZ1llbGxvd0JyaWdodDpbMTAzLDQ5XSxiZ0JsdWVCcmlnaHQ6WzEwNCw0OV0sYmdNYWdlbnRhQnJpZ2h0OlsxMDUsNDldLGJnQ3lhbkJyaWdodDpbMTA2LDQ5XSxiZ1doaXRlQnJpZ2h0OlsxMDcsNDldfX07by5jb2xvci5ncmV5PW8uY29sb3IuZ3JheTt2YXIgaT0hMCxhPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMscz1lbihzZShvKSk7IShpPShjPXMubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgZj1jLnZhbHVlLGw9b1tmXSxwPSEwLGg9ITEsZD12b2lkIDA7dHJ5e2Zvcih2YXIgdixnPWVuKHNlKGwpKTshKHA9KHY9Zy5uZXh0KCkpLmRvbmUpO3A9ITApe3ZhciB5PXYudmFsdWUsbT1sW3ldO29beV09e29wZW46IhtbIittWzBdKyJtIixjbG9zZToiG1siK21bMV0rIm0ifSxsW3ldPW9beV0sZS5zZXQobVswXSxtWzFdKX19Y2F0Y2goZSl7aD0hMCxkPWV9ZmluYWxseXt0cnl7IXAmJmcucmV0dXJuJiZnLnJldHVybigpfWZpbmFsbHl7aWYoaCl0aHJvdyBkfX1WdChvLGYse3ZhbHVlOmwsZW51bWVyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCJjb2RlcyIse3ZhbHVlOmUsZW51bWVyYWJsZTohMX0pfX1jYXRjaChlKXthPSEwLHU9ZX1maW5hbGx5e3RyeXshaSYmcy5yZXR1cm4mJnMucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IHV9fXZhciBiPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bZSx0LG5dfTtvLmNvbG9yLmNsb3NlPSIbWzM5bSIsby5iZ0NvbG9yLmNsb3NlPSIbWzQ5bSIsby5jb2xvci5hbnNpPXt9LG8uY29sb3IuYW5zaTI1Nj17fSxvLmNvbG9yLmFuc2kxNm09e3JnYjpyKGIsMCl9LG8uYmdDb2xvci5hbnNpPXt9LG8uYmdDb2xvci5hbnNpMjU2PXt9LG8uYmdDb2xvci5hbnNpMTZtPXtyZ2I6cihiLDEwKX07dmFyIF89ITAsdz0hMSx4PXZvaWQgMDt0cnl7Zm9yKHZhciBFLGs9ZW4oc2Uoam4pKTshKF89KEU9ay5uZXh0KCkpLmRvbmUpO189ITApe3ZhciBNPUUudmFsdWU7aWYoIm9iamVjdCI9PT1DdChqbltNXSkpe3ZhciBPPWpuW01dOyJhbnNpMTYiaW4gTyYmKG8uY29sb3IuYW5zaVtNXT10KE8uYW5zaTE2LDApLG8uYmdDb2xvci5hbnNpW01dPXQoTy5hbnNpMTYsMTApKSwiYW5zaTI1NiJpbiBPJiYoby5jb2xvci5hbnNpMjU2W01dPW4oTy5hbnNpMjU2LDApLG8uYmdDb2xvci5hbnNpMjU2W01dPW4oTy5hbnNpMjU2LDEwKSksInJnYiJpbiBPJiYoby5jb2xvci5hbnNpMTZtW01dPXIoTy5yZ2IsMCksby5iZ0NvbG9yLmFuc2kxNm1bTV09cihPLnJnYiwxMCkpfX19Y2F0Y2goZSl7dz0hMCx4PWV9ZmluYWxseXt0cnl7IV8mJmsucmV0dXJuJiZrLnJldHVybigpfWZpbmFsbHl7aWYodyl0aHJvdyB4fX1yZXR1cm4gb319KX0pLEFuPW8uT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxUbj10KG4oZnVuY3Rpb24oZSl7ZS5leHBvcnRzPXtkZWZhdWx0OkFuLF9fZXNNb2R1bGU6ITB9fSkpfHxmdW5jdGlvbihlKXtyZXR1cm5bXX0sQ249ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjpDdChlKSl8fCJbb2JqZWN0IFN5bWJvbF0iPT09dG9TdHJpbmcuY2FsbChlKX07ZnVuY3Rpb24gUG4oZSx0LG4scixvLGkpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+NiYmdm9pZCAwIT09YXJndW1lbnRzWzZdP2FyZ3VtZW50c1s2XToiOiAiLHU9IiIsYz1lLm5leHQoKTtpZighYy5kb25lKXt1Kz10LnNwYWNpbmdPdXRlcjtmb3IodmFyIHM9bit0LmluZGVudDshYy5kb25lOyl7dmFyIGY9aShjLnZhbHVlWzBdLHQscyxyLG8pLGw9aShjLnZhbHVlWzFdLHQscyxyLG8pO3UrPXMrZithK2wsKGM9ZS5uZXh0KCkpLmRvbmU/dC5taW58fCh1Kz0iLCIpOnUrPSIsIit0LnNwYWNpbmdJbm5lcn11Kz10LnNwYWNpbmdPdXRlcitufXJldHVybiB1fWZ1bmN0aW9uIFJuKGUsdCxuLHIsbyxpKXt2YXIgYT0iIix1PWUubmV4dCgpO2lmKCF1LmRvbmUpe2ErPXQuc3BhY2luZ091dGVyO2Zvcih2YXIgYz1uK3QuaW5kZW50OyF1LmRvbmU7KWErPWMraSh1LnZhbHVlLHQsYyxyLG8pLCh1PWUubmV4dCgpKS5kb25lP3QubWlufHwoYSs9IiwiKTphKz0iLCIrdC5zcGFjaW5nSW5uZXI7YSs9dC5zcGFjaW5nT3V0ZXIrbn1yZXR1cm4gYX1mdW5jdGlvbiBMbihlLHQsbixyLG8saSl7dmFyIGE9IiI7aWYoZS5sZW5ndGgpe2ErPXQuc3BhY2luZ091dGVyO2Zvcih2YXIgdT1uK3QuaW5kZW50LGM9MDtjPGUubGVuZ3RoO2MrKylhKz11K2koZVtjXSx0LHUscixvKSxjPGUubGVuZ3RoLTE/YSs9IiwiK3Quc3BhY2luZ0lubmVyOnQubWlufHwoYSs9IiwiKTthKz10LnNwYWNpbmdPdXRlcitufXJldHVybiBhfWZ1bmN0aW9uIE5uKGUsdCxuLHIsbyxpKXt2YXIgYT0iIix1PXNlKGUpLnNvcnQoKSxjPVRuKGUpO2lmKGMubGVuZ3RoJiYodT11LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hQ24oZSl9KS5jb25jYXQoYykpLHUubGVuZ3RoKXthKz10LnNwYWNpbmdPdXRlcjtmb3IodmFyIHM9bit0LmluZGVudCxmPTA7Zjx1Lmxlbmd0aDtmKyspe3ZhciBsPXVbZl0scD1pKGwsdCxzLHIsbyksaD1pKGVbbF0sdCxzLHIsbyk7YSs9cytwKyI6ICIraCxmPHUubGVuZ3RoLTE/YSs9IiwiK3Quc3BhY2luZ0lubmVyOnQubWlufHwoYSs9IiwiKX1hKz10LnNwYWNpbmdPdXRlcitufXJldHVybiBhfXZhciBCbj1vLlN5bWJvbC5mb3IsRm49dChuKGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz17ZGVmYXVsdDpCbixfX2VzTW9kdWxlOiEwfX0pKSxJbj1GbigiamVzdC5hc3ltbWV0cmljTWF0Y2hlciIpLERuPXtzZXJpYWxpemU6ZnVuY3Rpb24oZSx0LG4scixvLGkpe3ZhciBhPWUudG9TdHJpbmcoKTtyZXR1cm4iQXJyYXlDb250YWluaW5nIj09PWE/KytyPnQubWF4RGVwdGg/IlsiK2ErIl0iOmErIiBbIitMbihlLnNhbXBsZSx0LG4scixvLGkpKyJdIjoiT2JqZWN0Q29udGFpbmluZyI9PT1hPysrcj50Lm1heERlcHRoPyJbIithKyJdIjphKyIgeyIrTm4oZS5zYW1wbGUsdCxuLHIsbyxpKSsifSI6IlN0cmluZ01hdGNoaW5nIj09PWE/YSsiICIraShlLnNhbXBsZSx0LG4scixvKToiU3RyaW5nQ29udGFpbmluZyI9PT1hP2ErIiAiK2koZS5zYW1wbGUsdCxuLHIsbyk6ZS50b0FzeW1tZXRyaWNNYXRjaGVyKCl9LHRlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuJCR0eXBlb2Y9PT1Jbn19LCRuPW4oZnVuY3Rpb24oZSl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9WyJbXFx1MDAxQlxcdTAwOUJdW1tcXF0oKSM7P10qKD86KD86KD86W2EtekEtWlxcZF0qKD86O1thLXpBLVpcXGRdKikqKT9cXHUwMDA3KSIsIig/Oig/OlxcZHsxLDR9KD86O1xcZHswLDR9KSopP1tcXGRBLVBSWmNmLW50cXJ5PT48fl0pKSJdLmpvaW4oInwiKTtyZXR1cm4gbmV3IFJlZ0V4cChlLCJnIil9fSksR249e3NlcmlhbGl6ZTpmdW5jdGlvbihlLHQsbixyLG8saSl7cmV0dXJuIGkoZS5yZXBsYWNlKCRuKCksZnVuY3Rpb24oZSx0LG4pe3N3aXRjaChlKXtjYXNlIFNuLnJlZC5jbG9zZTpjYXNlIFNuLmdyZWVuLmNsb3NlOmNhc2UgU24uY3lhbi5jbG9zZTpjYXNlIFNuLmdyYXkuY2xvc2U6Y2FzZSBTbi53aGl0ZS5jbG9zZTpjYXNlIFNuLnllbGxvdy5jbG9zZTpjYXNlIFNuLmJnUmVkLmNsb3NlOmNhc2UgU24uYmdHcmVlbi5jbG9zZTpjYXNlIFNuLmJnWWVsbG93LmNsb3NlOmNhc2UgU24uaW52ZXJzZS5jbG9zZTpjYXNlIFNuLmRpbS5jbG9zZTpjYXNlIFNuLmJvbGQuY2xvc2U6Y2FzZSBTbi5yZXNldC5vcGVuOmNhc2UgU24ucmVzZXQuY2xvc2U6cmV0dXJuIjwvPiI7Y2FzZSBTbi5yZWQub3BlbjpyZXR1cm4iPHJlZD4iO2Nhc2UgU24uZ3JlZW4ub3BlbjpyZXR1cm4iPGdyZWVuPiI7Y2FzZSBTbi5jeWFuLm9wZW46cmV0dXJuIjxjeWFuPiI7Y2FzZSBTbi5ncmF5Lm9wZW46cmV0dXJuIjxncmF5PiI7Y2FzZSBTbi53aGl0ZS5vcGVuOnJldHVybiI8d2hpdGU+IjtjYXNlIFNuLnllbGxvdy5vcGVuOnJldHVybiI8eWVsbG93PiI7Y2FzZSBTbi5iZ1JlZC5vcGVuOnJldHVybiI8YmdSZWQ+IjtjYXNlIFNuLmJnR3JlZW4ub3BlbjpyZXR1cm4iPGJnR3JlZW4+IjtjYXNlIFNuLmJnWWVsbG93Lm9wZW46cmV0dXJuIjxiZ1llbGxvdz4iO2Nhc2UgU24uaW52ZXJzZS5vcGVuOnJldHVybiI8aW52ZXJzZT4iO2Nhc2UgU24uZGltLm9wZW46cmV0dXJuIjxkaW0+IjtjYXNlIFNuLmJvbGQub3BlbjpyZXR1cm4iPGJvbGQ+IjtkZWZhdWx0OnJldHVybiIifX0pLHQsbixyLG8pfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaCgkbigpKX19LFduPU9iamVjdC5hc3NpZ24scW49IVdufHxzKGZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fSxuPVN5bWJvbCgpLHI9ImFiY2RlZmdoaWprbG1ub3BxcnN0IjtyZXR1cm4gZVtuXT03LHIuc3BsaXQoIiIpLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1lfSksNyE9V24oe30sZSlbbl18fE9iamVjdC5rZXlzKFduKHt9LHQpKS5qb2luKCIiKSE9cn0pP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWFlKGUpLHI9YXJndW1lbnRzLmxlbmd0aCxvPTEsaT0kZS5mLGE9R2UuZjtyPm87KWZvcih2YXIgdSxjPWooYXJndW1lbnRzW28rK10pLHM9aT9KKGMpLmNvbmNhdChpKGMpKTpKKGMpLGY9cy5sZW5ndGgsbD0wO2Y+bDspYS5jYWxsKGMsdT1zW2wrK10pJiYoblt1XT1jW3VdKTtyZXR1cm4gbn06V247eCh4LlMreC5GLCJPYmplY3QiLHthc3NpZ246cW59KTt2YXIgVW49by5PYmplY3QuYXNzaWduLHpuPXQobihmdW5jdGlvbihlKXtlLmV4cG9ydHM9e2RlZmF1bHQ6VW4sX19lc01vZHVsZTohMH19KSksSG49WyJET01TdHJpbmdNYXAiLCJOYW1lZE5vZGVNYXAiXSxWbj17c2VyaWFsaXplOmZ1bmN0aW9uKGUsdCxuLHIsbyxpKXtyZXR1cm4rK3I+dC5tYXhEZXB0aD8iWyIrZS5jb25zdHJ1Y3Rvci5uYW1lKyJdIjplLmNvbnN0cnVjdG9yLm5hbWUrIiB7IitObihmdW5jdGlvbihlKXt2YXIgdD17fTtpZigiTmFtZWROb2RlTWFwIj09PWUuY29uc3RydWN0b3IubmFtZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0W2Vbbl0ubmFtZV09ZVtuXS52YWx1ZTtlbHNlIHQ9em4oe30sZSk7cmV0dXJuIHR9KGUpLHQsbixyLG8saSkrIn0ifSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yJiYtMSE9PUhuLmluZGV4T2YoZS5jb25zdHJ1Y3Rvci5uYW1lKX19O2Z1bmN0aW9uIEpuKGUpe3JldHVybiBlLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpfXZhciBLbj1mdW5jdGlvbihlLHQsbixyLG8saSxhKXt2YXIgdT1yK24uaW5kZW50LGM9bi5jb2xvcnM7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3ZhciBzPXRbZV0sZj1hKHMsbix1LG8saSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBzJiYoLTEhPT1mLmluZGV4T2YoIlxuIikmJihmPW4uc3BhY2luZ091dGVyK3UrZituLnNwYWNpbmdPdXRlcityKSxmPSJ7IitmKyJ9Iiksbi5zcGFjaW5nSW5uZXIrcitjLnByb3Aub3BlbitlK2MucHJvcC5jbG9zZSsiPSIrYy52YWx1ZS5vcGVuK2YrYy52YWx1ZS5jbG9zZX0pLmpvaW4oIiIpfSxZbj1mdW5jdGlvbihlLHQsbixyLG8saSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNwYWNpbmdPdXRlcituKygic3RyaW5nIj09dHlwZW9mIGU/WG4oZSx0KTppKGUsdCxuLHIsbykpfSkuam9pbigiIil9LFhuPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5jb2xvcnMuY29udGVudDtyZXR1cm4gbi5vcGVuK0puKGUpK24uY2xvc2V9LFpuPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGk9ci5jb2xvcnMudGFnO3JldHVybiBpLm9wZW4rIjwiK2UrKHQmJmkuY2xvc2UrdCtyLnNwYWNpbmdPdXRlcitvK2kub3BlbikrKG4/Ij4iK2kuY2xvc2UrbityLnNwYWNpbmdPdXRlcitvK2kub3BlbisiPC8iK2U6KHQmJiFyLm1pbj8iIjoiICIpKyIvIikrIj4iK2kuY2xvc2V9LFFuPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5jb2xvcnMudGFnO3JldHVybiBuLm9wZW4rIjwiK2Urbi5jbG9zZSsiIOKApiIrbi5vcGVuKyIgLz4iK24uY2xvc2V9LGVyPS9eKChIVE1MfFNWRylcdyopP0VsZW1lbnQkLyx0cj1mdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSxucj1mdW5jdGlvbihlLHQpe3JldHVybiBlW3QubmFtZV09dC52YWx1ZSxlfSxycj17c2VyaWFsaXplOmZ1bmN0aW9uKGUsdCxuLHIsbyxpKXtpZigzPT09ZS5ub2RlVHlwZSlyZXR1cm4gWG4oZS5kYXRhLHQpO2lmKDg9PT1lLm5vZGVUeXBlKXJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXQuY29sb3JzLmNvbW1lbnQ7cmV0dXJuIG4ub3BlbisiXHgzYyEtLSIrSm4oZSkrIi0tXHgzZSIrbi5jbG9zZX0oZS5kYXRhLHQpO3ZhciBhPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybisrcj50Lm1heERlcHRoP1FuKGEsdCk6Wm4oYSxLbihBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoZS5hdHRyaWJ1dGVzLHRyKS5zb3J0KCksQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKGUuYXR0cmlidXRlcyxucix7fSksdCxuK3QuaW5kZW50LHIsbyxpKSxZbihBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLmNoaWxkTm9kZXMpLHQsbit0LmluZGVudCxyLG8saSksdCxuKX0sdGVzdDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5jb25zdHJ1Y3RvciYmZS5jb25zdHJ1Y3Rvci5uYW1lJiYodD1lLm5vZGVUeXBlLG49ZS5jb25zdHJ1Y3Rvci5uYW1lLDE9PT10JiZlci50ZXN0KG4pfHwzPT09dCYmIlRleHQiPT09bnx8OD09PXQmJiJDb21tZW50Ij09PW4pO3ZhciB0LG59fSxvcj1mdW5jdGlvbihlKXtyZXR1cm4iSW1tdXRhYmxlLiIrZX0saXI9ZnVuY3Rpb24oZSl7cmV0dXJuIlsiK2UrIl0ifSxhcj1mdW5jdGlvbihlLHQsbixyLG8saSxhKXtyZXR1cm4rK3I+dC5tYXhEZXB0aD9pcihvcihhKSk6b3IoYSkrIiBbIitSbihlLnZhbHVlcygpLHQsbixyLG8saSkrIl0ifSx1cj17c2VyaWFsaXplOmZ1bmN0aW9uKGUsdCxuLHIsbyxpKXtyZXR1cm4gZVsiQEBfX0lNTVVUQUJMRV9NQVBfX0BAIl0/ZnVuY3Rpb24oZSx0LG4scixvLGksYSl7cmV0dXJuKytyPnQubWF4RGVwdGg/aXIob3IoYSkpOm9yKGEpKyIgeyIrUG4oZS5lbnRyaWVzKCksdCxuLHIsbyxpKSsifSJ9KGUsdCxuLHIsbyxpLGVbIkBAX19JTU1VVEFCTEVfT1JERVJFRF9fQEAiXT8iT3JkZXJlZE1hcCI6Ik1hcCIpOmVbIkBAX19JTU1VVEFCTEVfTElTVF9fQEAiXT9hcihlLHQsbixyLG8saSwiTGlzdCIpOmVbIkBAX19JTU1VVEFCTEVfU0VUX19AQCJdP2FyKGUsdCxuLHIsbyxpLGVbIkBAX19JTU1VVEFCTEVfT1JERVJFRF9fQEAiXT8iT3JkZXJlZFNldCI6IlNldCIpOmVbIkBAX19JTU1VVEFCTEVfU1RBQ0tfX0BAIl0/YXIoZSx0LG4scixvLGksIlN0YWNrIik6ZVsiQEBfX0lNTVVUQUJMRV9TRVFfX0BAIl0/ZnVuY3Rpb24oZSx0LG4scixvLGkpe3ZhciBhPW9yKCJTZXEiKTtyZXR1cm4rK3I+dC5tYXhEZXB0aD9pcihhKTplWyJAQF9fSU1NVVRBQkxFX0tFWUVEX19AQCJdP2ErIiB7IisoZS5faXRlcnx8ZS5fb2JqZWN0P1BuKGUuZW50cmllcygpLHQsbixyLG8saSk6IuKApiIpKyJ9IjphKyIgWyIrKGUuX2l0ZXJ8fGUuX2FycmF5fHxlLl9jb2xsZWN0aW9ufHxlLl9pdGVyYWJsZT9SbihlLnZhbHVlcygpLHQsbixyLG8saSk6IuKApiIpKyJdIn0oZSx0LG4scixvLGkpOmZ1bmN0aW9uKGUsdCxuLHIsbyxpKXt2YXIgYT1vcihlLl9uYW1lfHwiUmVjb3JkIik7cmV0dXJuKytyPnQubWF4RGVwdGg/aXIoYSk6YSsiIHsiK1BuKGZ1bmN0aW9uKGUpe3ZhciB0PTA7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtpZih0PGUuX2tleXMubGVuZ3RoKXt2YXIgbj1lLl9rZXlzW3QrK107cmV0dXJue2RvbmU6ITEsdmFsdWU6W24sZS5nZXQobildfX1yZXR1cm57ZG9uZTohMH19fX0oZSksdCxuLHIsbyxpKSsifSJ9KGUsdCxuLHIsbyxpKX0sdGVzdDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKCEwPT09ZVsiQEBfX0lNTVVUQUJMRV9JVEVSQUJMRV9fQEAiXXx8ITA9PT1lWyJAQF9fSU1NVVRBQkxFX1JFQ09SRF9fQEAiXSl9fSxjcj1GbigicmVhY3QuZWxlbWVudCIpLHNyPWZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZS50eXBlP2UudHlwZToiZnVuY3Rpb24iPT10eXBlb2YgZS50eXBlP2UudHlwZS5kaXNwbGF5TmFtZXx8ZS50eXBlLm5hbWV8fCJVbmtub3duIjoiVU5ERUZJTkVEIn0sZnI9e3NlcmlhbGl6ZTpmdW5jdGlvbihlLHQsbixyLG8saSl7cmV0dXJuKytyPnQubWF4RGVwdGg/UW4oc3IoZSksdCk6Wm4oc3IoZSksS24oc2UoZS5wcm9wcykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJjaGlsZHJlbiIhPT1lfSkuc29ydCgpLGUucHJvcHMsdCxuK3QuaW5kZW50LHIsbyxpKSxZbihmdW5jdGlvbiBlKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90LmZvckVhY2goZnVuY3Rpb24odCl7ZSh0LG4pfSk6bnVsbCE9dCYmITEhPT10JiZuLnB1c2godCksbn0oZS5wcm9wcy5jaGlsZHJlbiksdCxuK3QuaW5kZW50LHIsbyxpKSx0LG4pfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLiQkdHlwZW9mPT09Y3J9fSxscj1GbigicmVhY3QudGVzdC5qc29uIikscHI9e3NlcmlhbGl6ZTpmdW5jdGlvbihlLHQsbixyLG8saSl7cmV0dXJuKytyPnQubWF4RGVwdGg/UW4oZS50eXBlLHQpOlpuKGUudHlwZSxlLnByb3BzP0tuKHNlKGUucHJvcHMpLnNvcnQoKSxlLnByb3BzLHQsbit0LmluZGVudCxyLG8saSk6IiIsZS5jaGlsZHJlbj9ZbihlLmNoaWxkcmVuLHQsbit0LmluZGVudCxyLG8saSk6IiIsdCxuKX0sdGVzdDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS4kJHR5cGVvZj09PWxyfX0saHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxkcj1EYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZyx2cj1FcnJvci5wcm90b3R5cGUudG9TdHJpbmcsZ3I9UmVnRXhwLnByb3RvdHlwZS50b1N0cmluZyx5cj1BdC5wcm90b3R5cGUudG9TdHJpbmcsbXI9ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUuY29uc3RydWN0b3IubmFtZXx8Ik9iamVjdCJ9LGJyPWZ1bmN0aW9uKGUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZlPT09d2luZG93fSxfcj0vXlN5bWJvbFwoKC4qKVwpKC4qKSQvLHdyPS9cbi9naSx4cj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbil7RnQodGhpcyx0KTt2YXIgcj1JdCh0aGlzLCh0Ll9fcHJvdG9fX3x8QnQodCkpLmNhbGwodGhpcyxlKSk7cmV0dXJuIHIuc3RhY2s9bixyLm5hbWU9ci5jb25zdHJ1Y3Rvci5uYW1lLHJ9cmV0dXJuIHF0KHQsZSksdH0oRXJyb3IpO2Z1bmN0aW9uIEVyKGUsdCl7cmV0dXJuIHQ/IltGdW5jdGlvbiAiKyhlLm5hbWV8fCJhbm9ueW1vdXMiKSsiXSI6IltGdW5jdGlvbl0ifWZ1bmN0aW9uIGtyKGUpe3JldHVybiB5ci5jYWxsKGUpLnJlcGxhY2UoX3IsIlN5bWJvbCgkMSkiKX1mdW5jdGlvbiBNcihlKXtyZXR1cm4iWyIrdnIuY2FsbChlKSsiXSJ9ZnVuY3Rpb24gT3IoZSx0LG4pe2lmKCEwPT09ZXx8ITE9PT1lKXJldHVybiIiK2U7aWYodm9pZCAwPT09ZSlyZXR1cm4idW5kZWZpbmVkIjtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7dmFyIHI9dm9pZCAwPT09ZT8idW5kZWZpbmVkIjpDdChlKTtpZigibnVtYmVyIj09PXIpcmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBMdChlLC0wKT8iLTAiOlN0cmluZyhlKX0oZSk7aWYoInN0cmluZyI9PT1yKXJldHVybiciJytlLnJlcGxhY2UoLyJ8XFwvZywiXFwkJiIpKyciJztpZigiZnVuY3Rpb24iPT09cilyZXR1cm4gRXIoZSx0KTtpZigic3ltYm9sIj09PXIpcmV0dXJuIGtyKGUpO3ZhciBvPWhyLmNhbGwoZSk7cmV0dXJuIltvYmplY3QgV2Vha01hcF0iPT09bz8iV2Vha01hcCB7fSI6IltvYmplY3QgV2Vha1NldF0iPT09bz8iV2Vha1NldCB7fSI6IltvYmplY3QgRnVuY3Rpb25dIj09PW98fCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSI9PT1vP0VyKGUsdCk6IltvYmplY3QgU3ltYm9sXSI9PT1vP2tyKGUpOiJbb2JqZWN0IERhdGVdIj09PW8/ZHIuY2FsbChlKToiW29iamVjdCBFcnJvcl0iPT09bz9NcihlKToiW29iamVjdCBSZWdFeHBdIj09PW8/bj9nci5jYWxsKGUpLnJlcGxhY2UoL1tcXF4kKis/LigpfFtcXXt9XS9nLCJcXCQmIik6Z3IuY2FsbChlKTplIGluc3RhbmNlb2YgRXJyb3I/TXIoZSk6bnVsbH1mdW5jdGlvbiBqcihlLHQsbixyLG8saSl7aWYoLTEhPT1vLmluZGV4T2YoZSkpcmV0dXJuIltDaXJjdWxhcl0iOyhvPW8uc2xpY2UoKSkucHVzaChlKTt2YXIgYT0rK3I+dC5tYXhEZXB0aCx1PXQubWluO2lmKHQuY2FsbFRvSlNPTiYmIWEmJmUudG9KU09OJiYiZnVuY3Rpb24iPT10eXBlb2YgZS50b0pTT04mJiFpKXJldHVybiBUcihlLnRvSlNPTigpLHQsbixyLG8sITApO3ZhciBjPWhyLmNhbGwoZSk7cmV0dXJuIltvYmplY3QgQXJndW1lbnRzXSI9PT1jP2E/IltBcmd1bWVudHNdIjoodT8iIjoiQXJndW1lbnRzICIpKyJbIitMbihlLHQsbixyLG8sVHIpKyJdIjpmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZXx8IltvYmplY3QgQXJyYXlCdWZmZXJdIj09PWV8fCJbb2JqZWN0IERhdGFWaWV3XSI9PT1lfHwiW29iamVjdCBGbG9hdDMyQXJyYXldIj09PWV8fCJbb2JqZWN0IEZsb2F0NjRBcnJheV0iPT09ZXx8IltvYmplY3QgSW50OEFycmF5XSI9PT1lfHwiW29iamVjdCBJbnQxNkFycmF5XSI9PT1lfHwiW29iamVjdCBJbnQzMkFycmF5XSI9PT1lfHwiW29iamVjdCBVaW50OEFycmF5XSI9PT1lfHwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iPT09ZXx8IltvYmplY3QgVWludDE2QXJyYXldIj09PWV8fCJbb2JqZWN0IFVpbnQzMkFycmF5XSI9PT1lfShjKT9hPyJbIitlLmNvbnN0cnVjdG9yLm5hbWUrIl0iOih1PyIiOmUuY29uc3RydWN0b3IubmFtZSsiICIpKyJbIitMbihlLHQsbixyLG8sVHIpKyJdIjoiW29iamVjdCBNYXBdIj09PWM/YT8iW01hcF0iOiJNYXAgeyIrUG4oZS5lbnRyaWVzKCksdCxuLHIsbyxUciwiID0+ICIpKyJ9IjoiW29iamVjdCBTZXRdIj09PWM/YT8iW1NldF0iOiJTZXQgeyIrUm4oZS52YWx1ZXMoKSx0LG4scixvLFRyKSsifSI6YXx8YnIoZSk/IlsiK21yKGUpKyJdIjoodT8iIjptcihlKSsiICIpKyJ7IitObihlLHQsbixyLG8sVHIpKyJ9In1mdW5jdGlvbiBTcihlLHQsbixyLG8saSl7dmFyIGE9dm9pZCAwO3RyeXthPWUuc2VyaWFsaXplP2Uuc2VyaWFsaXplKHQsbixyLG8saSxUcik6ZS5wcmludCh0LGZ1bmN0aW9uKGUpe3JldHVybiBUcihlLG4scixvLGkpfSxmdW5jdGlvbihlKXt2YXIgdD1yK24uaW5kZW50O3JldHVybiB0K2UucmVwbGFjZSh3ciwiXG4iK3QpfSx7ZWRnZVNwYWNpbmc6bi5zcGFjaW5nT3V0ZXIsbWluOm4ubWluLHNwYWNpbmc6bi5zcGFjaW5nSW5uZXJ9LG4uY29sb3JzKX1jYXRjaChlKXt0aHJvdyBuZXcgeHIoZS5tZXNzYWdlLGUuc3RhY2spfWlmKCJzdHJpbmciIT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoJ3ByZXR0eS1mb3JtYXQ6IFBsdWdpbiBtdXN0IHJldHVybiB0eXBlICJzdHJpbmciIGJ1dCBpbnN0ZWFkIHJldHVybmVkICInKyh2b2lkIDA9PT1hPyJ1bmRlZmluZWQiOkN0KGEpKSsnIi4nKTtyZXR1cm4gYX1mdW5jdGlvbiBBcihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRyeXtpZihlW25dLnRlc3QodCkpcmV0dXJuIGVbbl19Y2F0Y2goZSl7dGhyb3cgbmV3IHhyKGUubWVzc2FnZSxlLnN0YWNrKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBUcihlLHQsbixyLG8saSl7dmFyIGE9QXIodC5wbHVnaW5zLGUpO2lmKG51bGwhPT1hKXJldHVybiBTcihhLGUsdCxuLHIsbyk7dmFyIHU9T3IoZSx0LnByaW50RnVuY3Rpb25OYW1lLHQuZXNjYXBlUmVnZXgpO3JldHVybiBudWxsIT09dT91OmpyKGUsdCxuLHIsbyxpKX12YXIgQ3I9e2NvbW1lbnQ6ImdyYXkiLGNvbnRlbnQ6InJlc2V0Iixwcm9wOiJ5ZWxsb3ciLHRhZzoiY3lhbiIsdmFsdWU6ImdyZWVuIn0sUHI9c2UoQ3IpLFJyPXtjYWxsVG9KU09OOiEwLGVzY2FwZVJlZ2V4OiExLGhpZ2hsaWdodDohMSxpbmRlbnQ6MixtYXhEZXB0aDoxLzAsbWluOiExLHBsdWdpbnM6W10scHJpbnRGdW5jdGlvbk5hbWU6ITAsdGhlbWU6Q3J9LExyPWZ1bmN0aW9uKGUpe3JldHVybiBQci5yZWR1Y2UoZnVuY3Rpb24odCxuKXt2YXIgcj1lLnRoZW1lJiZ2b2lkIDAhPT1lLnRoZW1lW25dP2UudGhlbWVbbl06Q3Jbbl0sbz1TbltyXTtpZighb3x8InN0cmluZyIhPXR5cGVvZiBvLmNsb3NlfHwic3RyaW5nIiE9dHlwZW9mIG8ub3Blbil0aHJvdyBuZXcgRXJyb3IoJ3ByZXR0eS1mb3JtYXQ6IE9wdGlvbiAidGhlbWUiIGhhcyBhIGtleSAiJytuKyciIHdob3NlIHZhbHVlICInK3IrJyIgaXMgdW5kZWZpbmVkIGluIGFuc2ktc3R5bGVzLicpO3JldHVybiB0W25dPW8sdH0saWUobnVsbCkpfSxOcj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdm9pZCAwIT09ZS5wcmludEZ1bmN0aW9uTmFtZT9lLnByaW50RnVuY3Rpb25OYW1lOlJyLnByaW50RnVuY3Rpb25OYW1lfSxCcj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdm9pZCAwIT09ZS5lc2NhcGVSZWdleD9lLmVzY2FwZVJlZ2V4OlJyLmVzY2FwZVJlZ2V4fSxGcj1mdW5jdGlvbihlKXtyZXR1cm57Y2FsbFRvSlNPTjplJiZ2b2lkIDAhPT1lLmNhbGxUb0pTT04/ZS5jYWxsVG9KU09OOlJyLmNhbGxUb0pTT04sY29sb3JzOmUmJmUuaGlnaGxpZ2h0P0xyKGUpOlByLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPXtjbG9zZToiIixvcGVuOiIifSxlfSxpZShudWxsKSksZXNjYXBlUmVnZXg6QnIoZSksaW5kZW50OmUmJmUubWluPyIiOih0PWUmJnZvaWQgMCE9PWUuaW5kZW50P2UuaW5kZW50OlJyLmluZGVudCxuZXcgQXJyYXkodCsxKS5qb2luKCIgIikpLG1heERlcHRoOmUmJnZvaWQgMCE9PWUubWF4RGVwdGg/ZS5tYXhEZXB0aDpSci5tYXhEZXB0aCxtaW46ZSYmdm9pZCAwIT09ZS5taW4/ZS5taW46UnIubWluLHBsdWdpbnM6ZSYmdm9pZCAwIT09ZS5wbHVnaW5zP2UucGx1Z2luczpSci5wbHVnaW5zLHByaW50RnVuY3Rpb25OYW1lOk5yKGUpLHNwYWNpbmdJbm5lcjplJiZlLm1pbj8iICI6IlxuIixzcGFjaW5nT3V0ZXI6ZSYmZS5taW4/IiI6IlxuIn07dmFyIHR9O2Z1bmN0aW9uIElyKGUsdCl7aWYodCYmKGZ1bmN0aW9uKGUpe2lmKHNlKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoIVJyLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcigncHJldHR5LWZvcm1hdDogVW5rbm93biBvcHRpb24gIicrZSsnIi4nKX0pLGUubWluJiZ2b2lkIDAhPT1lLmluZGVudCYmMCE9PWUuaW5kZW50KXRocm93IG5ldyBFcnJvcigncHJldHR5LWZvcm1hdDogT3B0aW9ucyAibWluIiBhbmQgImluZGVudCIgY2Fubm90IGJlIHVzZWQgdG9nZXRoZXIuJyk7aWYodm9pZCAwIT09ZS50aGVtZSl7aWYobnVsbD09PWUudGhlbWUpdGhyb3cgbmV3IEVycm9yKCdwcmV0dHktZm9ybWF0OiBPcHRpb24gInRoZW1lIiBtdXN0IG5vdCBiZSBudWxsLicpO2lmKCJvYmplY3QiIT09Q3QoZS50aGVtZSkpdGhyb3cgbmV3IEVycm9yKCdwcmV0dHktZm9ybWF0OiBPcHRpb24gInRoZW1lIiBtdXN0IGJlIG9mIHR5cGUgIm9iamVjdCIgYnV0IGluc3RlYWQgcmVjZWl2ZWQgIicrQ3QoZS50aGVtZSkrJyIuJyl9fSh0KSx0LnBsdWdpbnMpKXt2YXIgbj1Bcih0LnBsdWdpbnMsZSk7aWYobnVsbCE9PW4pcmV0dXJuIFNyKG4sZSxGcih0KSwiIiwwLFtdKX12YXIgcj1PcihlLE5yKHQpLEJyKHQpKTtyZXR1cm4gbnVsbCE9PXI/cjpqcihlLEZyKHQpLCIiLDAsW10pfUlyLnBsdWdpbnM9e0FzeW1tZXRyaWNNYXRjaGVyOkRuLENvbnZlcnRBbnNpOkduLERPTUNvbGxlY3Rpb246Vm4sRE9NRWxlbWVudDpycixJbW11dGFibGU6dXIsUmVhY3RFbGVtZW50OmZyLFJlYWN0VGVzdENvbXBvbmVudDpwcn0sZS5leHBvcnRzPUlyfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LlNJTUlMQVJfTUVTU0FHRT10Lk5PX0RJRkZfTUVTU0FHRT12b2lkIDA7dmFyIHIsbz1uKDE1KSxpPShyPW8pJiZyLl9fZXNNb2R1bGU/cjp7ZGVmYXVsdDpyfTt0Lk5PX0RJRkZfTUVTU0FHRT1pLmRlZmF1bHQuZGltKCJDb21wYXJlZCB2YWx1ZXMgaGF2ZSBubyB2aXN1YWwgZGlmZmVyZW5jZS4iKSx0LlNJTUlMQVJfTUVTU0FHRT1pLmRlZmF1bHQuZGltKCJDb21wYXJlZCB2YWx1ZXMgc2VyaWFsaXplIHRvIHRoZSBzYW1lIHN0cnVjdHVyZS5cblByaW50aW5nIGludGVybmFsIG9iamVjdCBzdHJ1Y3R1cmUgd2l0aG91dCBjYWxsaW5nIGB0b0pTT05gIGluc3RlYWQuIil9LCwsLCwsLCwsLCwsLCwsLCxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTkpLG89TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhyKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rcikudG9TdHJpbmcoMzYpKX19LGZ1bmN0aW9uKGUsdCl7dC5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSxmdW5jdGlvbihlLHQpe30sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTcpLG89bigzNDYpLGk9bigxMjIpLGE9bigxMjApKCJJRV9QUk9UTyIpLHU9ZnVuY3Rpb24oKXt9LGM9ZnVuY3Rpb24oKXt2YXIgZSx0PW4oMTE1KSgiaWZyYW1lIikscj1pLmxlbmd0aDtmb3IodC5zdHlsZS5kaXNwbGF5PSJub25lIixuKDE5NykuYXBwZW5kQ2hpbGQodCksdC5zcmM9ImphdmFzY3JpcHQ6IiwoZT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PFwvc2NyaXB0PiIpLGUuY2xvc2UoKSxjPWUuRjtyLS07KWRlbGV0ZSBjLnByb3RvdHlwZVtpW3JdXTtyZXR1cm4gYygpfTtlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbnVsbCE9PWU/KHUucHJvdG90eXBlPXIoZSksbj1uZXcgdSx1LnByb3RvdHlwZT1udWxsLG5bYV09ZSk6bj1jKCksdm9pZCAwPT09dD9uOm8obix0KX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUwKSxvPW4oNikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09cihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLGE7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PU9iamVjdChlKSxvKSk/bjppP3IodCk6Ik9iamVjdCI9PShhPXIodCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6YX19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9e2RlZmF1bHQ6bigzNjcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPS9bfFxce30oKVtcXV4kKyo/Ll0vZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIkV4cGVjdGVkIGEgc3RyaW5nIik7cmV0dXJuIGUucmVwbGFjZShyLCJcXCQmIil9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPXUobigzOSkpLG89dShuKDkpKSxpPXUobigzOTIpKSxhPXUobigyMTIpKTtmdW5jdGlvbiB1KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz1uKDIyMykscz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGY9RGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcsbD1FcnJvci5wcm90b3R5cGUudG9TdHJpbmcscD1SZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLGg9YS5kZWZhdWx0LnByb3RvdHlwZS50b1N0cmluZyxkPS9eU3ltYm9sXCgoLiopXCkoLiopJC8sdj0vXG4vZ2ksZz1pLmRlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybltdfTtmdW5jdGlvbiB5KGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lfHwiW29iamVjdCBBcnJheUJ1ZmZlcl0iPT09ZXx8IltvYmplY3QgRGF0YVZpZXddIj09PWV8fCJbb2JqZWN0IEZsb2F0MzJBcnJheV0iPT09ZXx8IltvYmplY3QgRmxvYXQ2NEFycmF5XSI9PT1lfHwiW29iamVjdCBJbnQ4QXJyYXldIj09PWV8fCJbb2JqZWN0IEludDE2QXJyYXldIj09PWV8fCJbb2JqZWN0IEludDMyQXJyYXldIj09PWV8fCJbb2JqZWN0IFVpbnQ4QXJyYXldIj09PWV8fCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSI9PT1lfHwiW29iamVjdCBVaW50MTZBcnJheV0iPT09ZXx8IltvYmplY3QgVWludDMyQXJyYXldIj09PWV9ZnVuY3Rpb24gbShlLHQpe3JldHVybiB0PyIiPT09ZS5uYW1lPyJbRnVuY3Rpb24gYW5vbnltb3VzXSI6IltGdW5jdGlvbiAiK2UubmFtZSsiXSI6IltGdW5jdGlvbl0ifWZ1bmN0aW9uIGIoZSl7cmV0dXJuIGguY2FsbChlKS5yZXBsYWNlKGQsIlN5bWJvbCgkMSkiKX1mdW5jdGlvbiBfKGUpe3JldHVybiJbIitsLmNhbGwoZSkrIl0ifWZ1bmN0aW9uIHcoZSx0LG4pe2lmKCEwPT09ZXx8ITE9PT1lKXJldHVybiIiK2U7aWYodm9pZCAwPT09ZSlyZXR1cm4idW5kZWZpbmVkIjtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7dmFyIHI9dm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxvLmRlZmF1bHQpKGUpO2lmKCJudW1iZXIiPT09cilyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUhPStlPyJOYU4iOjA9PT1lJiYxL2U8MD8iLTAiOiIiK2V9KGUpO2lmKCJzdHJpbmciPT09cilyZXR1cm4nIicrZS5yZXBsYWNlKC8ifFxcL2csIlxcJCYiKSsnIic7aWYoImZ1bmN0aW9uIj09PXIpcmV0dXJuIG0oZSx0KTtpZigic3ltYm9sIj09PXIpcmV0dXJuIGIoZSk7dmFyIGk9cy5jYWxsKGUpO3JldHVybiJbb2JqZWN0IFdlYWtNYXBdIj09PWk/IldlYWtNYXAge30iOiJbb2JqZWN0IFdlYWtTZXRdIj09PWk/IldlYWtTZXQge30iOiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1pfHwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0iPT09aT9tKGUsdCk6IltvYmplY3QgU3ltYm9sXSI9PT1pP2IoZSk6IltvYmplY3QgRGF0ZV0iPT09aT9mLmNhbGwoZSk6IltvYmplY3QgRXJyb3JdIj09PWk/XyhlKToiW29iamVjdCBSZWdFeHBdIj09PWk/bj9wLmNhbGwoZSkucmVwbGFjZSgvW1xcXiQqKz8uKCl8W1xde31dL2csIlxcJCYiKTpwLmNhbGwoZSk6IltvYmplY3QgQXJndW1lbnRzXSI9PT1pJiYwPT09ZS5sZW5ndGg/IkFyZ3VtZW50cyBbXSI6eShpKSYmMD09PWUubGVuZ3RoP2UuY29uc3RydWN0b3IubmFtZSsiIFtdIjplIGluc3RhbmNlb2YgRXJyb3I/XyhlKTpudWxsfWZ1bmN0aW9uIHgoZSx0LG4scixvLGksYSx1LGMscyxmLGwscCxoKXt2YXIgZD0iIjtpZihlLmxlbmd0aCl7ZCs9bztmb3IodmFyIHY9bit0LGc9MDtnPGUubGVuZ3RoO2crKylkKz12K00oZVtnXSx0LHYscixvLGksYSx1LGMscyxmLGwscCxoKSxnPGUubGVuZ3RoLTEmJihkKz0iLCIrcik7ZCs9KHM/IiI6IiwiKStvK259cmV0dXJuIlsiK2QrIl0ifWZ1bmN0aW9uIEUoZSx0LG4saSxhLHUsYyxmLGwscCxoLGQsdixtKXtpZigodT11LnNsaWNlKCkpLmluZGV4T2YoZSk+LTEpcmV0dXJuIltDaXJjdWxhcl0iO3UucHVzaChlKTt2YXIgYj0rK2Y+YztpZihoJiYhYiYmZS50b0pTT04mJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnRvSlNPTilyZXR1cm4gTShlLnRvSlNPTigpLHQsbixpLGEsdSxjLGYsbCxwLGgsZCx2LG0pO3ZhciBfPXMuY2FsbChlKTtyZXR1cm4iW29iamVjdCBBcmd1bWVudHNdIj09PV8/Yj8iW0FyZ3VtZW50c10iOmZ1bmN0aW9uKGUsdCxuLHIsbyxpLGEsdSxjLHMsZixsLHAsaCl7cmV0dXJuKHM/IiI6IkFyZ3VtZW50cyAiKSt4KGUsdCxuLHIsbyxpLGEsdSxjLHMsZixsLHAsaCl9KGUsdCxuLGksYSx1LGMsZixsLHAsaCxkLHYsbSk6eShfKT9iPyJbQXJyYXldIjpmdW5jdGlvbihlLHQsbixyLG8saSxhLHUsYyxzLGYsbCxwLGgpe3JldHVybihzPyIiOmUuY29uc3RydWN0b3IubmFtZSsiICIpK3goZSx0LG4scixvLGksYSx1LGMscyxmLGwscCxoKX0oZSx0LG4saSxhLHUsYyxmLGwscCxoLGQsdixtKToiW29iamVjdCBNYXBdIj09PV8/Yj8iW01hcF0iOmZ1bmN0aW9uKGUsdCxuLHIsbyxpLGEsdSxjLHMsZixsLHAsaCl7dmFyIGQ9Ik1hcCB7Iix2PWUuZW50cmllcygpLGc9di5uZXh0KCk7aWYoIWcuZG9uZSl7ZCs9bztmb3IodmFyIHk9bit0OyFnLmRvbmU7KWQrPXkrTShnLnZhbHVlWzBdLHQseSxyLG8saSxhLHUsYyxzLGYsbCxwLGgpKyIgPT4gIitNKGcudmFsdWVbMV0sdCx5LHIsbyxpLGEsdSxjLHMsZixsLHAsaCksKGc9di5uZXh0KCkpLmRvbmV8fChkKz0iLCIrcik7ZCs9KHM/IiI6IiwiKStvK259cmV0dXJuIGQrIn0ifShlLHQsbixpLGEsdSxjLGYsbCxwLGgsZCx2LG0pOiJbb2JqZWN0IFNldF0iPT09Xz9iPyJbU2V0XSI6ZnVuY3Rpb24oZSx0LG4scixvLGksYSx1LGMscyxmLGwscCxoKXt2YXIgZD0iU2V0IHsiLHY9ZS5lbnRyaWVzKCksZz12Lm5leHQoKTtpZighZy5kb25lKXtkKz1vO2Zvcih2YXIgeT1uK3Q7IWcuZG9uZTspZCs9eStNKGcudmFsdWVbMV0sdCx5LHIsbyxpLGEsdSxjLHMsZixsLHAsaCksKGc9di5uZXh0KCkpLmRvbmV8fChkKz0iLCIrcik7ZCs9KHM/IiI6IiwiKStvK259cmV0dXJuIGQrIn0ifShlLHQsbixpLGEsdSxjLGYsbCxwLGgsZCx2LG0pOmI/IltPYmplY3RdIjpmdW5jdGlvbihlLHQsbixpLGEsdSxjLGYsbCxwLGgsZCx2LHkpe3ZhciBtPShwPyIiOmUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5uYW1lKyIgIjoiT2JqZWN0ICIpKyJ7IixiPSgwLHIuZGVmYXVsdCkoZSkuc29ydCgpLF89ZyhlKTtpZihfLmxlbmd0aCYmKGI9Yi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuISgic3ltYm9sIj09PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLG8uZGVmYXVsdCkoZSkpfHwiW29iamVjdCBTeW1ib2xdIj09PXMuY2FsbChlKSl9KS5jb25jYXQoXykpLGIubGVuZ3RoKXttKz1hO2Zvcih2YXIgdz1uK3QseD0wO3g8Yi5sZW5ndGg7eCsrKXt2YXIgRT1iW3hdO20rPXcrTShFLHQsdyxpLGEsdSxjLGYsbCxwLGgsZCx2LHkpKyI6ICIrTShlW0VdLHQsdyxpLGEsdSxjLGYsbCxwLGgsZCx2LHkpLHg8Yi5sZW5ndGgtMSYmKG0rPSIsIitpKX1tKz0ocD8iIjoiLCIpK2Erbn1yZXR1cm4gbSsifSJ9KGUsdCxuLGksYSx1LGMsZixsLHAsaCxkLHYsbSl9ZnVuY3Rpb24gayhlLHQsbixyLG8saSxhLHUsYyxzLGYsbCxwLGgpe2Zvcih2YXIgZD12b2lkIDAsZz0wO2c8Yy5sZW5ndGg7ZysrKWlmKGNbZ10udGVzdChlKSl7ZD1jW2ddO2JyZWFrfWlmKCFkKXJldHVybiBudWxsO3ZhciB5PXtlZGdlU3BhY2luZzpvLG1pbjpzLHNwYWNpbmc6cn07cmV0dXJuIGQucHJpbnQoZSxmdW5jdGlvbihlKXtyZXR1cm4gTShlLHQsbixyLG8saSxhLHUsYyxzLGYsbCxwLGgpfSxmdW5jdGlvbihlKXt2YXIgcj1uK3Q7cmV0dXJuIHIrZS5yZXBsYWNlKHYsIlxuIityKX0seSxoKX1mdW5jdGlvbiBNKGUsdCxuLHIsbyxpLGEsdSxjLHMsZixsLHAsaCl7dmFyIGQ9ayhlLHQsbixyLG8saSxhLHUsYyxzLGYsbCxwLGgpO2lmKCJzdHJpbmciPT10eXBlb2YgZClyZXR1cm4gZDt2YXIgdj13KGUsbCxwKTtyZXR1cm4gbnVsbCE9PXY/djpFKGUsdCxuLHIsbyxpLGEsdSxjLHMsZixsLHAsaCl9dmFyIE89e2NhbGxUb0pTT046ITAsZWRnZVNwYWNpbmc6IlxuIixlc2NhcGVSZWdleDohMSxoaWdobGlnaHQ6ITEsaW5kZW50OjIsbWF4RGVwdGg6MS8wLG1pbjohMSxwbHVnaW5zOltdLHByaW50RnVuY3Rpb25OYW1lOiEwLHNwYWNpbmc6IlxuIix0aGVtZTp7Y29tbWVudDoiZ3JheSIsY29udGVudDoicmVzZXQiLHByb3A6InllbGxvdyIsdGFnOiJjeWFuIix2YWx1ZToiZ3JlZW4ifX07ZnVuY3Rpb24gaihlKXt2YXIgdD17fTtyZXR1cm4oMCxyLmRlZmF1bHQpKE8pLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIHRbbl09ZS5oYXNPd25Qcm9wZXJ0eShuKT8idGhlbWUiPT09bj9mdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoJ3ByZXR0eS1mb3JtYXQ6IE9wdGlvbiAidGhlbWUiIG11c3Qgbm90IGJlIG51bGwuJyk7aWYoIm9iamVjdCIhPT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxvLmRlZmF1bHQpKGUpKSl0aHJvdyBuZXcgRXJyb3IoJ3ByZXR0eS1mb3JtYXQ6IE9wdGlvbiAidGhlbWUiIG11c3QgYmUgb2YgdHlwZSAib2JqZWN0IiBidXQgaW5zdGVhZCByZWNlaXZlZCAiJysodm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxvLmRlZmF1bHQpKGUpKSsnIi4nKTt2YXIgdD1lLG49Ty50aGVtZTtyZXR1cm4oMCxyLmRlZmF1bHQpKG4pLnJlZHVjZShmdW5jdGlvbihyLG8pe3JldHVybiByW29dPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pP3Rbb106bltvXSxyfSx7fSl9KGUudGhlbWUpOmVbbl06T1tuXX0pLHQubWluJiYodC5pbmRlbnQ9MCksdH1mdW5jdGlvbiBTKGUpe3JldHVybiBuZXcgQXJyYXkoZSsxKS5qb2luKCIgIil9ZnVuY3Rpb24gQShlLHQpe3ZhciBuPXZvaWQgMDt0PyghZnVuY3Rpb24oZSl7aWYoKDAsci5kZWZhdWx0KShlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKCFPLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcigncHJldHR5LWZvcm1hdDogVW5rbm93biBvcHRpb24gIicrZSsnIi4nKX0pLGUubWluJiZ2b2lkIDAhPT1lLmluZGVudCYmMCE9PWUuaW5kZW50KXRocm93IG5ldyBFcnJvcigncHJldHR5LWZvcm1hdDogT3B0aW9ucyAibWluIiBhbmQgImluZGVudCIgY2Fubm90IGJlIHVzZWQgdG9nZXRoZXIuJyl9KHQpLG49aih0KSk6bj1PO3ZhciBvPXtjb21tZW50OntjbG9zZToiIixvcGVuOiIifSxjb250ZW50OntjbG9zZToiIixvcGVuOiIifSxwcm9wOntjbG9zZToiIixvcGVuOiIifSx0YWc6e2Nsb3NlOiIiLG9wZW46IiJ9LHZhbHVlOntjbG9zZToiIixvcGVuOiIifX07KDAsci5kZWZhdWx0KShuLnRoZW1lKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKG4uaGlnaGxpZ2h0KXt2YXIgdD1vW2VdPWNbbi50aGVtZVtlXV07aWYoIXR8fCJzdHJpbmciIT10eXBlb2YgdC5jbG9zZXx8InN0cmluZyIhPXR5cGVvZiB0Lm9wZW4pdGhyb3cgbmV3IEVycm9yKCdwcmV0dHktZm9ybWF0OiBPcHRpb24gInRoZW1lIiBoYXMgYSBrZXkgIicrZSsnIiB3aG9zZSB2YWx1ZSAiJytuLnRoZW1lW2VdKyciIGlzIHVuZGVmaW5lZCBpbiBhbnNpLXN0eWxlcy4nKX19KTt2YXIgaT12b2lkIDAsYT12b2lkIDAsdT1uLm1pbj8iICI6IlxuIixzPW4ubWluPyIiOiJcbiI7aWYobiYmbi5wbHVnaW5zLmxlbmd0aCl7dmFyIGY9ayhlLGk9UyhuLmluZGVudCksIiIsdSxzLGE9W10sbi5tYXhEZXB0aCwwLG4ucGx1Z2lucyxuLm1pbixuLmNhbGxUb0pTT04sbi5wcmludEZ1bmN0aW9uTmFtZSxuLmVzY2FwZVJlZ2V4LG8pO2lmKCJzdHJpbmciPT10eXBlb2YgZilyZXR1cm4gZn12YXIgbD13KGUsbi5wcmludEZ1bmN0aW9uTmFtZSxuLmVzY2FwZVJlZ2V4KTtyZXR1cm4gbnVsbCE9PWw/bDooaXx8KGk9UyhuLmluZGVudCkpLGF8fChhPVtdKSxFKGUsaSwiIix1LHMsYSxuLm1heERlcHRoLDAsbi5wbHVnaW5zLG4ubWluLG4uY2FsbFRvSlNPTixuLnByaW50RnVuY3Rpb25OYW1lLG4uZXNjYXBlUmVnZXgsbykpfUEucGx1Z2lucz17QXN5bW1ldHJpY01hdGNoZXI6bigzOTQpLENvbnZlcnRBbnNpOm4oMzk1KSxIVE1MRWxlbWVudDpuKDM5NiksSW1tdXRhYmxlOm4oMzk3KSxSZWFjdEVsZW1lbnQ6big0MTApLFJlYWN0VGVzdENvbXBvbmVudDpuKDQxMSl9LGUuZXhwb3J0cz1BfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big1Niksbz1uKDEzOSksaT17fTtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lbZV09e30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGlbZV0sImNoYW5uZWxzIix7dmFsdWU6cltlXS5jaGFubmVsc30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpW2VdLCJsYWJlbHMiLHt2YWx1ZTpyW2VdLmxhYmVsc30pO3ZhciB0PW8oZSk7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgcj10W25dO2lbZV1bbl09ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7aWYobnVsbD09dClyZXR1cm4gdDthcmd1bWVudHMubGVuZ3RoPjEmJih0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO3ZhciBuPWUodCk7aWYoIm9iamVjdCI9PXR5cGVvZiBuKWZvcih2YXIgcj1uLmxlbmd0aCxvPTA7bzxyO28rKyluW29dPU1hdGgucm91bmQobltvXSk7cmV0dXJuIG59O3JldHVybiJjb252ZXJzaW9uImluIGUmJih0LmNvbnZlcnNpb249ZS5jb252ZXJzaW9uKSx0fShyKSxpW2VdW25dLnJhdz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD90Oihhcmd1bWVudHMubGVuZ3RoPjEmJih0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpLGUodCkpfTtyZXR1cm4iY29udmVyc2lvbiJpbiBlJiYodC5jb252ZXJzaW9uPWUuY29udmVyc2lvbiksdH0ocil9KX0pLGUuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQsbil7IHZhciByO3I9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihyKXtpZih0W3JdKXJldHVybiB0W3JdLmV4cG9ydHM7dmFyIG89dFtyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIGVbcl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sb2FkZWQ9ITAsby5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLnA9IiIsbigwKX0oW2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuY2Fub25pY2FsaXplPXQuY29udmVydENoYW5nZXNUb1hNTD10LmNvbnZlcnRDaGFuZ2VzVG9ETVA9dC5tZXJnZT10LnBhcnNlUGF0Y2g9dC5hcHBseVBhdGNoZXM9dC5hcHBseVBhdGNoPXQuY3JlYXRlUGF0Y2g9dC5jcmVhdGVUd29GaWxlc1BhdGNoPXQuc3RydWN0dXJlZFBhdGNoPXQuZGlmZkFycmF5cz10LmRpZmZKc29uPXQuZGlmZkNzcz10LmRpZmZTZW50ZW5jZXM9dC5kaWZmVHJpbW1lZExpbmVzPXQuZGlmZkxpbmVzPXQuZGlmZldvcmRzV2l0aFNwYWNlPXQuZGlmZldvcmRzPXQuZGlmZkNoYXJzPXQuRGlmZj12b2lkIDA7dmFyIHIsbz1uKDEpLGk9KHI9bykmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9LGE9bigyKSx1PW4oMyksYz1uKDUpLHM9big2KSxmPW4oNyksbD1uKDgpLHA9big5KSxoPW4oMTApLGQ9bigxMSksdj1uKDEzKSxnPW4oMTQpLHk9bigxNiksbT1uKDE3KTt0LkRpZmY9aS5kZWZhdWx0LHQuZGlmZkNoYXJzPWEuZGlmZkNoYXJzLHQuZGlmZldvcmRzPXUuZGlmZldvcmRzLHQuZGlmZldvcmRzV2l0aFNwYWNlPXUuZGlmZldvcmRzV2l0aFNwYWNlLHQuZGlmZkxpbmVzPWMuZGlmZkxpbmVzLHQuZGlmZlRyaW1tZWRMaW5lcz1jLmRpZmZUcmltbWVkTGluZXMsdC5kaWZmU2VudGVuY2VzPXMuZGlmZlNlbnRlbmNlcyx0LmRpZmZDc3M9Zi5kaWZmQ3NzLHQuZGlmZkpzb249bC5kaWZmSnNvbix0LmRpZmZBcnJheXM9cC5kaWZmQXJyYXlzLHQuc3RydWN0dXJlZFBhdGNoPWcuc3RydWN0dXJlZFBhdGNoLHQuY3JlYXRlVHdvRmlsZXNQYXRjaD1nLmNyZWF0ZVR3b0ZpbGVzUGF0Y2gsdC5jcmVhdGVQYXRjaD1nLmNyZWF0ZVBhdGNoLHQuYXBwbHlQYXRjaD1oLmFwcGx5UGF0Y2gsdC5hcHBseVBhdGNoZXM9aC5hcHBseVBhdGNoZXMsdC5wYXJzZVBhdGNoPWQucGFyc2VQYXRjaCx0Lm1lcmdlPXYubWVyZ2UsdC5jb252ZXJ0Q2hhbmdlc1RvRE1QPXkuY29udmVydENoYW5nZXNUb0RNUCx0LmNvbnZlcnRDaGFuZ2VzVG9YTUw9bS5jb252ZXJ0Q2hhbmdlc1RvWE1MLHQuY2Fub25pY2FsaXplPWwuY2Fub25pY2FsaXplfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIHIoZSx0LG4scixvKXtmb3IodmFyIGk9MCxhPXQubGVuZ3RoLHU9MCxjPTA7aTxhO2krKyl7dmFyIHM9dFtpXTtpZihzLnJlbW92ZWQpe2lmKHMudmFsdWU9ZS5qb2luKHIuc2xpY2UoYyxjK3MuY291bnQpKSxjKz1zLmNvdW50LGkmJnRbaS0xXS5hZGRlZCl7dmFyIGY9dFtpLTFdO3RbaS0xXT10W2ldLHRbaV09Zn19ZWxzZXtpZighcy5hZGRlZCYmbyl7dmFyIGw9bi5zbGljZSh1LHUrcy5jb3VudCk7bD1sLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPXJbYyt0XTtyZXR1cm4gbi5sZW5ndGg+ZS5sZW5ndGg/bjplfSkscy52YWx1ZT1lLmpvaW4obCl9ZWxzZSBzLnZhbHVlPWUuam9pbihuLnNsaWNlKHUsdStzLmNvdW50KSk7dSs9cy5jb3VudCxzLmFkZGVkfHwoYys9cy5jb3VudCl9fXZhciBwPXRbYS0xXTtyZXR1cm4gYT4xJiYic3RyaW5nIj09dHlwZW9mIHAudmFsdWUmJihwLmFkZGVkfHxwLnJlbW92ZWQpJiZlLmVxdWFscygiIixwLnZhbHVlKSYmKHRbYS0yXS52YWx1ZSs9cC52YWx1ZSx0LnBvcCgpKSx0fWZ1bmN0aW9uIG8oZSl7cmV0dXJue25ld1BvczplLm5ld1Bvcyxjb21wb25lbnRzOmUuY29tcG9uZW50cy5zbGljZSgwKX19dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1uLG4ucHJvdG90eXBlPXtkaWZmOmZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9bi5jYWxsYmFjazsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKGk9bixuPXt9KSx0aGlzLm9wdGlvbnM9bjt2YXIgYT10aGlzO2Z1bmN0aW9uIHUoZSl7cmV0dXJuIGk/KHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpKHZvaWQgMCxlKX0sMCksITApOmV9ZT10aGlzLmNhc3RJbnB1dChlKSx0PXRoaXMuY2FzdElucHV0KHQpLGU9dGhpcy5yZW1vdmVFbXB0eSh0aGlzLnRva2VuaXplKGUpKTt2YXIgYz0odD10aGlzLnJlbW92ZUVtcHR5KHRoaXMudG9rZW5pemUodCkpKS5sZW5ndGgscz1lLmxlbmd0aCxmPTEsbD1jK3MscD1be25ld1BvczotMSxjb21wb25lbnRzOltdfV0saD10aGlzLmV4dHJhY3RDb21tb24ocFswXSx0LGUsMCk7aWYocFswXS5uZXdQb3MrMT49YyYmaCsxPj1zKXJldHVybiB1KFt7dmFsdWU6dGhpcy5qb2luKHQpLGNvdW50OnQubGVuZ3RofV0pO2Z1bmN0aW9uIGQoKXtmb3IodmFyIG49LTEqZjtuPD1mO24rPTIpe3ZhciBpPXZvaWQgMCxsPXBbbi0xXSxoPXBbbisxXSxkPShoP2gubmV3UG9zOjApLW47bCYmKHBbbi0xXT12b2lkIDApO3ZhciB2PWwmJmwubmV3UG9zKzE8YyxnPWgmJjA8PWQmJmQ8cztpZih2fHxnKXtpZighdnx8ZyYmbC5uZXdQb3M8aC5uZXdQb3M/KGk9byhoKSxhLnB1c2hDb21wb25lbnQoaS5jb21wb25lbnRzLHZvaWQgMCwhMCkpOigoaT1sKS5uZXdQb3MrKyxhLnB1c2hDb21wb25lbnQoaS5jb21wb25lbnRzLCEwLHZvaWQgMCkpLGQ9YS5leHRyYWN0Q29tbW9uKGksdCxlLG4pLGkubmV3UG9zKzE+PWMmJmQrMT49cylyZXR1cm4gdShyKGEsaS5jb21wb25lbnRzLHQsZSxhLnVzZUxvbmdlc3RUb2tlbikpO3Bbbl09aX1lbHNlIHBbbl09dm9pZCAwfWYrK31pZihpKSFmdW5jdGlvbiBlKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKGY+bClyZXR1cm4gaSgpO2QoKXx8ZSgpfSwwKX0oKTtlbHNlIGZvcig7Zjw9bDspe3ZhciB2PWQoKTtpZih2KXJldHVybiB2fX0scHVzaENvbXBvbmVudDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZVtlLmxlbmd0aC0xXTtyJiZyLmFkZGVkPT09dCYmci5yZW1vdmVkPT09bj9lW2UubGVuZ3RoLTFdPXtjb3VudDpyLmNvdW50KzEsYWRkZWQ6dCxyZW1vdmVkOm59OmUucHVzaCh7Y291bnQ6MSxhZGRlZDp0LHJlbW92ZWQ6bn0pfSxleHRyYWN0Q29tbW9uOmZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbz10Lmxlbmd0aCxpPW4ubGVuZ3RoLGE9ZS5uZXdQb3MsdT1hLXIsYz0wO2ErMTxvJiZ1KzE8aSYmdGhpcy5lcXVhbHModFthKzFdLG5bdSsxXSk7KWErKyx1KyssYysrO3JldHVybiBjJiZlLmNvbXBvbmVudHMucHVzaCh7Y291bnQ6Y30pLGUubmV3UG9zPWEsdX0sZXF1YWxzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3B0aW9ucy5jb21wYXJhdG9yP3RoaXMub3B0aW9ucy5jb21wYXJhdG9yKGUsdCk6ZT09PXR8fHRoaXMub3B0aW9ucy5pZ25vcmVDYXNlJiZlLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9LHJlbW92ZUVtcHR5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXSYmdC5wdXNoKGVbbl0pO3JldHVybiB0fSxjYXN0SW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHRva2VuaXplOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KCIiKX0sam9pbjpmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCIiKX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmNoYXJhY3RlckRpZmY9dm9pZCAwLHQuZGlmZkNoYXJzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYS5kaWZmKGUsdCxuKX07dmFyIHIsbz1uKDEpLGk9KHI9bykmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9O3ZhciBhPXQuY2hhcmFjdGVyRGlmZj1uZXcgaS5kZWZhdWx0fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LndvcmREaWZmPXZvaWQgMCx0LmRpZmZXb3Jkcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG49KDAsYS5nZW5lcmF0ZU9wdGlvbnMpKG4se2lnbm9yZVdoaXRlc3BhY2U6ITB9KSxzLmRpZmYoZSx0LG4pfSx0LmRpZmZXb3Jkc1dpdGhTcGFjZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHMuZGlmZihlLHQsbil9O3ZhciByLG89bigxKSxpPShyPW8pJiZyLl9fZXNNb2R1bGU/cjp7ZGVmYXVsdDpyfSxhPW4oNCk7dmFyIHU9L15bQS1aYS16XHhDMC1cdTAyQzZcdTAyQzgtXHUwMkQ3XHUwMkRFLVx1MDJGRlx1MUUwMC1cdTFFRkZdKyQvLGM9L1xTLyxzPXQud29yZERpZmY9bmV3IGkuZGVmYXVsdDtzLmVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9wdGlvbnMuaWdub3JlQ2FzZSYmKGU9ZS50b0xvd2VyQ2FzZSgpLHQ9dC50b0xvd2VyQ2FzZSgpKSxlPT09dHx8dGhpcy5vcHRpb25zLmlnbm9yZVdoaXRlc3BhY2UmJiFjLnRlc3QoZSkmJiFjLnRlc3QodCl9LHMudG9rZW5pemU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuc3BsaXQoLyhccyt8XGIpLyksbj0wO248dC5sZW5ndGgtMTtuKyspIXRbbisxXSYmdFtuKzJdJiZ1LnRlc3QodFtuXSkmJnUudGVzdCh0W24rMl0pJiYodFtuXSs9dFtuKzJdLHQuc3BsaWNlKG4rMSwyKSxuLS0pO3JldHVybiB0fX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZ2VuZXJhdGVPcHRpb25zPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpdC5jYWxsYmFjaz1lO2Vsc2UgaWYoZSlmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKTtyZXR1cm4gdH19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQubGluZURpZmY9dm9pZCAwLHQuZGlmZkxpbmVzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdS5kaWZmKGUsdCxuKX0sdC5kaWZmVHJpbW1lZExpbmVzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0oMCxhLmdlbmVyYXRlT3B0aW9ucykobix7aWdub3JlV2hpdGVzcGFjZTohMH0pO3JldHVybiB1LmRpZmYoZSx0LHIpfTt2YXIgcixvPW4oMSksaT0ocj1vKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn0sYT1uKDQpO3ZhciB1PXQubGluZURpZmY9bmV3IGkuZGVmYXVsdDt1LnRva2VuaXplPWZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49ZS5zcGxpdCgvKFxufFxyXG4pLyk7bltuLmxlbmd0aC0xXXx8bi5wb3AoKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtyJTImJiF0aGlzLm9wdGlvbnMubmV3bGluZUlzVG9rZW4/dFt0Lmxlbmd0aC0xXSs9bzoodGhpcy5vcHRpb25zLmlnbm9yZVdoaXRlc3BhY2UmJihvPW8udHJpbSgpKSx0LnB1c2gobykpfXJldHVybiB0fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5zZW50ZW5jZURpZmY9dm9pZCAwLHQuZGlmZlNlbnRlbmNlcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGEuZGlmZihlLHQsbil9O3ZhciByLG89bigxKSxpPShyPW8pJiZyLl9fZXNNb2R1bGU/cjp7ZGVmYXVsdDpyfTt2YXIgYT10LnNlbnRlbmNlRGlmZj1uZXcgaS5kZWZhdWx0O2EudG9rZW5pemU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoLyhcUy4rP1suIT9dKSg/PVxzK3wkKS8pfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5jc3NEaWZmPXZvaWQgMCx0LmRpZmZDc3M9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhLmRpZmYoZSx0LG4pfTt2YXIgcixvPW4oMSksaT0ocj1vKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dmFyIGE9dC5jc3NEaWZmPW5ldyBpLmRlZmF1bHQ7YS50b2tlbml6ZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdCgvKFt7fTo7LF18XHMrKS8pfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5qc29uRGlmZj12b2lkIDA7dmFyIHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9O3QuZGlmZkpzb249ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBzLmRpZmYoZSx0LG4pfSx0LmNhbm9uaWNhbGl6ZT1mO3ZhciBvLGk9bigxKSxhPShvPWkpJiZvLl9fZXNNb2R1bGU/bzp7ZGVmYXVsdDpvfSx1PW4oNSk7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxzPXQuanNvbkRpZmY9bmV3IGEuZGVmYXVsdDtmdW5jdGlvbiBmKGUsdCxuLG8saSl7dD10fHxbXSxuPW58fFtdLG8mJihlPW8oaSxlKSk7dmFyIGE9dm9pZCAwO2ZvcihhPTA7YTx0Lmxlbmd0aDthKz0xKWlmKHRbYV09PT1lKXJldHVybiBuW2FdO3ZhciB1PXZvaWQgMDtpZigiW29iamVjdCBBcnJheV0iPT09Yy5jYWxsKGUpKXtmb3IodC5wdXNoKGUpLHU9bmV3IEFycmF5KGUubGVuZ3RoKSxuLnB1c2godSksYT0wO2E8ZS5sZW5ndGg7YSs9MSl1W2FdPWYoZVthXSx0LG4sbyxpKTtyZXR1cm4gdC5wb3AoKSxuLnBvcCgpLHV9aWYoZSYmZS50b0pTT04mJihlPWUudG9KU09OKCkpLCJvYmplY3QiPT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6cihlKSkmJm51bGwhPT1lKXt0LnB1c2goZSksdT17fSxuLnB1c2godSk7dmFyIHM9W10sbD12b2lkIDA7Zm9yKGwgaW4gZSllLmhhc093blByb3BlcnR5KGwpJiZzLnB1c2gobCk7Zm9yKHMuc29ydCgpLGE9MDthPHMubGVuZ3RoO2ErPTEpdVtsPXNbYV1dPWYoZVtsXSx0LG4sbyxsKTt0LnBvcCgpLG4ucG9wKCl9ZWxzZSB1PWU7cmV0dXJuIHV9cy51c2VMb25nZXN0VG9rZW49ITAscy50b2tlbml6ZT11LmxpbmVEaWZmLnRva2VuaXplLHMuY2FzdElucHV0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9ucyxuPXQudW5kZWZpbmVkUmVwbGFjZW1lbnQscj10LnN0cmluZ2lmeVJlcGxhY2VyLG89dm9pZCAwPT09cj9mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P246dH06cjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/ZTpKU09OLnN0cmluZ2lmeShmKGUsbnVsbCxudWxsLG8pLG8sIiAgIil9LHMuZXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEuZGVmYXVsdC5wcm90b3R5cGUuZXF1YWxzLmNhbGwocyxlLnJlcGxhY2UoLywoW1xyXG5dKS9nLCIkMSIpLHQucmVwbGFjZSgvLChbXHJcbl0pL2csIiQxIikpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5hcnJheURpZmY9dm9pZCAwLHQuZGlmZkFycmF5cz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGEuZGlmZihlLHQsbil9O3ZhciByLG89bigxKSxpPShyPW8pJiZyLl9fZXNNb2R1bGU/cjp7ZGVmYXVsdDpyfTt2YXIgYT10LmFycmF5RGlmZj1uZXcgaS5kZWZhdWx0O2EudG9rZW5pemU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2xpY2UoKX0sYS5qb2luPWEucmVtb3ZlRW1wdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmFwcGx5UGF0Y2g9dSx0LmFwcGx5UGF0Y2hlcz1mdW5jdGlvbihlLHQpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9KDAsby5wYXJzZVBhdGNoKShlKSk7dmFyIG49MDshZnVuY3Rpb24gcigpe3ZhciBvPWVbbisrXTtpZighbylyZXR1cm4gdC5jb21wbGV0ZSgpO3QubG9hZEZpbGUobyxmdW5jdGlvbihlLG4pe2lmKGUpcmV0dXJuIHQuY29tcGxldGUoZSk7dmFyIGk9dShuLG8sdCk7dC5wYXRjaGVkKG8saSxmdW5jdGlvbihlKXtpZihlKXJldHVybiB0LmNvbXBsZXRlKGUpO3IoKX0pfSl9KCl9O3ZhciByLG89bigxMSksaT1uKDEyKSxhPShyPWkpJiZyLl9fZXNNb2R1bGU/cjp7ZGVmYXVsdDpyfTtmdW5jdGlvbiB1KGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9KDAsby5wYXJzZVBhdGNoKSh0KSksQXJyYXkuaXNBcnJheSh0KSl7aWYodC5sZW5ndGg+MSl0aHJvdyBuZXcgRXJyb3IoImFwcGx5UGF0Y2ggb25seSB3b3JrcyB3aXRoIGEgc2luZ2xlIGlucHV0LiIpO3Q9dFswXX12YXIgcj1lLnNwbGl0KC9cclxufFtcblx2XGZcclx4ODVdLyksaT1lLm1hdGNoKC9cclxufFtcblx2XGZcclx4ODVdL2cpfHxbXSx1PXQuaHVua3MsYz1uLmNvbXBhcmVMaW5lfHxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdD09PXJ9LHM9MCxmPW4uZnV6ekZhY3Rvcnx8MCxsPTAscD0wLGg9dm9pZCAwLGQ9dm9pZCAwO2Z1bmN0aW9uIHYoZSx0KXtmb3IodmFyIG49MDtuPGUubGluZXMubGVuZ3RoO24rKyl7dmFyIG89ZS5saW5lc1tuXSxpPW8ubGVuZ3RoPjA/b1swXToiICIsYT1vLmxlbmd0aD4wP28uc3Vic3RyKDEpOm87aWYoIiAiPT09aXx8Ii0iPT09aSl7aWYoIWModCsxLHJbdF0saSxhKSYmKytzPmYpcmV0dXJuITE7dCsrfX1yZXR1cm4hMH1mb3IodmFyIGc9MDtnPHUubGVuZ3RoO2crKyl7Zm9yKHZhciB5PXVbZ10sbT1yLmxlbmd0aC15Lm9sZExpbmVzLGI9MCxfPXAreS5vbGRTdGFydC0xLHc9KDAsYS5kZWZhdWx0KShfLGwsbSk7dm9pZCAwIT09YjtiPXcoKSlpZih2KHksXytiKSl7eS5vZmZzZXQ9cCs9YjticmVha31pZih2b2lkIDA9PT1iKXJldHVybiExO2w9eS5vZmZzZXQreS5vbGRTdGFydCt5Lm9sZExpbmVzfWZvcih2YXIgeD0wLEU9MDtFPHUubGVuZ3RoO0UrKyl7dmFyIGs9dVtFXSxNPWsub2xkU3RhcnQray5vZmZzZXQreC0xO3grPWsubmV3TGluZXMtay5vbGRMaW5lcyxNPDAmJihNPTApO2Zvcih2YXIgTz0wO088ay5saW5lcy5sZW5ndGg7TysrKXt2YXIgaj1rLmxpbmVzW09dLFM9ai5sZW5ndGg+MD9qWzBdOiIgIixBPWoubGVuZ3RoPjA/ai5zdWJzdHIoMSk6aixUPWsubGluZWRlbGltaXRlcnNbT107aWYoIiAiPT09UylNKys7ZWxzZSBpZigiLSI9PT1TKXIuc3BsaWNlKE0sMSksaS5zcGxpY2UoTSwxKTtlbHNlIGlmKCIrIj09PVMpci5zcGxpY2UoTSwwLEEpLGkuc3BsaWNlKE0sMCxUKSxNKys7ZWxzZSBpZigiXFwiPT09Uyl7dmFyIEM9ay5saW5lc1tPLTFdP2subGluZXNbTy0xXVswXTpudWxsOyIrIj09PUM/aD0hMDoiLSI9PT1DJiYoZD0hMCl9fX1pZihoKWZvcig7IXJbci5sZW5ndGgtMV07KXIucG9wKCksaS5wb3AoKTtlbHNlIGQmJihyLnB1c2goIiIpLGkucHVzaCgiXG4iKSk7Zm9yKHZhciBQPTA7UDxyLmxlbmd0aC0xO1ArKylyW1BdPXJbUF0raVtQXTtyZXR1cm4gci5qb2luKCIiKX19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LnBhcnNlUGF0Y2g9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49ZS5zcGxpdCgvXHJcbnxbXG5cdlxmXHJceDg1XS8pLHI9ZS5tYXRjaCgvXHJcbnxbXG5cdlxmXHJceDg1XS9nKXx8W10sbz1bXSxpPTA7ZnVuY3Rpb24gYSgpe3ZhciBlPXt9O2ZvcihvLnB1c2goZSk7aTxuLmxlbmd0aDspe3ZhciByPW5baV07aWYoL14oXC1cLVwtfFwrXCtcK3xAQClccy8udGVzdChyKSlicmVhazt2YXIgYT0vXig/OkluZGV4OnxkaWZmKD86IC1yIFx3KykrKVxzKyguKz8pXHMqJC8uZXhlYyhyKTthJiYoZS5pbmRleD1hWzFdKSxpKyt9Zm9yKHUoZSksdShlKSxlLmh1bmtzPVtdO2k8bi5sZW5ndGg7KXt2YXIgcz1uW2ldO2lmKC9eKEluZGV4OnxkaWZmfFwtXC1cLXxcK1wrXCspXHMvLnRlc3QocykpYnJlYWs7aWYoL15AQC8udGVzdChzKSllLmh1bmtzLnB1c2goYygpKTtlbHNle2lmKHMmJnQuc3RyaWN0KXRocm93IG5ldyBFcnJvcigiVW5rbm93biBsaW5lICIrKGkrMSkrIiAiK0pTT04uc3RyaW5naWZ5KHMpKTtpKyt9fX1mdW5jdGlvbiB1KGUpe3ZhciB0PS9eKC0tLXxcK1wrXCspXHMrKC4qKSQvLmV4ZWMobltpXSk7aWYodCl7dmFyIHI9Ii0tLSI9PT10WzFdPyJvbGQiOiJuZXciLG89dFsyXS5zcGxpdCgiXHQiLDIpLGE9b1swXS5yZXBsYWNlKC9cXFxcL2csIlxcIik7L14iLioiJC8udGVzdChhKSYmKGE9YS5zdWJzdHIoMSxhLmxlbmd0aC0yKSksZVtyKyJGaWxlTmFtZSJdPWEsZVtyKyJIZWFkZXIiXT0ob1sxXXx8IiIpLnRyaW0oKSxpKyt9fWZ1bmN0aW9uIGMoKXtmb3IodmFyIGU9aSxvPW5baSsrXSxhPW8uc3BsaXQoL0BAIC0oXGQrKSg/OiwoXGQrKSk/IFwrKFxkKykoPzosKFxkKykpPyBAQC8pLHU9e29sZFN0YXJ0OithWzFdLG9sZExpbmVzOithWzJdfHwxLG5ld1N0YXJ0OithWzNdLG5ld0xpbmVzOithWzRdfHwxLGxpbmVzOltdLGxpbmVkZWxpbWl0ZXJzOltdfSxjPTAscz0wO2k8bi5sZW5ndGgmJiEoMD09PW5baV0uaW5kZXhPZigiLS0tICIpJiZpKzI8bi5sZW5ndGgmJjA9PT1uW2krMV0uaW5kZXhPZigiKysrICIpJiYwPT09bltpKzJdLmluZGV4T2YoIkBAIikpO2krKyl7dmFyIGY9MD09bltpXS5sZW5ndGgmJmkhPW4ubGVuZ3RoLTE/IiAiOm5baV1bMF07aWYoIisiIT09ZiYmIi0iIT09ZiYmIiAiIT09ZiYmIlxcIiE9PWYpYnJlYWs7dS5saW5lcy5wdXNoKG5baV0pLHUubGluZWRlbGltaXRlcnMucHVzaChyW2ldfHwiXG4iKSwiKyI9PT1mP2MrKzoiLSI9PT1mP3MrKzoiICI9PT1mJiYoYysrLHMrKyl9aWYoY3x8MSE9PXUubmV3TGluZXN8fCh1Lm5ld0xpbmVzPTApLHN8fDEhPT11Lm9sZExpbmVzfHwodS5vbGRMaW5lcz0wKSx0LnN0cmljdCl7aWYoYyE9PXUubmV3TGluZXMpdGhyb3cgbmV3IEVycm9yKCJBZGRlZCBsaW5lIGNvdW50IGRpZCBub3QgbWF0Y2ggZm9yIGh1bmsgYXQgbGluZSAiKyhlKzEpKTtpZihzIT09dS5vbGRMaW5lcyl0aHJvdyBuZXcgRXJyb3IoIlJlbW92ZWQgbGluZSBjb3VudCBkaWQgbm90IG1hdGNoIGZvciBodW5rIGF0IGxpbmUgIisoZSsxKSl9cmV0dXJuIHV9Zm9yKDtpPG4ubGVuZ3RoOylhKCk7cmV0dXJuIG99fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0hMCxvPSExLGk9ITEsYT0xO3JldHVybiBmdW5jdGlvbiB1KCl7aWYociYmIWkpe2lmKG8/YSsrOnI9ITEsZSthPD1uKXJldHVybiBhO2k9ITB9aWYoIW8pcmV0dXJuIGl8fChyPSEwKSx0PD1lLWE/LWErKzoobz0hMCx1KCkpfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuY2FsY0xpbmVDb3VudD11LHQubWVyZ2U9ZnVuY3Rpb24oZSx0LG4pe2U9YyhlLG4pLHQ9Yyh0LG4pO3ZhciByPXt9OyhlLmluZGV4fHx0LmluZGV4KSYmKHIuaW5kZXg9ZS5pbmRleHx8dC5pbmRleCk7KGUubmV3RmlsZU5hbWV8fHQubmV3RmlsZU5hbWUpJiYocyhlKT9zKHQpPyhyLm9sZEZpbGVOYW1lPWYocixlLm9sZEZpbGVOYW1lLHQub2xkRmlsZU5hbWUpLHIubmV3RmlsZU5hbWU9ZihyLGUubmV3RmlsZU5hbWUsdC5uZXdGaWxlTmFtZSksci5vbGRIZWFkZXI9ZihyLGUub2xkSGVhZGVyLHQub2xkSGVhZGVyKSxyLm5ld0hlYWRlcj1mKHIsZS5uZXdIZWFkZXIsdC5uZXdIZWFkZXIpKTooci5vbGRGaWxlTmFtZT1lLm9sZEZpbGVOYW1lLHIubmV3RmlsZU5hbWU9ZS5uZXdGaWxlTmFtZSxyLm9sZEhlYWRlcj1lLm9sZEhlYWRlcixyLm5ld0hlYWRlcj1lLm5ld0hlYWRlcik6KHIub2xkRmlsZU5hbWU9dC5vbGRGaWxlTmFtZXx8ZS5vbGRGaWxlTmFtZSxyLm5ld0ZpbGVOYW1lPXQubmV3RmlsZU5hbWV8fGUubmV3RmlsZU5hbWUsci5vbGRIZWFkZXI9dC5vbGRIZWFkZXJ8fGUub2xkSGVhZGVyLHIubmV3SGVhZGVyPXQubmV3SGVhZGVyfHxlLm5ld0hlYWRlcikpO3IuaHVua3M9W107dmFyIG89MCxpPTAsYT0wLHU9MDtmb3IoO288ZS5odW5rcy5sZW5ndGh8fGk8dC5odW5rcy5sZW5ndGg7KXt2YXIgZD1lLmh1bmtzW29dfHx7b2xkU3RhcnQ6MS8wfSx2PXQuaHVua3NbaV18fHtvbGRTdGFydDoxLzB9O2lmKGwoZCx2KSlyLmh1bmtzLnB1c2gocChkLGEpKSxvKyssdSs9ZC5uZXdMaW5lcy1kLm9sZExpbmVzO2Vsc2UgaWYobCh2LGQpKXIuaHVua3MucHVzaChwKHYsdSkpLGkrKyxhKz12Lm5ld0xpbmVzLXYub2xkTGluZXM7ZWxzZXt2YXIgZz17b2xkU3RhcnQ6TWF0aC5taW4oZC5vbGRTdGFydCx2Lm9sZFN0YXJ0KSxvbGRMaW5lczowLG5ld1N0YXJ0Ok1hdGgubWluKGQubmV3U3RhcnQrYSx2Lm9sZFN0YXJ0K3UpLG5ld0xpbmVzOjAsbGluZXM6W119O2goZyxkLm9sZFN0YXJ0LGQubGluZXMsdi5vbGRTdGFydCx2LmxpbmVzKSxpKyssbysrLHIuaHVua3MucHVzaChnKX19cmV0dXJuIHJ9O3ZhciByPW4oMTQpLG89bigxMSksaT1uKDE1KTtmdW5jdGlvbiBhKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLG49QXJyYXkoZS5sZW5ndGgpO3Q8ZS5sZW5ndGg7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn1yZXR1cm4gQXJyYXkuZnJvbShlKX1mdW5jdGlvbiB1KGUpe3ZhciB0PWZ1bmN0aW9uIGUodCl7dmFyIG49MDt2YXIgcj0wO3QuZm9yRWFjaChmdW5jdGlvbih0KXtpZigic3RyaW5nIiE9dHlwZW9mIHQpe3ZhciBvPWUodC5taW5lKSxpPWUodC50aGVpcnMpO3ZvaWQgMCE9PW4mJihvLm9sZExpbmVzPT09aS5vbGRMaW5lcz9uKz1vLm9sZExpbmVzOm49dm9pZCAwKSx2b2lkIDAhPT1yJiYoby5uZXdMaW5lcz09PWkubmV3TGluZXM/cis9by5uZXdMaW5lczpyPXZvaWQgMCl9ZWxzZSB2b2lkIDA9PT1yfHwiKyIhPT10WzBdJiYiICIhPT10WzBdfHxyKyssdm9pZCAwPT09bnx8Ii0iIT09dFswXSYmIiAiIT09dFswXXx8bisrfSk7cmV0dXJue29sZExpbmVzOm4sbmV3TGluZXM6cn19KGUubGluZXMpLG49dC5vbGRMaW5lcyxyPXQubmV3TGluZXM7dm9pZCAwIT09bj9lLm9sZExpbmVzPW46ZGVsZXRlIGUub2xkTGluZXMsdm9pZCAwIT09cj9lLm5ld0xpbmVzPXI6ZGVsZXRlIGUubmV3TGluZXN9ZnVuY3Rpb24gYyhlLHQpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoL15AQC9tLnRlc3QoZSl8fC9eSW5kZXg6L20udGVzdChlKSlyZXR1cm4oMCxvLnBhcnNlUGF0Y2gpKGUpWzBdO2lmKCF0KXRocm93IG5ldyBFcnJvcigiTXVzdCBwcm92aWRlIGEgYmFzZSByZWZlcmVuY2Ugb3IgcGFzcyBpbiBhIHBhdGNoIik7cmV0dXJuKDAsci5zdHJ1Y3R1cmVkUGF0Y2gpKHZvaWQgMCx2b2lkIDAsdCxlKX1yZXR1cm4gZX1mdW5jdGlvbiBzKGUpe3JldHVybiBlLm5ld0ZpbGVOYW1lJiZlLm5ld0ZpbGVOYW1lIT09ZS5vbGRGaWxlTmFtZX1mdW5jdGlvbiBmKGUsdCxuKXtyZXR1cm4gdD09PW4/dDooZS5jb25mbGljdD0hMCx7bWluZTp0LHRoZWlyczpufSl9ZnVuY3Rpb24gbChlLHQpe3JldHVybiBlLm9sZFN0YXJ0PHQub2xkU3RhcnQmJmUub2xkU3RhcnQrZS5vbGRMaW5lczx0Lm9sZFN0YXJ0fWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm57b2xkU3RhcnQ6ZS5vbGRTdGFydCxvbGRMaW5lczplLm9sZExpbmVzLG5ld1N0YXJ0OmUubmV3U3RhcnQrdCxuZXdMaW5lczplLm5ld0xpbmVzLGxpbmVzOmUubGluZXN9fWZ1bmN0aW9uIGgoZSx0LG4scixvKXt2YXIgaT17b2Zmc2V0OnQsbGluZXM6bixpbmRleDowfSxjPXtvZmZzZXQ6cixsaW5lczpvLGluZGV4OjB9O2Zvcih5KGUsaSxjKSx5KGUsYyxpKTtpLmluZGV4PGkubGluZXMubGVuZ3RoJiZjLmluZGV4PGMubGluZXMubGVuZ3RoOyl7dmFyIHM9aS5saW5lc1tpLmluZGV4XSxmPWMubGluZXNbYy5pbmRleF07aWYoIi0iIT09c1swXSYmIisiIT09c1swXXx8Ii0iIT09ZlswXSYmIisiIT09ZlswXSlpZigiKyI9PT1zWzBdJiYiICI9PT1mWzBdKXt2YXIgbDsobD1lLmxpbmVzKS5wdXNoLmFwcGx5KGwsYShiKGkpKSl9ZWxzZSBpZigiKyI9PT1mWzBdJiYiICI9PT1zWzBdKXt2YXIgcDsocD1lLmxpbmVzKS5wdXNoLmFwcGx5KHAsYShiKGMpKSl9ZWxzZSItIj09PXNbMF0mJiIgIj09PWZbMF0/dihlLGksYyk6Ii0iPT09ZlswXSYmIiAiPT09c1swXT92KGUsYyxpLCEwKTpzPT09Zj8oZS5saW5lcy5wdXNoKHMpLGkuaW5kZXgrKyxjLmluZGV4KyspOmcoZSxiKGkpLGIoYykpO2Vsc2UgZChlLGksYyl9bShlLGkpLG0oZSxjKSx1KGUpfWZ1bmN0aW9uIGQoZSx0LG4pe3ZhciByPWIodCksbz1iKG4pO2lmKF8ocikmJl8obykpe3ZhciB1LGM7aWYoKDAsaS5hcnJheVN0YXJ0c1dpdGgpKHIsbykmJncobixyLHIubGVuZ3RoLW8ubGVuZ3RoKSlyZXR1cm4gdm9pZCh1PWUubGluZXMpLnB1c2guYXBwbHkodSxhKHIpKTtpZigoMCxpLmFycmF5U3RhcnRzV2l0aCkobyxyKSYmdyh0LG8sby5sZW5ndGgtci5sZW5ndGgpKXJldHVybiB2b2lkKGM9ZS5saW5lcykucHVzaC5hcHBseShjLGEobykpfWVsc2UgaWYoKDAsaS5hcnJheUVxdWFsKShyLG8pKXt2YXIgcztyZXR1cm4gdm9pZChzPWUubGluZXMpLnB1c2guYXBwbHkocyxhKHIpKX1nKGUscixvKX1mdW5jdGlvbiB2KGUsdCxuLHIpe3ZhciBvLGk9Yih0KSx1PWZ1bmN0aW9uKGUsdCl7dmFyIG49W10scj1bXSxvPTAsaT0hMSxhPSExO2Zvcig7bzx0Lmxlbmd0aCYmZS5pbmRleDxlLmxpbmVzLmxlbmd0aDspe3ZhciB1PWUubGluZXNbZS5pbmRleF0sYz10W29dO2lmKCIrIj09PWNbMF0pYnJlYWs7aWYoaT1pfHwiICIhPT11WzBdLHIucHVzaChjKSxvKyssIisiPT09dVswXSlmb3IoYT0hMDsiKyI9PT11WzBdOyluLnB1c2godSksdT1lLmxpbmVzWysrZS5pbmRleF07Yy5zdWJzdHIoMSk9PT11LnN1YnN0cigxKT8obi5wdXNoKHUpLGUuaW5kZXgrKyk6YT0hMH0iKyI9PT0odFtvXXx8IiIpWzBdJiZpJiYoYT0hMCk7aWYoYSlyZXR1cm4gbjtmb3IoO288dC5sZW5ndGg7KXIucHVzaCh0W28rK10pO3JldHVybnttZXJnZWQ6cixjaGFuZ2VzOm59fShuLGkpO3UubWVyZ2VkPyhvPWUubGluZXMpLnB1c2guYXBwbHkobyxhKHUubWVyZ2VkKSk6ZyhlLHI/dTppLHI/aTp1KX1mdW5jdGlvbiBnKGUsdCxuKXtlLmNvbmZsaWN0PSEwLGUubGluZXMucHVzaCh7Y29uZmxpY3Q6ITAsbWluZTp0LHRoZWlyczpufSl9ZnVuY3Rpb24geShlLHQsbil7Zm9yKDt0Lm9mZnNldDxuLm9mZnNldCYmdC5pbmRleDx0LmxpbmVzLmxlbmd0aDspe3ZhciByPXQubGluZXNbdC5pbmRleCsrXTtlLmxpbmVzLnB1c2gociksdC5vZmZzZXQrK319ZnVuY3Rpb24gbShlLHQpe2Zvcig7dC5pbmRleDx0LmxpbmVzLmxlbmd0aDspe3ZhciBuPXQubGluZXNbdC5pbmRleCsrXTtlLmxpbmVzLnB1c2gobil9fWZ1bmN0aW9uIGIoZSl7Zm9yKHZhciB0PVtdLG49ZS5saW5lc1tlLmluZGV4XVswXTtlLmluZGV4PGUubGluZXMubGVuZ3RoOyl7dmFyIHI9ZS5saW5lc1tlLmluZGV4XTtpZigiLSI9PT1uJiYiKyI9PT1yWzBdJiYobj0iKyIpLG4hPT1yWzBdKWJyZWFrO3QucHVzaChyKSxlLmluZGV4Kyt9cmV0dXJuIHR9ZnVuY3Rpb24gXyhlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmIi0iPT09dFswXX0sITApfWZ1bmN0aW9uIHcoZSx0LG4pe2Zvcih2YXIgcj0wO3I8bjtyKyspe3ZhciBvPXRbdC5sZW5ndGgtbityXS5zdWJzdHIoMSk7aWYoZS5saW5lc1tlLmluZGV4K3JdIT09IiAiK28pcmV0dXJuITF9cmV0dXJuIGUuaW5kZXgrPW4sITB9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LnN0cnVjdHVyZWRQYXRjaD1pLHQuY3JlYXRlVHdvRmlsZXNQYXRjaD1hLHQuY3JlYXRlUGF0Y2g9ZnVuY3Rpb24oZSx0LG4scixvLGkpe3JldHVybiBhKGUsZSx0LG4scixvLGkpfTt2YXIgcj1uKDUpO2Z1bmN0aW9uIG8oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAsbj1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0Kyspblt0XT1lW3RdO3JldHVybiBufXJldHVybiBBcnJheS5mcm9tKGUpfWZ1bmN0aW9uIGkoZSx0LG4saSxhLHUsYyl7Y3x8KGM9e30pLHZvaWQgMD09PWMuY29udGV4dCYmKGMuY29udGV4dD00KTt2YXIgcz0oMCxyLmRpZmZMaW5lcykobixpLGMpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiIgIitlfSl9cy5wdXNoKHt2YWx1ZToiIixsaW5lczpbXX0pO2Zvcih2YXIgbD1bXSxwPTAsaD0wLGQ9W10sdj0xLGc9MSx5PWZ1bmN0aW9uKGUpe3ZhciB0PXNbZV0scj10LmxpbmVzfHx0LnZhbHVlLnJlcGxhY2UoL1xuJC8sIiIpLnNwbGl0KCJcbiIpO2lmKHQubGluZXM9cix0LmFkZGVkfHx0LnJlbW92ZWQpe3ZhciBhO2lmKCFwKXt2YXIgdT1zW2UtMV07cD12LGg9Zyx1JiYoZD1jLmNvbnRleHQ+MD9mKHUubGluZXMuc2xpY2UoLWMuY29udGV4dCkpOltdLHAtPWQubGVuZ3RoLGgtPWQubGVuZ3RoKX0oYT1kKS5wdXNoLmFwcGx5KGEsbyhyLm1hcChmdW5jdGlvbihlKXtyZXR1cm4odC5hZGRlZD8iKyI6Ii0iKStlfSkpKSx0LmFkZGVkP2crPXIubGVuZ3RoOnYrPXIubGVuZ3RofWVsc2V7aWYocClpZihyLmxlbmd0aDw9MipjLmNvbnRleHQmJmU8cy5sZW5ndGgtMil7dmFyIHk7KHk9ZCkucHVzaC5hcHBseSh5LG8oZihyKSkpfWVsc2V7dmFyIG0sYj1NYXRoLm1pbihyLmxlbmd0aCxjLmNvbnRleHQpOyhtPWQpLnB1c2guYXBwbHkobSxvKGYoci5zbGljZSgwLGIpKSkpO3ZhciBfPXtvbGRTdGFydDpwLG9sZExpbmVzOnYtcCtiLG5ld1N0YXJ0OmgsbmV3TGluZXM6Zy1oK2IsbGluZXM6ZH07aWYoZT49cy5sZW5ndGgtMiYmci5sZW5ndGg8PWMuY29udGV4dCl7dmFyIHc9L1xuJC8udGVzdChuKSx4PS9cbiQvLnRlc3QoaSk7MCE9ci5sZW5ndGh8fHc/dyYmeHx8ZC5wdXNoKCJcXCBObyBuZXdsaW5lIGF0IGVuZCBvZiBmaWxlIik6ZC5zcGxpY2UoXy5vbGRMaW5lcywwLCJcXCBObyBuZXdsaW5lIGF0IGVuZCBvZiBmaWxlIil9bC5wdXNoKF8pLHA9MCxoPTAsZD1bXX12Kz1yLmxlbmd0aCxnKz1yLmxlbmd0aH19LG09MDttPHMubGVuZ3RoO20rKyl5KG0pO3JldHVybntvbGRGaWxlTmFtZTplLG5ld0ZpbGVOYW1lOnQsb2xkSGVhZGVyOmEsbmV3SGVhZGVyOnUsaHVua3M6bH19ZnVuY3Rpb24gYShlLHQsbixyLG8sYSx1KXt2YXIgYz1pKGUsdCxuLHIsbyxhLHUpLHM9W107ZT09dCYmcy5wdXNoKCJJbmRleDogIitlKSxzLnB1c2goIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKSxzLnB1c2goIi0tLSAiK2Mub2xkRmlsZU5hbWUrKHZvaWQgMD09PWMub2xkSGVhZGVyPyIiOiJcdCIrYy5vbGRIZWFkZXIpKSxzLnB1c2goIisrKyAiK2MubmV3RmlsZU5hbWUrKHZvaWQgMD09PWMubmV3SGVhZGVyPyIiOiJcdCIrYy5uZXdIZWFkZXIpKTtmb3IodmFyIGY9MDtmPGMuaHVua3MubGVuZ3RoO2YrKyl7dmFyIGw9Yy5odW5rc1tmXTtzLnB1c2goIkBAIC0iK2wub2xkU3RhcnQrIiwiK2wub2xkTGluZXMrIiArIitsLm5ld1N0YXJ0KyIsIitsLm5ld0xpbmVzKyIgQEAiKSxzLnB1c2guYXBwbHkocyxsLmxpbmVzKX1yZXR1cm4gcy5qb2luKCJcbiIpKyJcbiJ9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7aWYodC5sZW5ndGg+ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9dC5fX2VzTW9kdWxlPSEwLHQuYXJyYXlFcXVhbD1mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7cmV0dXJuIG4oZSx0KX0sdC5hcnJheVN0YXJ0c1dpdGg9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuY29udmVydENoYW5nZXNUb0RNUD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj12b2lkIDAscj12b2lkIDAsbz0wO288ZS5sZW5ndGg7bysrKW49ZVtvXSxyPW4uYWRkZWQ/MTpuLnJlbW92ZWQ/LTE6MCx0LnB1c2goW3Isbi52YWx1ZV0pO3JldHVybiB0fX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXt2YXIgdD1lO3JldHVybiB0PSh0PSh0PSh0PXQucmVwbGFjZSgvJi9nLCImYW1wOyIpKS5yZXBsYWNlKC88L2csIiZsdDsiKSkucmVwbGFjZSgvPi9nLCImZ3Q7IikpLnJlcGxhY2UoLyIvZywiJnF1b3Q7Iil9dC5fX2VzTW9kdWxlPSEwLHQuY29udmVydENoYW5nZXNUb1hNTD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO28uYWRkZWQ/dC5wdXNoKCI8aW5zPiIpOm8ucmVtb3ZlZCYmdC5wdXNoKCI8ZGVsPiIpLHQucHVzaChuKG8udmFsdWUpKSxvLmFkZGVkP3QucHVzaCgiPC9pbnM+Iik6by5yZW1vdmVkJiZ0LnB1c2goIjwvZGVsPiIpfXJldHVybiB0LmpvaW4oIiIpfX1dKX0sZS5leHBvcnRzPXIoKX0sZnVuY3Rpb24oZSx0KXt2YXIgbj17fS50b1N0cmluZztlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09bi5jYWxsKGUpfX0sLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTMpLG89big1KS5kb2N1bWVudCxpPXIobykmJnIoby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFyKGUpKXJldHVybiBlO3ZhciBuLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiFyKG89bi5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnZhbHVlT2YpJiYhcihvPW4uY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhcihvPW4uY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUwKTtlLmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1yKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9yOm4pKGUpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTIxKSgia2V5cyIpLG89big4MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByW2VdfHwocltlXT1vKGUpKX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEpLG89big1KSxpPW9bIl9fY29yZS1qc19zaGFyZWRfXyJdfHwob1siX19jb3JlLWpzX3NoYXJlZF9fIl09e30pOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaVtlXXx8KGlbZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246ci52ZXJzaW9uLG1vZGU6big1MSk/InB1cmUiOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAxOSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0sZnVuY3Rpb24oZSx0KXt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDUxKSxvPW4oMiksaT1uKDE5NiksYT1uKDI2KSx1PW4oMzcpLGM9bigzNDUpLHM9big1MiksZj1uKDE5OCksbD1uKDYpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksaD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sZCx2LGcseSl7YyhuLHQsZCk7dmFyIG0sYixfLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gTSlyZXR1cm4gTVtlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLGUpfX0seD10KyIgSXRlcmF0b3IiLEU9InZhbHVlcyI9PXYsaz0hMSxNPWUucHJvdG90eXBlLE89TVtsXXx8TVsiQEBpdGVyYXRvciJdfHx2JiZNW3ZdLGo9T3x8dyh2KSxTPXY/RT93KCJlbnRyaWVzIik6ajp2b2lkIDAsQT0iQXJyYXkiPT10JiZNLmVudHJpZXN8fE87aWYoQSYmKF89ZihBLmNhbGwobmV3IGUpKSkhPT1PYmplY3QucHJvdG90eXBlJiZfLm5leHQmJihzKF8seCwhMCkscnx8ImZ1bmN0aW9uIj09dHlwZW9mIF9bbF18fGEoXyxsLGgpKSxFJiZPJiYidmFsdWVzIiE9PU8ubmFtZSYmKGs9ITAsaj1mdW5jdGlvbigpe3JldHVybiBPLmNhbGwodGhpcyl9KSxyJiYheXx8IXAmJiFrJiZNW2xdfHxhKE0sbCxqKSx1W3RdPWosdVt4XT1oLHYpaWYobT17dmFsdWVzOkU/ajp3KCJ2YWx1ZXMiKSxrZXlzOmc/ajp3KCJrZXlzIiksZW50cmllczpTfSx5KWZvcihiIGluIG0pYiBpbiBNfHxpKE0sYixtW2JdKTtlbHNlIG8oby5QK28uRioocHx8ayksdCxtKTtyZXR1cm4gbX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1yJiZyIGluIGUpdGhyb3cgVHlwZUVycm9yKG4rIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big4NCksbz1uKDYpKCJpdGVyYXRvciIpLGk9bigzNyk7ZS5leHBvcnRzPW4oMSkuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW3IoZSldfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDQ3KTtmdW5jdGlvbiBvKGUpe3ZhciB0LG47dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUscil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09bil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLG49cn0pLHRoaXMucmVzb2x2ZT1yKHQpLHRoaXMucmVqZWN0PXIobil9ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvKGUpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBvIGluIHQpbiYmZVtvXT9lW29dPXRbb106cihlLG8sdFtvXSk7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQsbil7dC5mPW4oNil9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1KSxvPW4oMjkpLGk9bigxNCksYT1uKDIpLHU9bigxOTYpLGM9bigxMzEpLktFWSxzPW4oMjgpLGY9bigxMjEpLGw9big1MikscD1uKDgwKSxoPW4oNiksZD1uKDEyOSksdj1uKDEzMiksZz1uKDM2MykseT1uKDIxMyksbT1uKDE3KSxiPW4oMTMpLF89bigzMCksdz1uKDM2KSx4PW4oMTE2KSxFPW4oNDgpLGs9big4MyksTT1uKDM2NCksTz1uKDIxNSksaj1uKDEyMyksUz1uKDEyKSxBPW4oNDkpLFQ9Ty5mLEM9Uy5mLFA9TS5mLFI9ci5TeW1ib2wsTD1yLkpTT04sTj1MJiZMLnN0cmluZ2lmeSxCPWgoIl9oaWRkZW4iKSxGPWgoInRvUHJpbWl0aXZlIiksST17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxEPWYoInN5bWJvbC1yZWdpc3RyeSIpLCQ9Zigic3ltYm9scyIpLEc9Zigib3Atc3ltYm9scyIpLFc9T2JqZWN0LnByb3RvdHlwZSxxPSJmdW5jdGlvbiI9PXR5cGVvZiBSJiYhIWouZixVPXIuUU9iamVjdCx6PSFVfHwhVS5wcm90b3R5cGV8fCFVLnByb3RvdHlwZS5maW5kQ2hpbGQsSD1pJiZzKGZ1bmN0aW9uKCl7cmV0dXJuIDchPWsoQyh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBDKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1UKFcsdCk7ciYmZGVsZXRlIFdbdF0sQyhlLHQsbiksciYmZSE9PVcmJkMoVyx0LHIpfTpDLFY9ZnVuY3Rpb24oZSl7dmFyIHQ9JFtlXT1rKFIucHJvdG90eXBlKTtyZXR1cm4gdC5faz1lLHR9LEo9cSYmInN5bWJvbCI9PXR5cGVvZiBSLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBSfSxLPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT09PVcmJksoRyx0LG4pLG0oZSksdD14KHQsITApLG0obiksbygkLHQpPyhuLmVudW1lcmFibGU/KG8oZSxCKSYmZVtCXVt0XSYmKGVbQl1bdF09ITEpLG49ayhuLHtlbnVtZXJhYmxlOkUoMCwhMSl9KSk6KG8oZSxCKXx8QyhlLEIsRSgxLHt9KSksZVtCXVt0XT0hMCksSChlLHQsbikpOkMoZSx0LG4pfSxZPWZ1bmN0aW9uKGUsdCl7bShlKTtmb3IodmFyIG4scj1nKHQ9dyh0KSksbz0wLGk9ci5sZW5ndGg7aT5vOylLKGUsbj1yW28rK10sdFtuXSk7cmV0dXJuIGV9LFg9ZnVuY3Rpb24oZSl7dmFyIHQ9SS5jYWxsKHRoaXMsZT14KGUsITApKTtyZXR1cm4hKHRoaXM9PT1XJiZvKCQsZSkmJiFvKEcsZSkpJiYoISh0fHwhbyh0aGlzLGUpfHwhbygkLGUpfHxvKHRoaXMsQikmJnRoaXNbQl1bZV0pfHx0KX0sWj1mdW5jdGlvbihlLHQpe2lmKGU9dyhlKSx0PXgodCwhMCksZSE9PVd8fCFvKCQsdCl8fG8oRyx0KSl7dmFyIG49VChlLHQpO3JldHVybiFufHwhbygkLHQpfHxvKGUsQikmJmVbQl1bdF18fChuLmVudW1lcmFibGU9ITApLG59fSxRPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPVAodyhlKSkscj1bXSxpPTA7bi5sZW5ndGg+aTspbygkLHQ9bltpKytdKXx8dD09Qnx8dD09Y3x8ci5wdXNoKHQpO3JldHVybiByfSxlZT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1lPT09VyxyPVAobj9HOncoZSkpLGk9W10sYT0wO3IubGVuZ3RoPmE7KSFvKCQsdD1yW2ErK10pfHxuJiYhbyhXLHQpfHxpLnB1c2goJFt0XSk7cmV0dXJuIGl9O3F8fCh1KChSPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIFIpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9cChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihuKXt0aGlzPT09VyYmdC5jYWxsKEcsbiksbyh0aGlzLEIpJiZvKHRoaXNbQl0sZSkmJih0aGlzW0JdW2VdPSExKSxIKHRoaXMsZSxFKDEsbikpfTtyZXR1cm4gaSYmeiYmSChXLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFYoZSl9KS5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksTy5mPVosUy5mPUssbigyMTQpLmY9TS5mPVEsbig4MSkuZj1YLGouZj1lZSxpJiYhbig1MSkmJnUoVywicHJvcGVydHlJc0VudW1lcmFibGUiLFgsITApLGQuZj1mdW5jdGlvbihlKXtyZXR1cm4gVihoKGUpKX0pLGEoYS5HK2EuVythLkYqIXEse1N5bWJvbDpSfSk7Zm9yKHZhciB0ZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIiksbmU9MDt0ZS5sZW5ndGg+bmU7KWgodGVbbmUrK10pO2Zvcih2YXIgcmU9QShoLnN0b3JlKSxvZT0wO3JlLmxlbmd0aD5vZTspdihyZVtvZSsrXSk7YShhLlMrYS5GKiFxLCJTeW1ib2wiLHtmb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oRCxlKz0iIik/RFtlXTpEW2VdPVIoZSl9LGtleUZvcjpmdW5jdGlvbihlKXtpZighSihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKTtmb3IodmFyIHQgaW4gRClpZihEW3RdPT09ZSlyZXR1cm4gdH0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7ej0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7ej0hMX19KSxhKGEuUythLkYqIXEsIk9iamVjdCIse2NyZWF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P2soZSk6WShrKGUpLHQpfSxkZWZpbmVQcm9wZXJ0eTpLLGRlZmluZVByb3BlcnRpZXM6WSxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6WixnZXRPd25Qcm9wZXJ0eU5hbWVzOlEsZ2V0T3duUHJvcGVydHlTeW1ib2xzOmVlfSk7dmFyIGllPXMoZnVuY3Rpb24oKXtqLmYoMSl9KTthKGEuUythLkYqaWUsIk9iamVjdCIse2dldE93blByb3BlcnR5U3ltYm9sczpmdW5jdGlvbihlKXtyZXR1cm4gai5mKF8oZSkpfX0pLEwmJmEoYS5TK2EuRiooIXF8fHMoZnVuY3Rpb24oKXt2YXIgZT1SKCk7cmV0dXJuIltudWxsXSIhPU4oW2VdKXx8Int9IiE9Tih7YTplfSl8fCJ7fSIhPU4oT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPVtlXSxvPTE7YXJndW1lbnRzLmxlbmd0aD5vOylyLnB1c2goYXJndW1lbnRzW28rK10pO2lmKG49dD1yWzFdLChiKHQpfHx2b2lkIDAhPT1lKSYmIUooZSkpcmV0dXJuIHkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4mJih0PW4uY2FsbCh0aGlzLGUsdCkpLCFKKHQpKXJldHVybiB0fSksclsxXT10LE4uYXBwbHkoTCxyKX19KSxSLnByb3RvdHlwZVtGXXx8bigyNikoUi5wcm90b3R5cGUsRixSLnByb3RvdHlwZS52YWx1ZU9mKSxsKFIsIlN5bWJvbCIpLGwoTWF0aCwiTWF0aCIsITApLGwoci5KU09OLCJKU09OIiwhMCl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDgwKSgibWV0YSIpLG89bigxMyksaT1uKDI5KSxhPW4oMTIpLmYsdT0wLGM9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0scz0hbigyOCkoZnVuY3Rpb24oKXtyZXR1cm4gYyhPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGY9ZnVuY3Rpb24oZSl7YShlLHIse3ZhbHVlOntpOiJPIisgKyt1LHc6e319fSl9LGw9ZS5leHBvcnRzPXtLRVk6cixORUVEOiExLGZhc3RLZXk6ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWkoZSxyKSl7aWYoIWMoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtmKGUpfXJldHVybiBlW3JdLml9LGdldFdlYWs6ZnVuY3Rpb24oZSx0KXtpZighaShlLHIpKXtpZighYyhlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtmKGUpfXJldHVybiBlW3JdLnd9LG9uRnJlZXplOmZ1bmN0aW9uKGUpe3JldHVybiBzJiZsLk5FRUQmJmMoZSkmJiFpKGUscikmJmYoZSksZX19fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big1KSxvPW4oMSksaT1uKDUxKSxhPW4oMTI5KSx1PW4oMTIpLmY7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8uU3ltYm9sfHwoby5TeW1ib2w9aT97fTpyLlN5bWJvbHx8e30pOyJfIj09ZS5jaGFyQXQoMCl8fGUgaW4gdHx8dSh0LGUse3ZhbHVlOmEuZihlKX0pfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgcixvPW4oOSksaT0ocj1vKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0odm9pZCAwPT09dD8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKHQpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIHI9YShuKDM2OSkpLG89YShuKDIwOSkpLGk9YShuKDkpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiKyh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOigwLGkuZGVmYXVsdCkodCkpKTtlLnByb3RvdHlwZT0oMCxvLmRlZmF1bHQpKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoci5kZWZhdWx0PygwLHIuZGVmYXVsdCkoZSx0KTplLl9fcHJvdG9fXz10KX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighcihlKXx8ZS5fdCE9PXQpdGhyb3cgVHlwZUVycm9yKCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICIrdCsiIHJlcXVpcmVkISIpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4vW1x1MDAxYlx1MDA5Yl1bWygpIzs/XSooPzpbMC05XXsxLDR9KD86O1swLTldezAsNH0pKik/WzAtOUEtUFJaY2YtbnFyeT0+PF0vZ319LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXthbGljZWJsdWU6WzI0MCwyNDgsMjU1XSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1XSxhcXVhOlswLDI1NSwyNTVdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyXSxhenVyZTpbMjQwLDI1NSwyNTVdLGJlaWdlOlsyNDUsMjQ1LDIyMF0sYmlzcXVlOlsyNTUsMjI4LDE5Nl0sYmxhY2s6WzAsMCwwXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDVdLGJsdWU6WzAsMCwyNTVdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjZdLGJyb3duOlsxNjUsNDIsNDJdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzVdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MF0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzBdLGNvcmFsOlsyNTUsMTI3LDgwXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzddLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMF0sY3JpbXNvbjpbMjIwLDIwLDYwXSxjeWFuOlswLDI1NSwyNTVdLGRhcmtibHVlOlswLDAsMTM5XSxkYXJrY3lhbjpbMCwxMzksMTM5XSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjldLGRhcmtncmVlbjpbMCwxMDAsMF0sZGFya2dyZXk6WzE2OSwxNjksMTY5XSxkYXJra2hha2k6WzE4OSwxODMsMTA3XSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5XSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3XSxkYXJrb3JhbmdlOlsyNTUsMTQwLDBdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDRdLGRhcmtyZWQ6WzEzOSwwLDBdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzldLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5XSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5XSxkYXJrdmlvbGV0OlsxNDgsMCwyMTFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3XSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1XSxkaW1ncmF5OlsxMDUsMTA1LDEwNV0sZGltZ3JleTpbMTA1LDEwNSwxMDVdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTVdLGZpcmVicmljazpbMTc4LDM0LDM0XSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDBdLGZvcmVzdGdyZWVuOlszNCwxMzksMzRdLGZ1Y2hzaWE6WzI1NSwwLDI1NV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMF0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTVdLGdvbGQ6WzI1NSwyMTUsMF0sZ29sZGVucm9kOlsyMTgsMTY1LDMyXSxncmF5OlsxMjgsMTI4LDEyOF0sZ3JlZW46WzAsMTI4LDBdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3XSxncmV5OlsxMjgsMTI4LDEyOF0saG9uZXlkZXc6WzI0MCwyNTUsMjQwXSxob3RwaW5rOlsyNTUsMTA1LDE4MF0saW5kaWFucmVkOlsyMDUsOTIsOTJdLGluZGlnbzpbNzUsMCwxMzBdLGl2b3J5OlsyNTUsMjU1LDI0MF0sa2hha2k6WzI0MCwyMzAsMTQwXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTBdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1XSxsYXduZ3JlZW46WzEyNCwyNTIsMF0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMF0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjhdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTVdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMF0sbGlnaHRncmF5OlsyMTEsMjExLDIxMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDRdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTNdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMl0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MF0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MF0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTNdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMl0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0XSxsaW1lOlswLDI1NSwwXSxsaW1lZ3JlZW46WzUwLDIwNSw1MF0sbGluZW46WzI1MCwyNDAsMjMwXSxtYWdlbnRhOlsyNTUsMCwyNTVdLG1hcm9vbjpbMTI4LDAsMF0sbWVkaXVtYXF1YW1hcmluZTpbMTAyLDIwNSwxNzBdLG1lZGl1bWJsdWU6WzAsMCwyMDVdLG1lZGl1bW9yY2hpZDpbMTg2LDg1LDIxMV0sbWVkaXVtcHVycGxlOlsxNDcsMTEyLDIxOV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTNdLG1lZGl1bXNsYXRlYmx1ZTpbMTIzLDEwNCwyMzhdLG1lZGl1bXNwcmluZ2dyZWVuOlswLDI1MCwxNTRdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNF0sbWVkaXVtdmlvbGV0cmVkOlsxOTksMjEsMTMzXSxtaWRuaWdodGJsdWU6WzI1LDI1LDExMl0sbWludGNyZWFtOlsyNDUsMjU1LDI1MF0sbWlzdHlyb3NlOlsyNTUsMjI4LDIyNV0sbW9jY2FzaW46WzI1NSwyMjgsMTgxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzNdLG5hdnk6WzAsMCwxMjhdLG9sZGxhY2U6WzI1MywyNDUsMjMwXSxvbGl2ZTpbMTI4LDEyOCwwXSxvbGl2ZWRyYWI6WzEwNywxNDIsMzVdLG9yYW5nZTpbMjU1LDE2NSwwXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwXSxvcmNoaWQ6WzIxOCwxMTIsMjE0XSxwYWxlZ29sZGVucm9kOlsyMzgsMjMyLDE3MF0scGFsZWdyZWVuOlsxNTIsMjUxLDE1Ml0scGFsZXR1cnF1b2lzZTpbMTc1LDIzOCwyMzhdLHBhbGV2aW9sZXRyZWQ6WzIxOSwxMTIsMTQ3XSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxM10scGVhY2hwdWZmOlsyNTUsMjE4LDE4NV0scGVydTpbMjA1LDEzMyw2M10scGluazpbMjU1LDE5MiwyMDNdLHBsdW06WzIyMSwxNjAsMjIxXSxwb3dkZXJibHVlOlsxNzYsMjI0LDIzMF0scHVycGxlOlsxMjgsMCwxMjhdLHJlYmVjY2FwdXJwbGU6WzEwMiw1MSwxNTNdLHJlZDpbMjU1LDAsMF0scm9zeWJyb3duOlsxODgsMTQzLDE0M10scm95YWxibHVlOls2NSwxMDUsMjI1XSxzYWRkbGVicm93bjpbMTM5LDY5LDE5XSxzYWxtb246WzI1MCwxMjgsMTE0XSxzYW5keWJyb3duOlsyNDQsMTY0LDk2XSxzZWFncmVlbjpbNDYsMTM5LDg3XSxzZWFzaGVsbDpbMjU1LDI0NSwyMzhdLHNpZW5uYTpbMTYwLDgyLDQ1XSxzaWx2ZXI6WzE5MiwxOTIsMTkyXSxza3libHVlOlsxMzUsMjA2LDIzNV0sc2xhdGVibHVlOlsxMDYsOTAsMjA1XSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0XSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0XSxzbm93OlsyNTUsMjUwLDI1MF0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyN10sc3RlZWxibHVlOls3MCwxMzAsMTgwXSx0YW46WzIxMCwxODAsMTQwXSx0ZWFsOlswLDEyOCwxMjhdLHRoaXN0bGU6WzIxNiwxOTEsMjE2XSx0b21hdG86WzI1NSw5OSw3MV0sdHVycXVvaXNlOls2NCwyMjQsMjA4XSx2aW9sZXQ6WzIzOCwxMzAsMjM4XSx3aGVhdDpbMjQ1LDIyMiwxNzldLHdoaXRlOlsyNTUsMjU1LDI1NV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDVdLHllbGxvdzpbMjU1LDI1NSwwXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MF19fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big1Nik7ZnVuY3Rpb24gbyhlKXt2YXIgdD1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PU9iamVjdC5rZXlzKHIpLG49dC5sZW5ndGgsbz0wO288bjtvKyspZVt0W29dXT17ZGlzdGFuY2U6LTEscGFyZW50Om51bGx9O3JldHVybiBlfSgpLG49W2VdO2Zvcih0W2VdLmRpc3RhbmNlPTA7bi5sZW5ndGg7KWZvcih2YXIgbz1uLnBvcCgpLGk9T2JqZWN0LmtleXMocltvXSksYT1pLmxlbmd0aCx1PTA7dTxhO3UrKyl7dmFyIGM9aVt1XSxzPXRbY107LTE9PT1zLmRpc3RhbmNlJiYocy5kaXN0YW5jZT10W29dLmRpc3RhbmNlKzEscy5wYXJlbnQ9byxuLnVuc2hpZnQoYykpfXJldHVybiB0fWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoZShuKSl9fWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIG49W3RbZV0ucGFyZW50LGVdLG89clt0W2VdLnBhcmVudF1bZV0sYT10W2VdLnBhcmVudDt0W2FdLnBhcmVudDspbi51bnNoaWZ0KHRbYV0ucGFyZW50KSxvPWkoclt0W2FdLnBhcmVudF1bYV0sbyksYT10W2FdLnBhcmVudDtyZXR1cm4gby5jb252ZXJzaW9uPW4sb31lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW8oZSksbj17fSxyPU9iamVjdC5rZXlzKHQpLGk9ci5sZW5ndGgsdT0wO3U8aTt1Kyspe3ZhciBjPXJbdV07bnVsbCE9PXRbY10ucGFyZW50JiYobltjXT1hKGMsdCkpfXJldHVybiBufX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7Iil9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyhmdW5jdGlvbih0KXt2YXIgcj10JiYid2luMzIiPT09dC5wbGF0Zm9ybSxvPW4oNTcpLGk9big0MjcpLGE9ZS5leHBvcnRzO2EuZGlmZj1uKDQyOCksYS51bmlxdWU9big0MzApLGEuYnJhY2VzPW4oNDMxKSxhLmJyYWNrZXRzPW4oNDQzKSxhLmV4dGdsb2I9big0NDUpLGEuaXNFeHRnbG9iPW4oNDIpLGEuaXNHbG9iPW4oNDQ2KSxhLnR5cGVPZj1uKDIyOCksYS5ub3JtYWxpemU9big0NDcpLGEub21pdD1uKDQ0OSksYS5wYXJzZUdsb2I9big0NTMpLGEuY2FjaGU9big0NTgpLGEuZmlsZW5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaChpKCkpO3JldHVybiB0JiZ0WzBdfSxhLmlzUGF0aD1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHt9LGZ1bmN0aW9uKG4pe3ZhciByPWEudW5peGlmeShuLHQpO3JldHVybiB0Lm5vY2FzZT9lLnRvTG93ZXJDYXNlKCk9PT1yLnRvTG93ZXJDYXNlKCk6ZT09PXJ9fSxhLmhhc1BhdGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuLTEhPT1hLnVuaXhpZnkoZSx0KS5pbmRleE9mKG4pfX0sYS5tYXRjaFBhdGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmdC5jb250YWlucz9hLmhhc1BhdGgoZSx0KTphLmlzUGF0aChlLHQpfSxhLmhhc0ZpbGVuYW1lPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj1hLmZpbGVuYW1lKHQpO3JldHVybiBuJiZlLnRlc3Qobil9fSxhLmFycmF5aWZ5PWZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2U6W2VdfSxhLnVuaXhpZnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmITE9PT10LnVuaXhpZnk/ZTp0JiYhMD09PXQudW5peGlmeXx8cnx8IlxcIj09PW8uc2VwP2Eubm9ybWFsaXplKGUsITEpOnQmJiEwPT09dC51bmVzY2FwZT9lP2UudG9TdHJpbmcoKS5yZXBsYWNlKC9cXChcdykvZywiJDEiKToiIjplfSxhLmVzY2FwZVBhdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW1xcLl0vZywiXFwkJiIpfSxhLnVuZXNjYXBlR2xvYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bXFwiJ10vZywiIil9LGEuZXNjYXBlUmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvWy1bXFwkKis/LiNeXHN7fSh8KVxdXS9nLCJcXCQmIil9LGUuZXhwb3J0cz1hfSkuY2FsbCh0aGlzLG4oNCkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyhmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9big0Myk7Y29uc3Qgbz1TeW1ib2wuZm9yKCJURVNUX1RJTUVPVVRfU1lNQk9MIik7dC5kZWZhdWx0PSh0LG4pPT57c3dpdGNoKHQubmFtZSl7Y2FzZSJob29rX3N0YXJ0IjpicmVhaztjYXNlInN0YXJ0X2Rlc2NyaWJlX2RlZmluaXRpb24iOntjb25zdCBlPXQuYmxvY2tOYW1lLG89dC5tb2RlLGk9bi5jdXJyZW50RGVzY3JpYmVCbG9jayxhPSgwLHIubWFrZURlc2NyaWJlKShlLGksbyk7aS5jaGlsZHJlbi5wdXNoKGEpLG4uY3VycmVudERlc2NyaWJlQmxvY2s9YTticmVha31jYXNlImZpbmlzaF9kZXNjcmliZV9kZWZpbml0aW9uIjp7Y29uc3QgZT1uLmN1cnJlbnREZXNjcmliZUJsb2NrO2lmKCFlKXRocm93IG5ldyBFcnJvcignImN1cnJlbnREZXNjcmliZUJsb2NrIiBoYXMgdG8gYmUgdGhlcmUgc2luY2Ugd2VcJ3JlIGZpbmlzaGluZyBpdHMgZGVmaW5pdGlvbi4nKTtlLnBhcmVudCYmKG4uY3VycmVudERlc2NyaWJlQmxvY2s9ZS5wYXJlbnQpO2JyZWFrfWNhc2UiYWRkX2hvb2siOntjb25zdCBlPW4uY3VycmVudERlc2NyaWJlQmxvY2sscj10LmZuLG89dC5ob29rVHlwZTtlLmhvb2tzLnB1c2goe2ZuOnIsdHlwZTpvfSk7YnJlYWt9Y2FzZSJhZGRfdGVzdCI6e2NvbnN0IGU9bi5jdXJyZW50RGVzY3JpYmVCbG9jayxvPXQuZm4saT10Lm1vZGUsYT10LnRlc3ROYW1lLHU9KDAsci5tYWtlVGVzdCkobyxpLGEsZSk7Im9ubHkiPT09dS5tb2RlJiYobi5oYXNGb2N1c2VkVGVzdHM9ITApLGUudGVzdHMucHVzaCh1KTticmVha31jYXNlInRlc3Rfc3RhcnQiOnQudGVzdC5zdGFydGVkQXQ9RGF0ZS5ub3coKTticmVhaztjYXNlInRlc3Rfc2tpcCI6dC50ZXN0LnN0YXR1cz0ic2tpcCI7YnJlYWs7Y2FzZSJ0ZXN0X2ZhaWx1cmUiOnQudGVzdC5zdGF0dXM9ImZhaWwiLHQudGVzdC5kdXJhdGlvbj0oMCxyLmdldFRlc3REdXJhdGlvbikodC50ZXN0KSx0LnRlc3QuZXJyb3JzLnB1c2godC5lcnJvcik7YnJlYWs7Y2FzZSJ0ZXN0X3N1Y2Nlc3MiOnQudGVzdC5zdGF0dXM9InBhc3MiLHQudGVzdC5kdXJhdGlvbj0oMCxyLmdldFRlc3REdXJhdGlvbikodC50ZXN0KTticmVhaztjYXNlInJ1bl9zdGFydCI6ZVtvXSYmKG4udGVzdFRpbWVvdXQ9ZVtvXSl9fX0pLmNhbGwodGhpcyxuKDApKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigxNDQpLG89YShuKDE1KSksaT1hKG4oMTQ4KSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19Y29uc3QgdT17IiE9Ijoibm90RXF1YWwiLCIhPT0iOiJub3RTdHJpY3RFcXVhbCIsIj09IjoiZXF1YWwiLCI9PT0iOiJzdHJpY3RFcXVhbCJ9LGM9e2RlZXBFcXVhbDoidG8gZGVlcGx5IGVxdWFsIixkZWVwU3RyaWN0RXF1YWw6InRvIGRlZXBseSBhbmQgc3RyaWN0bHkgZXF1YWwiLG5vdERlZXBFcXVhbDoibm90IHRvIGRlZXBseSBlcXVhbCIsbm90RGVlcFN0cmljdEVxdWFsOiJub3QgdG8gZGVlcGx5IGFuZCBzdHJpY3RseSBlcXVhbCJ9O3QuZGVmYXVsdD0oZSx0KT0+e3N3aXRjaChlLm5hbWUpe2Nhc2UidGVzdF9mYWlsdXJlIjpjYXNlInRlc3Rfc3VjY2VzcyI6e2xldCBhO3RyeXthPW4oMTUwKS5jYWxsKG51bGwsImFzc2VydCIpfWNhdGNoKGUpe2JyZWFrfWUudGVzdC5lcnJvcnM9ZS50ZXN0LmVycm9ycy5tYXAoZT0+ZSBpbnN0YW5jZW9mIGEuQXNzZXJ0aW9uRXJyb3I/ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUuZXhwZWN0ZWQsYT1lLmFjdHVhbCx1PWUubWVzc2FnZSxjPWUub3BlcmF0b3IsaD1lLnN0YWNrLGQ9KDAsaS5kZWZhdWx0KShuLGEsdCksdj0ic3RyaW5nIj09dHlwZW9mIGMmJihjLnN0YXJ0c1dpdGgoIiEiKXx8Yy5zdGFydHNXaXRoKCJub3QiKSksZz0hZS5nZW5lcmF0ZWRNZXNzYWdlLHk9cyhjLGgpO2lmKCJkb2VzTm90VGhyb3ciPT09eSlyZXR1cm4gbCh5KSsiXG5cbiIrby5kZWZhdWx0LnJlc2V0KCJFeHBlY3RlZCB0aGUgZnVuY3Rpb24gbm90IHRvIHRocm93IGFuIGVycm9yLlxuIikrby5kZWZhdWx0LnJlc2V0KCJJbnN0ZWFkLCBpdCB0aHJldzpcbiIpK2AgICR7KDAsci5wcmludFJlY2VpdmVkKShhKX1gK28uZGVmYXVsdC5yZXNldChnPyJcblxuTWVzc2FnZTpcbiAgIit1OiIiKStoLnJlcGxhY2UoL0Fzc2VydGlvbkVycm9yKC4qKS9nLCIiKTtpZigidGhyb3dzIj09PXkpcmV0dXJuIGwoeSkrIlxuXG4iK28uZGVmYXVsdC5yZXNldCgiRXhwZWN0ZWQgdGhlIGZ1bmN0aW9uIHRvIHRocm93IGFuIGVycm9yLlxuIikrby5kZWZhdWx0LnJlc2V0KCJCdXQgaXQgZGlkbid0IHRocm93IGFueXRoaW5nLiIpK28uZGVmYXVsdC5yZXNldChnPyJcblxuTWVzc2FnZTpcbiAgIit1OiIiKStoLnJlcGxhY2UoL0Fzc2VydGlvbkVycm9yKC4qKS9nLCIiKTtyZXR1cm4gcChjLHkpKyJcblxuIitvLmRlZmF1bHQucmVzZXQoYEV4cGVjdGVkIHZhbHVlICR7ZihjLHYpfWApK2AgICR7KDAsci5wcmludEV4cGVjdGVkKShuKX1cbmArby5kZWZhdWx0LnJlc2V0KCJSZWNlaXZlZDpcbiIpK2AgICR7KDAsci5wcmludFJlY2VpdmVkKShhKX1gK28uZGVmYXVsdC5yZXNldChnPyJcblxuTWVzc2FnZTpcbiAgIit1OiIiKSsoZD9gXG5cbkRpZmZlcmVuY2U6XG5cbiR7ZH1gOiIiKStoLnJlcGxhY2UoL0Fzc2VydGlvbkVycm9yKC4qKS9nLCIiKX0oZSx7ZXhwYW5kOnQuZXhwYW5kfSk6ZSk7YnJlYWt9fX07Y29uc3Qgcz0oZSx0KT0+InN0cmluZyI9PXR5cGVvZiBlP3VbZV18fGU6dC5tYXRjaCgiLmRvZXNOb3RUaHJvdyIpPyJkb2VzTm90VGhyb3ciOnQubWF0Y2goIi50aHJvd3MiKT8idGhyb3dzIjoiIixmPShlLHQpPT4ic3RyaW5nIj09dHlwZW9mIGU/ZS5zdGFydHNXaXRoKCIhIil8fGUuc3RhcnRzV2l0aCgiPSIpP2Ake3Q/Im5vdCAiOiIifXRvIGJlIChvcGVyYXRvcjogJHtlfSk6XG5gOmAke2NbZV18fGV9IHRvOlxuYDoiIixsPWU9Pm8uZGVmYXVsdC5kaW0oImFzc2VydCIpK28uZGVmYXVsdC5kaW0oIi4iK2UrIigiKStvLmRlZmF1bHQucmVkKCJmdW5jdGlvbiIpK28uZGVmYXVsdC5kaW0oIikiKSxwPShlLHQpPT57bGV0IG49by5kZWZhdWx0LmRpbSgiYXNzZXJ0Iikrby5kZWZhdWx0LmRpbSgiLiIrdCsiKCIpK28uZGVmYXVsdC5yZWQoInJlY2VpdmVkIikrby5kZWZhdWx0LmRpbSgiLCAiKStvLmRlZmF1bHQuZ3JlZW4oImV4cGVjdGVkIikrby5kZWZhdWx0LmRpbSgiKSIpO3JldHVybiI9PSI9PT1lJiYobis9IiBvciAiK28uZGVmYXVsdC5kaW0oImFzc2VydCIpK28uZGVmYXVsdC5kaW0oIigiKStvLmRlZmF1bHQucmVkKCJyZWNlaXZlZCIpK28uZGVmYXVsdC5kaW0oIikgIikpLG59fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0Lm1hdGNoZXJIaW50PXQucGx1cmFsaXplPXQuZW5zdXJlTnVtYmVycz10LmVuc3VyZUV4cGVjdGVkSXNOdW1iZXI9dC5lbnN1cmVBY3R1YWxJc051bWJlcj10LmVuc3VyZU5vRXhwZWN0ZWQ9dC5wcmludFdpdGhUeXBlPXQucHJpbnRFeHBlY3RlZD10LnByaW50UmVjZWl2ZWQ9dC5oaWdobGlnaHRUcmFpbGluZ1doaXRlc3BhY2U9dC5zdHJpbmdpZnk9dC5TVUdHRVNUX1RPX0VRVUFMPXQuUkVDRUlWRURfQ09MT1I9dC5FWFBFQ1RFRF9DT0xPUj12b2lkIDA7dmFyIHI9YShuKDE1KSksbz1hKG4oNjApKSxpPWEobig2MSkpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciB1PWkuZGVmYXVsdC5wbHVnaW5zO2NvbnN0IGM9dS5Bc3ltbWV0cmljTWF0Y2hlcixzPXUuRE9NQ29sbGVjdGlvbixmPXUuRE9NRWxlbWVudCxsPXUuSW1tdXRhYmxlLHA9dS5SZWFjdEVsZW1lbnQsaD1bdS5SZWFjdFRlc3RDb21wb25lbnQscCxmLHMsbCxjXSxkPXQuRVhQRUNURURfQ09MT1I9ci5kZWZhdWx0LmdyZWVuLHY9dC5SRUNFSVZFRF9DT0xPUj1yLmRlZmF1bHQucmVkLGc9WyJ6ZXJvIiwib25lIiwidHdvIiwidGhyZWUiLCJmb3VyIiwiZml2ZSIsInNpeCIsInNldmVuIiwiZWlnaHQiLCJuaW5lIiwidGVuIiwiZWxldmVuIiwidHdlbHZlIiwidGhpcnRlZW4iXSx5PSh0LlNVR0dFU1RfVE9fRVFVQUw9ci5kZWZhdWx0LmRpbSgiTG9va3MgbGlrZSB5b3Ugd2FudGVkIHRvIHRlc3QgZm9yIG9iamVjdC9hcnJheSBlcXVhbGl0eSB3aXRoIHN0cmljdCBgdG9CZWAgbWF0Y2hlci4gWW91IHByb2JhYmx5IG5lZWQgdG8gdXNlIGB0b0VxdWFsYCBpbnN0ZWFkLiIpLHQuc3RyaW5naWZ5PWZ1bmN0aW9uKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxMDtjb25zdCBuPTFlNDtsZXQgcjt0cnl7cj0oMCxpLmRlZmF1bHQpKGUse21heERlcHRoOnQsbWluOiEwLHBsdWdpbnM6aH0pfWNhdGNoKG4pe3I9KDAsaS5kZWZhdWx0KShlLHtjYWxsVG9KU09OOiExLG1heERlcHRoOnQsbWluOiEwLHBsdWdpbnM6aH0pfXJldHVybiByLmxlbmd0aD49biYmdD4xP3koZSxNYXRoLmZsb29yKHQvMikpOnJ9KSxtPXQuaGlnaGxpZ2h0VHJhaWxpbmdXaGl0ZXNwYWNlPWU9PmUucmVwbGFjZSgvXHMrJC9nbSxyLmRlZmF1bHQuaW52ZXJzZSgiJCYiKSksYj10LnByaW50UmVjZWl2ZWQ9ZT0+dihtKHkoZSkpKSxfPXQucHJpbnRFeHBlY3RlZD1lPT5kKG0oeShlKSkpLHc9dC5wcmludFdpdGhUeXBlPShlLHQsbik9Pntjb25zdCByPSgwLG8uZGVmYXVsdCkodCk7cmV0dXJuIGUrIjoiKygibnVsbCIhPT1yJiYidW5kZWZpbmVkIiE9PXI/IlxuICAiK3IrIjogIjoiICIpK24odCl9LHg9KHQuZW5zdXJlTm9FeHBlY3RlZD0oZSx0KT0+e2lmKHR8fCh0PSJUaGlzIiksdm9pZCAwIT09ZSl0aHJvdyBuZXcgRXJyb3IoaygiWy5ub3RdIit0LHZvaWQgMCwiIikrIlxuXG5NYXRjaGVyIGRvZXMgbm90IGFjY2VwdCBhbnkgYXJndW1lbnRzLlxuIit3KCJHb3QiLGUsXykpfSx0LmVuc3VyZUFjdHVhbElzTnVtYmVyPShlLHQpPT57aWYodHx8KHQ9IlRoaXMgbWF0Y2hlciIpLCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoaygiWy5ub3RdIit0KSsiXG5cblJlY2VpdmVkIHZhbHVlIG11c3QgYmUgYSBudW1iZXIuXG4iK3coIlJlY2VpdmVkIixlLGIpKX0pLEU9dC5lbnN1cmVFeHBlY3RlZElzTnVtYmVyPShlLHQpPT57aWYodHx8KHQ9IlRoaXMgbWF0Y2hlciIpLCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoaygiWy5ub3RdIit0KSsiXG5cbkV4cGVjdGVkIHZhbHVlIG11c3QgYmUgYSBudW1iZXIuXG4iK3coIkdvdCIsZSxfKSl9LGs9KHQuZW5zdXJlTnVtYmVycz0oZSx0LG4pPT57eChlLG4pLEUodCxuKX0sdC5wbHVyYWxpemU9KGUsdCk9PihnW3RdfHx0KSsiICIrZSsoMT09PXQ/IiI6InMiKSx0Lm1hdGNoZXJIaW50PWZ1bmN0aW9uKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToicmVjZWl2ZWQiLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiJleHBlY3RlZCIsbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307Y29uc3QgaT1vLmNvbW1lbnQsYT1vLmlzRGlyZWN0RXhwZWN0Q2FsbCx1PW8uc2Vjb25kQXJndW1lbnQ7cmV0dXJuIHIuZGVmYXVsdC5kaW0oImV4cGVjdCIrKGE/IiI6IigiKSkrdih0KStyLmRlZmF1bHQuZGltKChhPyIiOiIpIikrZSsiKCIpK2QobikrKHU/YCR7ci5kZWZhdWx0LmRpbSgiLCAiKX0ke2QodSl9YDoiIikrci5kZWZhdWx0LmRpbShgKSR7aT9gIC8vICR7aX1gOiIifWApfSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKGUpe2NvbnN0IHQ9big4OCkscj0oZSxuKT0+KGZ1bmN0aW9uKCl7Y29uc3Qgcj1lLmFwcGx5KHQsYXJndW1lbnRzKTtyZXR1cm5gG1ske3Irbn1tYH0pLG89KGUsbik9PihmdW5jdGlvbigpe2NvbnN0IHI9ZS5hcHBseSh0LGFyZ3VtZW50cyk7cmV0dXJuYBtbJHszOCtufTs1OyR7cn1tYH0pLGk9KGUsbik9PihmdW5jdGlvbigpe2NvbnN0IHI9ZS5hcHBseSh0LGFyZ3VtZW50cyk7cmV0dXJuYBtbJHszOCtufTsyOyR7clswXX07JHtyWzFdfTske3JbMl19bWB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZXhwb3J0cyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7Y29uc3QgZT1uZXcgTWFwLG49e21vZGlmaWVyOntyZXNldDpbMCwwXSxib2xkOlsxLDIyXSxkaW06WzIsMjJdLGl0YWxpYzpbMywyM10sdW5kZXJsaW5lOls0LDI0XSxpbnZlcnNlOls3LDI3XSxoaWRkZW46WzgsMjhdLHN0cmlrZXRocm91Z2g6WzksMjldfSxjb2xvcjp7YmxhY2s6WzMwLDM5XSxyZWQ6WzMxLDM5XSxncmVlbjpbMzIsMzldLHllbGxvdzpbMzMsMzldLGJsdWU6WzM0LDM5XSxtYWdlbnRhOlszNSwzOV0sY3lhbjpbMzYsMzldLHdoaXRlOlszNywzOV0sZ3JheTpbOTAsMzldLHJlZEJyaWdodDpbOTEsMzldLGdyZWVuQnJpZ2h0Ols5MiwzOV0seWVsbG93QnJpZ2h0Ols5MywzOV0sYmx1ZUJyaWdodDpbOTQsMzldLG1hZ2VudGFCcmlnaHQ6Wzk1LDM5XSxjeWFuQnJpZ2h0Ols5NiwzOV0sd2hpdGVCcmlnaHQ6Wzk3LDM5XX0sYmdDb2xvcjp7YmdCbGFjazpbNDAsNDldLGJnUmVkOls0MSw0OV0sYmdHcmVlbjpbNDIsNDldLGJnWWVsbG93Ols0Myw0OV0sYmdCbHVlOls0NCw0OV0sYmdNYWdlbnRhOls0NSw0OV0sYmdDeWFuOls0Niw0OV0sYmdXaGl0ZTpbNDcsNDldLGJnQmxhY2tCcmlnaHQ6WzEwMCw0OV0sYmdSZWRCcmlnaHQ6WzEwMSw0OV0sYmdHcmVlbkJyaWdodDpbMTAyLDQ5XSxiZ1llbGxvd0JyaWdodDpbMTAzLDQ5XSxiZ0JsdWVCcmlnaHQ6WzEwNCw0OV0sYmdNYWdlbnRhQnJpZ2h0OlsxMDUsNDldLGJnQ3lhbkJyaWdodDpbMTA2LDQ5XSxiZ1doaXRlQnJpZ2h0OlsxMDcsNDldfX07bi5jb2xvci5ncmV5PW4uY29sb3IuZ3JheTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhuKSl7Y29uc3Qgcj1uW3RdO2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHIpKXtjb25zdCBvPXJbdF07blt0XT17b3BlbjpgG1ske29bMF19bWAsY2xvc2U6YBtbJHtvWzFdfW1gfSxyW3RdPW5bdF0sZS5zZXQob1swXSxvWzFdKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobix0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiY29kZXMiLHt2YWx1ZTplLGVudW1lcmFibGU6ITF9KX1jb25zdCBhPWU9PmUsdT0oZSx0LG4pPT5bZSx0LG5dO24uY29sb3IuY2xvc2U9IhtbMzltIixuLmJnQ29sb3IuY2xvc2U9IhtbNDltIixuLmNvbG9yLmFuc2k9e2Fuc2k6cihhLDApfSxuLmNvbG9yLmFuc2kyNTY9e2Fuc2kyNTY6byhhLDApfSxuLmNvbG9yLmFuc2kxNm09e3JnYjppKHUsMCl9LG4uYmdDb2xvci5hbnNpPXthbnNpOnIoYSwxMCl9LG4uYmdDb2xvci5hbnNpMjU2PXthbnNpMjU2Om8oYSwxMCl9LG4uYmdDb2xvci5hbnNpMTZtPXtyZ2I6aSh1LDEwKX07Zm9yKGxldCBlIG9mIE9iamVjdC5rZXlzKHQpKXtpZigib2JqZWN0IiE9dHlwZW9mIHRbZV0pY29udGludWU7Y29uc3QgYT10W2VdOyJhbnNpMTYiPT09ZSYmKGU9ImFuc2kiKSwiYW5zaTE2ImluIGEmJihuLmNvbG9yLmFuc2lbZV09cihhLmFuc2kxNiwwKSxuLmJnQ29sb3IuYW5zaVtlXT1yKGEuYW5zaTE2LDEwKSksImFuc2kyNTYiaW4gYSYmKG4uY29sb3IuYW5zaTI1NltlXT1vKGEuYW5zaTI1NiwwKSxuLmJnQ29sb3IuYW5zaTI1NltlXT1vKGEuYW5zaTI1NiwxMCkpLCJyZ2IiaW4gYSYmKG4uY29sb3IuYW5zaTE2bVtlXT1pKGEucmdiLDApLG4uYmdDb2xvci5hbnNpMTZtW2VdPWkoYS5yZ2IsMTApKX1yZXR1cm4gbn19KX0pLmNhbGwodGhpcyxuKDE4KShlKSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtzdGRvdXQ6ITEsc3RkZXJyOiExfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijtjb25zdCByPS8oPzpcXCh1W2EtZlxkXXs0fXx4W2EtZlxkXXsyfXwuKSl8KD86XHsofik/KFx3Kyg/OlwoW14pXSpcKSk/KD86XC5cdysoPzpcKFteKV0qXCkpPykqKSg/OlsgXHRdfCg/PVxyP1xuKSkpfChcfSl8KCg/Oi58W1xyXG5cZl0pKz8pL2dpLG89Lyg/Ol58XC4pKFx3KykoPzpcKChbXildKilcKSk/L2csaT0vXihbJyJdKSgoPzpcXC58KD8hXDEpW15cXF0pKilcMSQvLGE9L1xcKHVbYS1mXGRdezR9fHhbYS1mXGRdezJ9fC4pfChbXlxcXSkvZ2ksdT1uZXcgTWFwKFtbIm4iLCJcbiJdLFsiciIsIlxyIl0sWyJ0IiwiXHQiXSxbImIiLCJcYiJdLFsiZiIsIlxmIl0sWyJ2IiwiXHYiXSxbIjAiLCJcMCJdLFsiXFwiLCJcXCJdLFsiZSIsIhsiXSxbImEiLCIHIl1dKTtmdW5jdGlvbiBjKGUpe3JldHVybiJ1Ij09PWVbMF0mJjU9PT1lLmxlbmd0aHx8IngiPT09ZVswXSYmMz09PWUubGVuZ3RoP1N0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZS5zbGljZSgxKSwxNikpOnUuZ2V0KGUpfHxlfWZ1bmN0aW9uIHMoZSx0KXtjb25zdCBuPVtdLHI9dC50cmltKCkuc3BsaXQoL1xzKixccyovZyk7bGV0IG87Zm9yKGNvbnN0IHQgb2YgcilpZihpc05hTih0KSl7aWYoIShvPXQubWF0Y2goaSkpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBDaGFsayB0ZW1wbGF0ZSBzdHlsZSBhcmd1bWVudDogJHt0fSAoaW4gc3R5bGUgJyR7ZX0nKWApO24ucHVzaChvWzJdLnJlcGxhY2UoYSwoZSx0LG4pPT50P2ModCk6bikpfWVsc2Ugbi5wdXNoKE51bWJlcih0KSk7cmV0dXJuIG59ZnVuY3Rpb24gZihlKXtvLmxhc3RJbmRleD0wO2NvbnN0IHQ9W107bGV0IG47Zm9yKDtudWxsIT09KG49by5leGVjKGUpKTspe2NvbnN0IGU9blsxXTtpZihuWzJdKXtjb25zdCByPXMoZSxuWzJdKTt0LnB1c2goW2VdLmNvbmNhdChyKSl9ZWxzZSB0LnB1c2goW2VdKX1yZXR1cm4gdH1mdW5jdGlvbiBsKGUsdCl7Y29uc3Qgbj17fTtmb3IoY29uc3QgZSBvZiB0KWZvcihjb25zdCB0IG9mIGUuc3R5bGVzKW5bdFswXV09ZS5pbnZlcnNlP251bGw6dC5zbGljZSgxKTtsZXQgcj1lO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKG4pKWlmKEFycmF5LmlzQXJyYXkobltlXSkpe2lmKCEoZSBpbiByKSl0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gQ2hhbGsgc3R5bGU6ICR7ZX1gKTtyPW5bZV0ubGVuZ3RoPjA/cltlXS5hcHBseShyLG5bZV0pOnJbZV19cmV0dXJuIHJ9ZS5leHBvcnRzPShlLHQpPT57Y29uc3Qgbj1bXSxvPVtdO2xldCBpPVtdO2lmKHQucmVwbGFjZShyLCh0LHIsYSx1LHMscCk9PntpZihyKWkucHVzaChjKHIpKTtlbHNlIGlmKHUpe2NvbnN0IHQ9aS5qb2luKCIiKTtpPVtdLG8ucHVzaCgwPT09bi5sZW5ndGg/dDpsKGUsbikodCkpLG4ucHVzaCh7aW52ZXJzZTphLHN0eWxlczpmKHUpfSl9ZWxzZSBpZihzKXtpZigwPT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJGb3VuZCBleHRyYW5lb3VzIH0gaW4gQ2hhbGsgdGVtcGxhdGUgbGl0ZXJhbCIpO28ucHVzaChsKGUsbikoaS5qb2luKCIiKSkpLGk9W10sbi5wb3AoKX1lbHNlIGkucHVzaChwKX0pLG8ucHVzaChpLmpvaW4oIiIpKSxuLmxlbmd0aD4wKXtjb25zdCBlPWBDaGFsayB0ZW1wbGF0ZSBsaXRlcmFsIGlzIG1pc3NpbmcgJHtuLmxlbmd0aH0gY2xvc2luZyBicmFja2V0JHsxPT09bi5sZW5ndGg/IiI6InMifSAoXGB9XGApYDt0aHJvdyBuZXcgRXJyb3IoZSl9cmV0dXJuIG8uam9pbigiIil9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPWMobig2MSkpLG89YyhuKDE1KSksaT1jKG4oNjApKSxhPWMobigxNDkpKSx1PW4oNjIpO2Z1bmN0aW9uIGMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBzPXIuZGVmYXVsdC5wbHVnaW5zO2NvbnN0IGY9cy5Bc3ltbWV0cmljTWF0Y2hlcixsPXMuRE9NQ29sbGVjdGlvbixwPXMuRE9NRWxlbWVudCxoPXMuSW1tdXRhYmxlLGQ9cy5SZWFjdEVsZW1lbnQsdj1bcy5SZWFjdFRlc3RDb21wb25lbnQsZCxwLGwsaCxmXSxnPXtwbHVnaW5zOnZ9LHk9T2JqZWN0LmFzc2lnbih7fSxnLHtpbmRlbnQ6MH0pLG09e2NhbGxUb0pTT046ITEsbWF4RGVwdGg6MTAscGx1Z2luczp2fSxiPU9iamVjdC5hc3NpZ24oe30sbSx7aW5kZW50OjB9KSxfPS9bXHJcbl0vO2Z1bmN0aW9uIHcoZSl7cmV0dXJuIG5ldyBNYXAoQXJyYXkuZnJvbShlLmVudHJpZXMoKSkuc29ydCgpKX1mdW5jdGlvbiB4KGUpe3JldHVybiBuZXcgU2V0KEFycmF5LmZyb20oZS52YWx1ZXMoKSkuc29ydCgpKX1mdW5jdGlvbiBFKGUsdCxuKXtsZXQgbyxpPSExO3RyeXtvPSgwLGEuZGVmYXVsdCkoKDAsci5kZWZhdWx0KShlLHkpLCgwLHIuZGVmYXVsdCkodCx5KSxuLHthOigwLHIuZGVmYXVsdCkoZSxnKSxiOigwLHIuZGVmYXVsdCkodCxnKX0pfWNhdGNoKGUpe2k9ITB9cmV0dXJuIG8mJm8hPT11Lk5PX0RJRkZfTUVTU0FHRXx8KG89KDAsYS5kZWZhdWx0KSgoMCxyLmRlZmF1bHQpKGUsYiksKDAsci5kZWZhdWx0KSh0LGIpLG4se2E6KDAsci5kZWZhdWx0KShlLG0pLGI6KDAsci5kZWZhdWx0KSh0LG0pfSkpPT09dS5OT19ESUZGX01FU1NBR0V8fGl8fChvPXUuU0lNSUxBUl9NRVNTQUdFKyJcblxuIitvKSxvfWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7aWYoZT09PXQpcmV0dXJuIHUuTk9fRElGRl9NRVNTQUdFO2NvbnN0IHI9KDAsaS5kZWZhdWx0KShlKTtsZXQgYz1yLHM9ITE7aWYoIm9iamVjdCI9PT1yJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5hc3ltbWV0cmljTWF0Y2gpe2lmKGUuJCR0eXBlb2YhPT1TeW1ib2wuZm9yKCJqZXN0LmFzeW1tZXRyaWNNYXRjaGVyIikpcmV0dXJuIG51bGw7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUuZ2V0RXhwZWN0ZWRUeXBlKXJldHVybiBudWxsO3M9InN0cmluZyI9PT0oYz1lLmdldEV4cGVjdGVkVHlwZSgpKX1pZihjIT09KDAsaS5kZWZhdWx0KSh0KSlyZXR1cm4iICBDb21wYXJpbmcgdHdvIGRpZmZlcmVudCB0eXBlcyBvZiB2YWx1ZXMuIitgIEV4cGVjdGVkICR7by5kZWZhdWx0LmdyZWVuKGMpfSBidXQgYCtgcmVjZWl2ZWQgJHtvLmRlZmF1bHQucmVkKCgwLGkuZGVmYXVsdCkodCkpfS5gO2lmKHMpcmV0dXJuIG51bGw7c3dpdGNoKHIpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gXy50ZXN0KGUpJiYtMSE9PXQuaW5kZXhPZigiXG4iKT8oMCxhLmRlZmF1bHQpKGUsdCxuKTpudWxsO2Nhc2UibnVtYmVyIjpjYXNlImJvb2xlYW4iOnJldHVybiBudWxsO2Nhc2UibWFwIjpyZXR1cm4gRSh3KGUpLHcodCksbik7Y2FzZSJzZXQiOnJldHVybiBFKHgoZSkseCh0KSxuKTtkZWZhdWx0OnJldHVybiBFKGUsdCxuKX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4scil7ZSs9IlxuIix0Kz0iXG4iO2NvbnN0IG89biYmITE9PT1uLmV4cGFuZD92KGUsdCxuJiZuLmNvbnRleHRMaW5lcyxyKTpkKGUsdCxyKTtyZXR1cm4gbnVsbD09PW8/dS5OT19ESUZGX01FU1NBR0U6bChuKStvfTt2YXIgcixvPW4oMTUpLGk9KHI9bykmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9LGE9big4OSksdT1uKDYyKTtjb25zdCBjPShlLHQpPT4tMT09PWU/aS5kZWZhdWx0LmdyZWVuOjE9PT1lP2kuZGVmYXVsdC5yZWQ6dD9pLmRlZmF1bHQuY3lhbjppLmRlZmF1bHQuZGltLHM9KGUsdCk9PjAhPT1lfHx0P2kuZGVmYXVsdC5pbnZlcnNlOmkuZGVmYXVsdC5iZ1llbGxvdyxmPShlLHQpPT5lLnJlcGxhY2UoL1xzKyQvLHQoIiQmIikpLGw9ZT0+aS5kZWZhdWx0LmdyZWVuKCItICIrKGUmJmUuYUFubm90YXRpb258fCJFeHBlY3RlZCIpKSsiXG4iK2kuZGVmYXVsdC5yZWQoIisgIisoZSYmZS5iQW5ub3RhdGlvbnx8IlJlY2VpdmVkIikpKyJcblxuIixwPWU9Pntjb25zdCB0PWUuc3BsaXQoIlxuIik7cmV0dXJuIDAhPT10Lmxlbmd0aCYmIiI9PT10W3QubGVuZ3RoLTFdJiZ0LnBvcCgpLHR9LGg9KGUsdCxuKT0+e2NvbnN0IHI9KGU9PiItIj09PWU/LTE6IisiPT09ZT8xOjApKGUpO2lmKG4pe2NvbnN0IG89bihyKSxpPW9bMF0sYT0wPT09ciYmaS5sZW5ndGghPT1vWzFdLmxlbmd0aDtyZXR1cm4gYyhyLGEpKGUrIiAiK2kuc2xpY2UoMCxpLmxlbmd0aC10Lmxlbmd0aCkrKChlLHQpPT5mKGUsdCkucmVwbGFjZSgvXihcc1xzKSooXHMpKD89W15cc10pLywiJDEiK3QoIiQyIikpKSh0LHMocixhKSkpfXJldHVybiBjKHIpKGUrIiAiK2YodCxzKHIpKSl9LGQ9KGUsdCxuKT0+e2NvbnN0IHI9KDAsYS5kaWZmTGluZXMpKGUsdCk7aWYoci5ldmVyeShlPT4hZS5yZW1vdmVkJiYhZS5hZGRlZCkpcmV0dXJuIG51bGw7Y29uc3Qgbz1uJiYoZT0+e2NvbnN0IHQ9cChlLmEpLG49cChlLmIpO2xldCByPTAsbz0wO3JldHVybiBlPT4tMT09PWU/W3RbcisrXV06MT09PWU/W25bbysrXV06W25bbysrXSx0W3IrK11dfSkobik7cmV0dXJuIHIucmVkdWNlKChlLHQpPT57Y29uc3Qgbj0oZT0+ZS5yZW1vdmVkPyItIjplLmFkZGVkPyIrIjoiICIpKHQpO3JldHVybiBwKHQudmFsdWUpLmZvckVhY2godD0+e2UucHVzaChoKG4sdCxvKSl9KSxlfSxbXSkuam9pbigiXG4iKX0sdj0oZSx0LG4scik9Pntjb25zdCBvPXtjb250ZXh0OiJudW1iZXIiPT10eXBlb2YgbiYmbj49MD9uOjV9O2NvbnN0IHU9KDAsYS5zdHJ1Y3R1cmVkUGF0Y2gpKCIiLCIiLGUsdCwiIiwiIixvKS5odW5rcztpZigwPT09dS5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgYz1yJiYoZT0+e2NvbnN0IHQ9cChlLmEpLG49cChlLmIpO3JldHVybihlLHIpPT5vPT4tMT09PW8/W3RbZSsrXV06MT09PW8/W25bcisrXV06W25bcisrXSx0W2UrK11dfSkocikscz0oZS5tYXRjaCgvXG4vZyl8fFtdKS5sZW5ndGg7cmV0dXJuIHUucmVkdWNlKChlLHQpPT57KChlLHQpPT50PmUub2xkTGluZXMpKHQscykmJmUucHVzaCgoZT0+e2NvbnN0IHQ9YC0ke2Uub2xkU3RhcnR9LCR7ZS5vbGRMaW5lc31gLG49YCske2UubmV3U3RhcnR9LCR7ZS5uZXdMaW5lc31gO3JldHVybiBpLmRlZmF1bHQueWVsbG93KGBAQCAke3R9ICR7bn0gQEBgKX0pKHQpKTtjb25zdCBuPWMmJmModC5vbGRTdGFydC0xLHQubmV3U3RhcnQtMSk7cmV0dXJuIHQubGluZXMuZm9yRWFjaCh0PT57ZS5wdXNoKGgodFswXSx0LnNsaWNlKDEpLG4pKX0pLGV9LFtdKS5qb2luKCJcbiIpfX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3ZhciB0PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK2UrIiciKTt0aHJvdyB0LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHR9bi5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuW119LG4ucmVzb2x2ZT1uLGUuZXhwb3J0cz1uLG4uaWQ9MTUwfSwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPXtkZWZhdWx0Om4oMzMzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz0hbigxNCkmJiFuKDI4KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobigxMTUpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLG89bigzNiksaT1uKDMzNikoITEpLGE9bigxMjApKCJJRV9QUk9UTyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLHU9byhlKSxjPTAscz1bXTtmb3IobiBpbiB1KW4hPWEmJnIodSxuKSYmcy5wdXNoKG4pO2Zvcig7dC5sZW5ndGg+Yzspcih1LG49dFtjKytdKSYmKH5pKHMsbil8fHMucHVzaChuKSk7cmV0dXJuIHN9fSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMjYpfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big1KS5kb2N1bWVudDtlLmV4cG9ydHM9ciYmci5kb2N1bWVudEVsZW1lbnR9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KSxvPW4oMzApLGk9bigxMjApKCJJRV9QUk9UTyIpLGE9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1vKGUpLHIoZSxpKT9lW2ldOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P2E6bnVsbH19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixvKXt0cnl7cmV0dXJuIG8/dChyKG4pWzBdLG5bMV0pOnQobil9Y2F0Y2godCl7dmFyIGk9ZS5yZXR1cm47dGhyb3cgdm9pZCAwIT09aSYmcihpLmNhbGwoZSkpLHR9fX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzcpLG89big2KSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihyLkFycmF5PT09ZXx8aVtvXT09PWUpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTcpLG89big0NyksaT1uKDYpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4sYT1yKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1hfHxudWxsPT0obj1yKGEpW2ldKT90Om8obil9fSxmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE9bigyMiksdT1uKDM1MCksYz1uKDE5Nykscz1uKDExNSksZj1uKDUpLGw9Zi5wcm9jZXNzLHA9Zi5zZXRJbW1lZGlhdGUsaD1mLmNsZWFySW1tZWRpYXRlLGQ9Zi5NZXNzYWdlQ2hhbm5lbCx2PWYuRGlzcGF0Y2gsZz0wLHk9e30sbT1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHkuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXlbZV07ZGVsZXRlIHlbZV0sdCgpfX0sYj1mdW5jdGlvbihlKXttLmNhbGwoZS5kYXRhKX07cCYmaHx8KHA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTthcmd1bWVudHMubGVuZ3RoPm47KXQucHVzaChhcmd1bWVudHNbbisrXSk7cmV0dXJuIHlbKytnXT1mdW5jdGlvbigpe3UoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0scihnKSxnfSxoPWZ1bmN0aW9uKGUpe2RlbGV0ZSB5W2VdfSwicHJvY2VzcyI9PW4oNTApKGwpP3I9ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhhKG0sZSwxKSl9OnYmJnYubm93P3I9ZnVuY3Rpb24oZSl7di5ub3coYShtLGUsMSkpfTpkPyhpPShvPW5ldyBkKS5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1iLHI9YShpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhyPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGIsITEpKTpyPSJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gcygic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZChzKCJzY3JpcHQiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7Yy5yZW1vdmVDaGlsZCh0aGlzKSxtLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGEobSxlLDEpLDApfSksZS5leHBvcnRzPXtzZXQ6cCxjbGVhcjpofX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybntlOiExLHY6ZSgpfX1jYXRjaChlKXtyZXR1cm57ZTohMCx2OmV9fX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE3KSxvPW4oMTMpLGk9bigxMjcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKHIoZSksbyh0KSYmdC5jb25zdHJ1Y3Rvcj09PWUpcmV0dXJuIHQ7dmFyIG49aS5mKGUpO3JldHVybigwLG4ucmVzb2x2ZSkodCksbi5wcm9taXNlfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDUpLG89bigxKSxpPW4oMTIpLGE9bigxNCksdT1uKDYpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06cltlXTthJiZ0JiYhdFt1XSYmaS5mKHQsdSx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW3JdKCk7aS5yZXR1cm49ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goZSl7fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgbj0hMTt0cnl7dmFyIGk9WzddLGE9aVtyXSgpO2EubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fSxpW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LGUoaSl9Y2F0Y2goZSl7fXJldHVybiBufX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMiksbz1uKDEpLGk9bigyOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxhPXt9O2FbZV09dChuKSxyKHIuUytyLkYqaShmdW5jdGlvbigpe24oMSl9KSwiT2JqZWN0IixhKX19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9e2RlZmF1bHQ6bigzNTcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPXtkZWZhdWx0Om4oMzU5KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz17ZGVmYXVsdDpuKDM2MSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9e2RlZmF1bHQ6bigzNjIpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big1MCk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PXIoZSl9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxOTUpLG89bigxMjIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gcihlLG8pfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oODEpLG89big0OCksaT1uKDM2KSxhPW4oMTE2KSx1PW4oMjkpLGM9bigxOTQpLHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt0LmY9bigxNCk/czpmdW5jdGlvbihlLHQpe2lmKGU9aShlKSx0PWEodCwhMCksYyl0cnl7cmV0dXJuIHMoZSx0KX1jYXRjaChlKXt9aWYodShlLHQpKXJldHVybiBvKCFyLmYuY2FsbChlLHQpLGVbdF0pfX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz17ZGVmYXVsdDpuKDM3NCksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMikuZixvPW4oODMpLGk9bigxMjgpLGE9bigyMiksdT1uKDEyNSksYz1uKDUzKSxzPW4oMTI0KSxmPW4oMTk5KSxsPW4oMjA2KSxwPW4oMTQpLGg9bigxMzEpLmZhc3RLZXksZD1uKDEzNiksdj1wPyJfcyI6InNpemUiLGc9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWgodCk7aWYoIkYiIT09cilyZXR1cm4gZS5faVtyXTtmb3Iobj1lLl9mO247bj1uLm4paWYobi5rPT10KXJldHVybiBufTtlLmV4cG9ydHM9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxuLHMpe3ZhciBmPWUoZnVuY3Rpb24oZSxyKXt1KGUsZix0LCJfaSIpLGUuX3Q9dCxlLl9pPW8obnVsbCksZS5fZj12b2lkIDAsZS5fbD12b2lkIDAsZVt2XT0wLG51bGwhPXImJmMocixuLGVbc10sZSl9KTtyZXR1cm4gaShmLnByb3RvdHlwZSx7Y2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9ZCh0aGlzLHQpLG49ZS5faSxyPWUuX2Y7cjtyPXIubilyLnI9ITAsci5wJiYoci5wPXIucC5uPXZvaWQgMCksZGVsZXRlIG5bci5pXTtlLl9mPWUuX2w9dm9pZCAwLGVbdl09MH0sZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciBuPWQodGhpcyx0KSxyPWcobixlKTtpZihyKXt2YXIgbz1yLm4saT1yLnA7ZGVsZXRlIG4uX2lbci5pXSxyLnI9ITAsaSYmKGkubj1vKSxvJiYoby5wPWkpLG4uX2Y9PXImJihuLl9mPW8pLG4uX2w9PXImJihuLl9sPWkpLG5bdl0tLX1yZXR1cm4hIXJ9LGZvckVhY2g6ZnVuY3Rpb24oZSl7ZCh0aGlzLHQpO2Zvcih2YXIgbixyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtuPW4/bi5uOnRoaXMuX2Y7KWZvcihyKG4udixuLmssdGhpcyk7biYmbi5yOyluPW4ucH0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiEhZyhkKHRoaXMsdCksZSl9fSkscCYmcihmLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBkKHRoaXMsdClbdl19fSksZn0sZGVmOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9ZyhlLHQpO3JldHVybiBpP2kudj1uOihlLl9sPWk9e2k6bz1oKHQsITApLGs6dCx2Om4scDpyPWUuX2wsbjp2b2lkIDAscjohMX0sZS5fZnx8KGUuX2Y9aSksciYmKHIubj1pKSxlW3ZdKyssIkYiIT09byYmKGUuX2lbb109aSkpLGV9LGdldEVudHJ5Omcsc2V0U3Ryb25nOmZ1bmN0aW9uKGUsdCxuKXtzKGUsdCxmdW5jdGlvbihlLG4pe3RoaXMuX3Q9ZChlLHQpLHRoaXMuX2s9bix0aGlzLl9sPXZvaWQgMH0sZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fayx0PXRoaXMuX2w7dCYmdC5yOyl0PXQucDtyZXR1cm4gdGhpcy5fdCYmKHRoaXMuX2w9dD10P3Qubjp0aGlzLl90Ll9mKT9mKDAsImtleXMiPT1lP3QuazoidmFsdWVzIj09ZT90LnY6W3Quayx0LnZdKToodGhpcy5fdD12b2lkIDAsZigxKSl9LG4/ImVudHJpZXMiOiJ2YWx1ZXMiLCFuLCEwKSxsKHQpfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1KSxvPW4oMiksaT1uKDEzMSksYT1uKDI4KSx1PW4oMjYpLGM9bigxMjgpLHM9big1MyksZj1uKDEyNSksbD1uKDEzKSxwPW4oNTIpLGg9bigxMikuZixkPW4oMzc2KSgwKSx2PW4oMTQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixnLHksbSl7dmFyIGI9cltlXSxfPWIsdz15PyJzZXQiOiJhZGQiLHg9XyYmXy5wcm90b3R5cGUsRT17fTtyZXR1cm4gdiYmImZ1bmN0aW9uIj09dHlwZW9mIF8mJihtfHx4LmZvckVhY2gmJiFhKGZ1bmN0aW9uKCl7KG5ldyBfKS5lbnRyaWVzKCkubmV4dCgpfSkpPyhfPXQoZnVuY3Rpb24odCxuKXtmKHQsXyxlLCJfYyIpLHQuX2M9bmV3IGIsbnVsbCE9biYmcyhuLHksdFt3XSx0KX0pLGQoImFkZCxjbGVhcixkZWxldGUsZm9yRWFjaCxnZXQsaGFzLHNldCxrZXlzLHZhbHVlcyxlbnRyaWVzLHRvSlNPTiIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD0iYWRkIj09ZXx8InNldCI9PWU7ZSBpbiB4JiYoIW18fCJjbGVhciIhPWUpJiZ1KF8ucHJvdG90eXBlLGUsZnVuY3Rpb24obixyKXtpZihmKHRoaXMsXyxlKSwhdCYmbSYmIWwobikpcmV0dXJuImdldCI9PWUmJnZvaWQgMDt2YXIgbz10aGlzLl9jW2VdKDA9PT1uPzA6bixyKTtyZXR1cm4gdD90aGlzOm99KX0pLG18fGgoXy5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYy5zaXplfX0pKTooXz1nLmdldENvbnN0cnVjdG9yKHQsZSx5LHcpLGMoXy5wcm90b3R5cGUsbiksaS5ORUVEPSEwKSxwKF8sZSksRVtlXT1fLG8oby5HK28uVytvLkYsRSksbXx8Zy5zZXRTdHJvbmcoXyxlLHkpLF99fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big4NCksbz1uKDM4MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2lmKHIodGhpcykhPWUpdGhyb3cgVHlwZUVycm9yKGUrIiN0b0pTT04gaXNuJ3QgZ2VuZXJpYyIpO3JldHVybiBvKHRoaXMpfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cihyLlMsZSx7b2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKTtlLS07KXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgdGhpcyh0KX19KX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyKSxvPW4oNDcpLGk9bigyMiksYT1uKDUzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cihyLlMsZSx7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdCxuLHIsdSxjPWFyZ3VtZW50c1sxXTtyZXR1cm4gbyh0aGlzKSwodD12b2lkIDAhPT1jKSYmbyhjKSxudWxsPT1lP25ldyB0aGlzOihuPVtdLHQ/KHI9MCx1PWkoYyxhcmd1bWVudHNbMl0sMiksYShlLCExLGZ1bmN0aW9uKGUpe24ucHVzaCh1KGUscisrKSl9KSk6YShlLCExLG4ucHVzaCxuKSxuZXcgdGhpcyhuKSl9fSl9fSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPXtkZWZhdWx0Om4oMzgzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsoZnVuY3Rpb24oZSl7Y29uc3QgdD1uKDg4KSxyPShlLG4pPT4oZnVuY3Rpb24oKXtjb25zdCByPWUuYXBwbHkodCxhcmd1bWVudHMpO3JldHVybmAbWyR7citufW1gfSksbz0oZSxuKT0+KGZ1bmN0aW9uKCl7Y29uc3Qgcj1lLmFwcGx5KHQsYXJndW1lbnRzKTtyZXR1cm5gG1skezM4K259OzU7JHtyfW1gfSksaT0oZSxuKT0+KGZ1bmN0aW9uKCl7Y29uc3Qgcj1lLmFwcGx5KHQsYXJndW1lbnRzKTtyZXR1cm5gG1skezM4K259OzI7JHtyWzBdfTske3JbMV19OyR7clsyXX1tYH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJleHBvcnRzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtjb25zdCBlPW5ldyBNYXAsbj17bW9kaWZpZXI6e3Jlc2V0OlswLDBdLGJvbGQ6WzEsMjJdLGRpbTpbMiwyMl0saXRhbGljOlszLDIzXSx1bmRlcmxpbmU6WzQsMjRdLGludmVyc2U6WzcsMjddLGhpZGRlbjpbOCwyOF0sc3RyaWtldGhyb3VnaDpbOSwyOV19LGNvbG9yOntibGFjazpbMzAsMzldLHJlZDpbMzEsMzldLGdyZWVuOlszMiwzOV0seWVsbG93OlszMywzOV0sYmx1ZTpbMzQsMzldLG1hZ2VudGE6WzM1LDM5XSxjeWFuOlszNiwzOV0sd2hpdGU6WzM3LDM5XSxncmF5Ols5MCwzOV0scmVkQnJpZ2h0Ols5MSwzOV0sZ3JlZW5CcmlnaHQ6WzkyLDM5XSx5ZWxsb3dCcmlnaHQ6WzkzLDM5XSxibHVlQnJpZ2h0Ols5NCwzOV0sbWFnZW50YUJyaWdodDpbOTUsMzldLGN5YW5CcmlnaHQ6Wzk2LDM5XSx3aGl0ZUJyaWdodDpbOTcsMzldfSxiZ0NvbG9yOntiZ0JsYWNrOls0MCw0OV0sYmdSZWQ6WzQxLDQ5XSxiZ0dyZWVuOls0Miw0OV0sYmdZZWxsb3c6WzQzLDQ5XSxiZ0JsdWU6WzQ0LDQ5XSxiZ01hZ2VudGE6WzQ1LDQ5XSxiZ0N5YW46WzQ2LDQ5XSxiZ1doaXRlOls0Nyw0OV0sYmdCbGFja0JyaWdodDpbMTAwLDQ5XSxiZ1JlZEJyaWdodDpbMTAxLDQ5XSxiZ0dyZWVuQnJpZ2h0OlsxMDIsNDldLGJnWWVsbG93QnJpZ2h0OlsxMDMsNDldLGJnQmx1ZUJyaWdodDpbMTA0LDQ5XSxiZ01hZ2VudGFCcmlnaHQ6WzEwNSw0OV0sYmdDeWFuQnJpZ2h0OlsxMDYsNDldLGJnV2hpdGVCcmlnaHQ6WzEwNyw0OV19fTtuLmNvbG9yLmdyZXk9bi5jb2xvci5ncmF5O2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKG4pKXtjb25zdCByPW5bdF07Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXMocikpe2NvbnN0IG89clt0XTtuW3RdPXtvcGVuOmAbWyR7b1swXX1tYCxjbG9zZTpgG1ske29bMV19bWB9LHJbdF09blt0XSxlLnNldChvWzBdLG9bMV0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJjb2RlcyIse3ZhbHVlOmUsZW51bWVyYWJsZTohMX0pfWNvbnN0IGE9ZT0+ZSx1PShlLHQsbik9PltlLHQsbl07bi5jb2xvci5jbG9zZT0iG1szOW0iLG4uYmdDb2xvci5jbG9zZT0iG1s0OW0iLG4uY29sb3IuYW5zaT17YW5zaTpyKGEsMCl9LG4uY29sb3IuYW5zaTI1Nj17YW5zaTI1NjpvKGEsMCl9LG4uY29sb3IuYW5zaTE2bT17cmdiOmkodSwwKX0sbi5iZ0NvbG9yLmFuc2k9e2Fuc2k6cihhLDEwKX0sbi5iZ0NvbG9yLmFuc2kyNTY9e2Fuc2kyNTY6byhhLDEwKX0sbi5iZ0NvbG9yLmFuc2kxNm09e3JnYjppKHUsMTApfTtmb3IobGV0IGUgb2YgT2JqZWN0LmtleXModCkpe2lmKCJvYmplY3QiIT10eXBlb2YgdFtlXSljb250aW51ZTtjb25zdCBhPXRbZV07ImFuc2kxNiI9PT1lJiYoZT0iYW5zaSIpLCJhbnNpMTYiaW4gYSYmKG4uY29sb3IuYW5zaVtlXT1yKGEuYW5zaTE2LDApLG4uYmdDb2xvci5hbnNpW2VdPXIoYS5hbnNpMTYsMTApKSwiYW5zaTI1NiJpbiBhJiYobi5jb2xvci5hbnNpMjU2W2VdPW8oYS5hbnNpMjU2LDApLG4uYmdDb2xvci5hbnNpMjU2W2VdPW8oYS5hbnNpMjU2LDEwKSksInJnYiJpbiBhJiYobi5jb2xvci5hbnNpMTZtW2VdPWkoYS5yZ2IsMCksbi5iZ0NvbG9yLmFuc2kxNm1bZV09aShhLnJnYiwxMCkpfXJldHVybiBufX0pfSkuY2FsbCh0aGlzLG4oMTgpKGUpKX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz17ZGVmYXVsdDpuKDQwMyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9e2RlZmF1bHQ6big0MTMpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNTUpO3QuTk9fRElGRl9NRVNTQUdFPXIuZGltKCJDb21wYXJlZCB2YWx1ZXMgaGF2ZSBubyB2aXN1YWwgZGlmZmVyZW5jZS4iKSx0LlNJTUlMQVJfTUVTU0FHRT1yLmRpbSgiQ29tcGFyZWQgdmFsdWVzIHNlcmlhbGl6ZSB0byB0aGUgc2FtZSBzdHJ1Y3R1cmUuXG5QcmludGluZyBpbnRlcm5hbCBvYmplY3Qgc3RydWN0dXJlIHdpdGhvdXQgY2FsbGluZyBgdG9KU09OYCBpbnN0ZWFkLiIpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNTcpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW1tcXXt9KCkqKz8uXFxeJHxdL2csIlxcJCYiKX0saT1mdW5jdGlvbihlKXtyZXR1cm4iXFwiPT09ci5zZXA/ZS5yZXBsYWNlKC8oXC98XFwoPyFcLikpL2csIlxcXFwiKTplfTtlLmV4cG9ydHM9e2VzY2FwZVBhdGhGb3JSZWdleDpmdW5jdGlvbihlKXtyZXR1cm4iXFwiPT09ci5zZXAmJihlPWUucmVwbGFjZSgvXFwvZywiLyIpKSxpKG8oZSkpfSxlc2NhcGVTdHJGb3JSZWdleDpvLHJlcGxhY2VQYXRoU2VwRm9yUmVnZXg6aX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQzNiksbz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiJ1bmRlZmluZWQiO2lmKG51bGw9PT1lKXJldHVybiJudWxsIjtpZighMD09PWV8fCExPT09ZXx8ZSBpbnN0YW5jZW9mIEJvb2xlYW4pcmV0dXJuImJvb2xlYW4iO2lmKCJzdHJpbmciPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZylyZXR1cm4ic3RyaW5nIjtpZigibnVtYmVyIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBOdW1iZXIpcmV0dXJuIm51bWJlciI7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBGdW5jdGlvbilyZXR1cm4iZnVuY3Rpb24iO2lmKHZvaWQgMCE9PUFycmF5LmlzQXJyYXkmJkFycmF5LmlzQXJyYXkoZSkpcmV0dXJuImFycmF5IjtpZihlIGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiJyZWdleHAiO2lmKGUgaW5zdGFuY2VvZiBEYXRlKXJldHVybiJkYXRlIjt2YXIgdD1vLmNhbGwoZSk7cmV0dXJuIltvYmplY3QgUmVnRXhwXSI9PT10PyJyZWdleHAiOiJbb2JqZWN0IERhdGVdIj09PXQ/ImRhdGUiOiJbb2JqZWN0IEFyZ3VtZW50c10iPT09dD8iYXJndW1lbnRzIjoiW29iamVjdCBFcnJvcl0iPT09dD8iZXJyb3IiOnIoZSk/ImJ1ZmZlciI6IltvYmplY3QgU2V0XSI9PT10PyJzZXQiOiJbb2JqZWN0IFdlYWtTZXRdIj09PXQ/IndlYWtzZXQiOiJbb2JqZWN0IE1hcF0iPT09dD8ibWFwIjoiW29iamVjdCBXZWFrTWFwXSI9PT10PyJ3ZWFrbWFwIjoiW29iamVjdCBTeW1ib2xdIj09PXQ/InN5bWJvbCI6IltvYmplY3QgSW50OEFycmF5XSI9PT10PyJpbnQ4YXJyYXkiOiJbb2JqZWN0IFVpbnQ4QXJyYXldIj09PXQ/InVpbnQ4YXJyYXkiOiJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSI9PT10PyJ1aW50OGNsYW1wZWRhcnJheSI6IltvYmplY3QgSW50MTZBcnJheV0iPT09dD8iaW50MTZhcnJheSI6IltvYmplY3QgVWludDE2QXJyYXldIj09PXQ/InVpbnQxNmFycmF5IjoiW29iamVjdCBJbnQzMkFycmF5XSI9PT10PyJpbnQzMmFycmF5IjoiW29iamVjdCBVaW50MzJBcnJheV0iPT09dD8idWludDMyYXJyYXkiOiJbb2JqZWN0IEZsb2F0MzJBcnJheV0iPT09dD8iZmxvYXQzMmFycmF5IjoiW29iamVjdCBGbG9hdDY0QXJyYXldIj09PXQ/ImZsb2F0NjRhcnJheSI6Im9iamVjdCJ9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyBlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKW5bcl09ZTtyZXR1cm4gbn19LGZ1bmN0aW9uKGUsdCxuKXsgdmFyIHI9big0Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmKC9bKiE/e30ofClbXF1dLy50ZXN0KGUpfHxyKGUpKX19LCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O3QuX19lc01vZHVsZT0hMDt2YXIgbz1yKG4oMzMyKSk7dC5leHBlY3Q9by5kZWZhdWx0O3ZhciBpPXIobig0NjYpKTt0Lmplc3Q9aS5kZWZhdWx0O3ZhciBhPW4oNTkpO3QuYWRkRXZlbnRIYW5kbGVyPWEuYWRkRXZlbnRIYW5kbGVyO3ZhciB1PXIobig0NjcpKTt0LnJ1bj11LmRlZmF1bHQsZnVuY3Rpb24oZSl7Zm9yKHZhciBuIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShuKXx8KHRbbl09ZVtuXSl9KG4oNDY4KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKHQpe3ZhciByPXYobigxOTMpKSxvPXYobigzMzgpKSxpPXYobigzNDEpKSxhPXYobigzOSkpLHU9dihuKDIwOSkpLGM9dihuKDIxMCkpLHM9dihuKDkpKSxmPXYobig4NSkpLGw9dihuKDEzMykpLHA9dihuKDEzNCkpLGg9dihuKDEzNSkpLGQ9dihuKDQwKSk7ZnVuY3Rpb24gdihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGc9big1NCkseT1uKDQxMiksbT1uKDQyMiksYj1uKDQyMyksXz1uKDU4KS5lcXVhbHMsdz1uKDQ2NCkseD13LmFueSxFPXcuYW55dGhpbmcsaz13LmFycmF5Q29udGFpbmluZyxNPXcub2JqZWN0Q29udGFpbmluZyxPPXcuc3RyaW5nQ29udGFpbmluZyxqPXcuc3RyaW5nTWF0Y2hpbmcsUz0oMCxkLmRlZmF1bHQpKCIkJGplc3QtbWF0Y2hlcnMtb2JqZWN0IiksQT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuKDAsbC5kZWZhdWx0KSh0aGlzLHQpLCgwLHAuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLGYuZGVmYXVsdCkodCkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLHR9KEVycm9yKSxUPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmKCJvYmplY3QiPT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAscy5kZWZhdWx0KShlKSl8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUudGhlbn07dFtTXXx8KDAsYy5kZWZhdWx0KSh0LFMse3ZhbHVlOnttYXRjaGVyczooMCx1LmRlZmF1bHQpKG51bGwpLHN0YXRlOnthc3NlcnRpb25DYWxsczowLGV4cGVjdGVkQXNzZXJ0aW9uc051bWJlcjpudWxsLGlzRXhwZWN0aW5nQXNzZXJ0aW9uczohMSxzdXBwcmVzc2VkRXJyb3JzOltdfX19KTt2YXIgQz1mdW5jdGlvbihlKXt2YXIgbj10W1NdLm1hdGNoZXJzLHI9e25vdDp7fSxyZWplY3RzOntub3Q6e319LHJlc29sdmVzOntub3Q6e319fTtyZXR1cm4oMCxhLmRlZmF1bHQpKG4pLmZvckVhY2goZnVuY3Rpb24odCl7clt0XT1OKG5bdF0sITEsZSksci5ub3RbdF09TihuW3RdLCEwLGUpLHIucmVzb2x2ZXNbdF09Uih0LG5bdF0sITEsZSksci5yZXNvbHZlcy5ub3RbdF09Uih0LG5bdF0sITAsZSksci5yZWplY3RzW3RdPUwodCxuW3RdLCExLGUpLHIucmVqZWN0cy5ub3RbdF09TCh0LG5bdF0sITAsZSl9KSxyfSxQPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYoZT1lKCkpLGV8fChlPWcuUkVDRUlWRURfQ09MT1IoIk5vIG1lc3NhZ2Ugd2FzIHNwZWNpZmllZCBmb3IgdGhpcyBtYXRjaGVyLiIpKSxlfSxSPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybigwLGkuZGVmYXVsdCkoby5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gaSgpe2Zvcih2YXIgYT1hcmd1bWVudHMubGVuZ3RoLHU9QXJyYXkoYSksYz0wO2M8YTtjKyspdVtjXT1hcmd1bWVudHNbY107dmFyIHMsZjtyZXR1cm4gby5kZWZhdWx0LndyYXAoZnVuY3Rpb24obyl7Zm9yKDs7KXN3aXRjaChvLnByZXY9by5uZXh0KXtjYXNlIDA6aWYocz0iLnJlc29sdmVzLiIrKG4/Im5vdC4iOiIiKStlLFQocikpe28ubmV4dD0zO2JyZWFrfXRocm93IG5ldyBBKGcubWF0Y2hlckhpbnQocywicmVjZWl2ZWQiLCIiKSsiXG5cbiIrZy5SRUNFSVZFRF9DT0xPUigicmVjZWl2ZWQiKSsiIHZhbHVlIG11c3QgYmUgYSBQcm9taXNlLlxuIitnLnByaW50V2l0aFR5cGUoIlJlY2VpdmVkIixyLGcucHJpbnRSZWNlaXZlZCkpO2Nhc2UgMzpyZXR1cm4gZj12b2lkIDAsby5wcmV2PTQsby5uZXh0PTcscjtjYXNlIDc6Zj1vLnNlbnQsby5uZXh0PTEzO2JyZWFrO2Nhc2UgMTA6dGhyb3cgby5wcmV2PTEwLG8udDA9by5jYXRjaCg0KSxuZXcgQShnLm1hdGNoZXJIaW50KHMsInJlY2VpdmVkIiwiIikrIlxuXG5FeHBlY3RlZCAiK2cuUkVDRUlWRURfQ09MT1IoInJlY2VpdmVkIikrIiBQcm9taXNlIHRvIHJlc29sdmUsIGluc3RlYWQgaXQgcmVqZWN0ZWQgdG8gdmFsdWVcbiAgIitnLnByaW50UmVjZWl2ZWQoby50MCkpO2Nhc2UgMTM6cmV0dXJuIG8uYWJydXB0KCJyZXR1cm4iLE4odCxuLGYpLmFwcGx5KG51bGwsdSkpO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiBvLnN0b3AoKX19LGksdm9pZCAwLFtbNCwxMF1dKX0pKX0sTD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4oMCxpLmRlZmF1bHQpKG8uZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIGkoKXtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCx1PUFycmF5KGEpLGM9MDtjPGE7YysrKXVbY109YXJndW1lbnRzW2NdO3ZhciBzLGY7cmV0dXJuIG8uZGVmYXVsdC53cmFwKGZ1bmN0aW9uKG8pe2Zvcig7Oylzd2l0Y2goby5wcmV2PW8ubmV4dCl7Y2FzZSAwOmlmKHM9Ii5yZWplY3RzLiIrKG4/Im5vdC4iOiIiKStlLFQocikpe28ubmV4dD0zO2JyZWFrfXRocm93IG5ldyBBKGcubWF0Y2hlckhpbnQocywicmVjZWl2ZWQiLCIiKSsiXG5cbiIrZy5SRUNFSVZFRF9DT0xPUigicmVjZWl2ZWQiKSsiIHZhbHVlIG11c3QgYmUgYSBQcm9taXNlLlxuIitnLnByaW50V2l0aFR5cGUoIlJlY2VpdmVkIixyLGcucHJpbnRSZWNlaXZlZCkpO2Nhc2UgMzpyZXR1cm4gZj12b2lkIDAsby5wcmV2PTQsby5uZXh0PTcscjtjYXNlIDc6Zj1vLnNlbnQsby5uZXh0PTEzO2JyZWFrO2Nhc2UgMTA6cmV0dXJuIG8ucHJldj0xMCxvLnQwPW8uY2F0Y2goNCksby5hYnJ1cHQoInJldHVybiIsTih0LG4sby50MCkuYXBwbHkobnVsbCx1KSk7Y2FzZSAxMzp0aHJvdyBuZXcgQShnLm1hdGNoZXJIaW50KHMsInJlY2VpdmVkIiwiIikrIlxuXG5FeHBlY3RlZCAiK2cuUkVDRUlWRURfQ09MT1IoInJlY2VpdmVkIikrIiBQcm9taXNlIHRvIHJlamVjdCwgaW5zdGVhZCBpdCByZXNvbHZlZCB0byB2YWx1ZVxuICAiK2cucHJpbnRSZWNlaXZlZChmKSk7Y2FzZSAxNDpjYXNlImVuZCI6cmV0dXJuIG8uc3RvcCgpfX0saSx2b2lkIDAsW1s0LDEwXV0pfSkpfSxOPWZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gZnVuY3Rpb24gaSgpe3ZhciBhPSEwLHU9KDAsci5kZWZhdWx0KSh7ZG9udFRocm93OmZ1bmN0aW9uKCl7cmV0dXJuIGE9ITF9fSx0W1NdLnN0YXRlLHtlcXVhbHM6Xyxpc05vdDpuLHV0aWxzOmd9KSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsZj1BcnJheShzKSxsPTA7bDxzO2wrKylmW2xdPWFyZ3VtZW50c1tsXTtjPWUuYXBwbHkodSxbb10uY29uY2F0KGYpKX1jYXRjaChoKXt0aHJvdyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShoLGkpLGh9aWYoQihjKSx0W1NdLnN0YXRlLmFzc2VydGlvbkNhbGxzKyssYy5wYXNzJiZufHwhYy5wYXNzJiYhbil7dmFyIHA9UChjLm1lc3NhZ2UpLGg9bmV3IEEocCk7aWYoaC5tYXRjaGVyUmVzdWx0PWMsRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoaCxpKSxhKXRocm93IGg7dFtTXS5zdGF0ZS5zdXBwcmVzc2VkRXJyb3JzLnB1c2goaCl9fX07Qy5leHRlbmQ9ZnVuY3Rpb24oZSl7KDAsci5kZWZhdWx0KSh0W1NdLm1hdGNoZXJzLGUpfSxDLmFueXRoaW5nPUUsQy5hbnk9eCxDLm9iamVjdENvbnRhaW5pbmc9TSxDLmFycmF5Q29udGFpbmluZz1rLEMuc3RyaW5nQ29udGFpbmluZz1PLEMuc3RyaW5nTWF0Y2hpbmc9ajt2YXIgQj1mdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLHMuZGVmYXVsdCkoZSkpfHwiYm9vbGVhbiIhPXR5cGVvZiBlLnBhc3N8fGUubWVzc2FnZSYmInN0cmluZyIhPXR5cGVvZiBlLm1lc3NhZ2UmJiJmdW5jdGlvbiIhPXR5cGVvZiBlLm1lc3NhZ2UpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIHJldHVybiBmcm9tIGEgbWF0Y2hlciBmdW5jdGlvbi5cbk1hdGNoZXIgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0IGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxuICB7bWVzc2FnZT86IHN0cmluZyB8IGZ1bmN0aW9uLCBwYXNzOiBib29sZWFufVxuJyIrZy5zdHJpbmdpZnkoZSkrIicgd2FzIHJldHVybmVkIil9O0MuZXh0ZW5kKHkpLEMuZXh0ZW5kKG0pLEMuZXh0ZW5kKGIpLEMuYWRkU25hcHNob3RTZXJpYWxpemVyPWZ1bmN0aW9uKCl7fSxDLmFzc2VydGlvbnM9ZnVuY3Rpb24oZSl7dFtTXS5zdGF0ZS5leHBlY3RlZEFzc2VydGlvbnNOdW1iZXI9ZX0sQy5oYXNBc3NlcnRpb25zPWZ1bmN0aW9uKGUpe2cuZW5zdXJlTm9FeHBlY3RlZChlLCIuaGFzQXNzZXJ0aW9ucyIpLHRbU10uc3RhdGUuaXNFeHBlY3RpbmdBc3NlcnRpb25zPSEwfSxDLnNldFN0YXRlPWZ1bmN0aW9uKGUpeygwLHIuZGVmYXVsdCkodFtTXS5zdGF0ZSxlKX0sQy5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0W1NdLnN0YXRlfSxlLmV4cG9ydHM9Q30pLmNhbGwodGhpcyxuKDApKX0sZnVuY3Rpb24oZSx0LG4pe24oMzM0KSxlLmV4cG9ydHM9bigxKS5PYmplY3QuYXNzaWdufSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyKTtyKHIuUytyLkYsIk9iamVjdCIse2Fzc2lnbjpuKDMzNSl9KX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE0KSxvPW4oNDkpLGk9bigxMjMpLGE9big4MSksdT1uKDMwKSxjPW4oMTE3KSxzPU9iamVjdC5hc3NpZ247ZS5leHBvcnRzPSFzfHxuKDI4KShmdW5jdGlvbigpe3ZhciBlPXt9LHQ9e30sbj1TeW1ib2woKSxyPSJhYmNkZWZnaGlqa2xtbm9wcXJzdCI7cmV0dXJuIGVbbl09NyxyLnNwbGl0KCIiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09ZX0pLDchPXMoe30sZSlbbl18fE9iamVjdC5rZXlzKHMoe30sdCkpLmpvaW4oIiIpIT1yfSk/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dShlKSxzPWFyZ3VtZW50cy5sZW5ndGgsZj0xLGw9aS5mLHA9YS5mO3M+ZjspZm9yKHZhciBoLGQ9Yyhhcmd1bWVudHNbZisrXSksdj1sP28oZCkuY29uY2F0KGwoZCkpOm8oZCksZz12Lmxlbmd0aCx5PTA7Zz55OyloPXZbeSsrXSxyJiYhcC5jYWxsKGQsaCl8fChuW2hdPWRbaF0pO3JldHVybiBufTpzfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzNiksbz1uKDc5KSxpPW4oMzM3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixhKXt2YXIgdSxjPXIodCkscz1vKGMubGVuZ3RoKSxmPWkoYSxzKTtpZihlJiZuIT1uKXtmb3IoO3M+ZjspaWYoKHU9Y1tmKytdKSE9dSlyZXR1cm4hMH1lbHNlIGZvcig7cz5mO2YrKylpZigoZXx8ZiBpbiBjKSYmY1tmXT09PW4pcmV0dXJuIGV8fGZ8fDA7cmV0dXJuIWUmJi0xfX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDExOSksbz1NYXRoLm1heCxpPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybihlPXIoZSkpPDA/byhlK3QsMCk6aShlLHQpfX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDMzOSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpLG89ci5yZWdlbmVyYXRvclJ1bnRpbWUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmluZGV4T2YoInJlZ2VuZXJhdG9yUnVudGltZSIpPj0wLGk9byYmci5yZWdlbmVyYXRvclJ1bnRpbWU7aWYoci5yZWdlbmVyYXRvclJ1bnRpbWU9dm9pZCAwLGUuZXhwb3J0cz1uKDM0MCksbylyLnJlZ2VuZXJhdG9yUnVudGltZT1pO2Vsc2UgdHJ5e2RlbGV0ZSByLnJlZ2VuZXJhdG9yUnVudGltZX1jYXRjaChlKXtyLnJlZ2VuZXJhdG9yUnVudGltZT12b2lkIDB9fSxmdW5jdGlvbihlLHQpeyFmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7dmFyIG4scj1PYmplY3QucHJvdG90eXBlLG89ci5oYXNPd25Qcm9wZXJ0eSxpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGE9aS5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLHU9aS5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixjPWkudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIixzPSJvYmplY3QiPT10eXBlb2YgZSxmPXQucmVnZW5lcmF0b3JSdW50aW1lO2lmKGYpcyYmKGUuZXhwb3J0cz1mKTtlbHNleyhmPXQucmVnZW5lcmF0b3JSdW50aW1lPXM/ZS5leHBvcnRzOnt9KS53cmFwPV87dmFyIGw9InN1c3BlbmRlZFN0YXJ0IixwPSJzdXNwZW5kZWRZaWVsZCIsaD0iZXhlY3V0aW5nIixkPSJjb21wbGV0ZWQiLHY9e30sZz17fTtnW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciB5PU9iamVjdC5nZXRQcm90b3R5cGVPZixtPXkmJnkoeShDKFtdKSkpO20mJm0hPT1yJiZvLmNhbGwobSxhKSYmKGc9bSk7dmFyIGI9ay5wcm90b3R5cGU9eC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnKTtFLnByb3RvdHlwZT1iLmNvbnN0cnVjdG9yPWssay5jb25zdHJ1Y3Rvcj1FLGtbY109RS5kaXNwbGF5TmFtZT0iR2VuZXJhdG9yRnVuY3Rpb24iLGYuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09RXx8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sZi5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsayk6KGUuX19wcm90b19fPWssYyBpbiBlfHwoZVtjXT0iR2VuZXJhdG9yRnVuY3Rpb24iKSksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiKSxlfSxmLmF3cmFwPWZ1bmN0aW9uKGUpe3JldHVybntfX2F3YWl0OmV9fSxNKE8ucHJvdG90eXBlKSxPLnByb3RvdHlwZVt1XT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxmLkFzeW5jSXRlcmF0b3I9TyxmLmFzeW5jPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPW5ldyBPKF8oZSx0LG4scikpO3JldHVybiBmLmlzR2VuZXJhdG9yRnVuY3Rpb24odCk/bzpvLm5leHQoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTpvLm5leHQoKX0pfSxNKGIpLGJbY109IkdlbmVyYXRvciIsYlthXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9LGYua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSl0LnB1c2gobik7cmV0dXJuIHQucmV2ZXJzZSgpLGZ1bmN0aW9uIG4oKXtmb3IoO3QubGVuZ3RoOyl7dmFyIHI9dC5wb3AoKTtpZihyIGluIGUpcmV0dXJuIG4udmFsdWU9cixuLmRvbmU9ITEsbn1yZXR1cm4gbi5kb25lPSEwLG59fSxmLnZhbHVlcz1DLFQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpULHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PW4sdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9bix0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChBKSwhZSlmb3IodmFyIHQgaW4gdGhpcykidCI9PT10LmNoYXJBdCgwKSYmby5jYWxsKHRoaXMsdCkmJiFpc05hTigrdC5zbGljZSgxKSkmJih0aGlzW3RdPW4pfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIHQ9dGhpcztmdW5jdGlvbiByKHIsbyl7cmV0dXJuIHUudHlwZT0idGhyb3ciLHUuYXJnPWUsdC5uZXh0PXIsbyYmKHQubWV0aG9kPSJuZXh0Iix0LmFyZz1uKSwhIW99Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW2ldLHU9YS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWEudHJ5TG9jKXJldHVybiByKCJlbmQiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYz1vLmNhbGwoYSwiY2F0Y2hMb2MiKSxzPW8uY2FsbChhLCJmaW5hbGx5TG9jIik7aWYoYyYmcyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCl9ZWxzZXtpZighcyl0aHJvdyBuZXcgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbbl07aWYoci50cnlMb2M8PXRoaXMucHJldiYmby5jYWxsKHIsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PHIuZmluYWxseUxvYyl7dmFyIGk9cjticmVha319aSYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJmkudHJ5TG9jPD10JiZ0PD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9ZSxhLmFyZz10LGk/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLHYpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4iYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzoicmV0dXJuIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCksdn0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxBKG4pLHZ9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi50cnlMb2M9PT1lKXt2YXIgcj1uLmNvbXBsZXRpb247aWYoInRocm93Ij09PXIudHlwZSl7dmFyIG89ci5hcmc7QShuKX1yZXR1cm4gb319dGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOkMoZSkscmVzdWx0TmFtZTp0LG5leHRMb2M6cn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1uKSx2fX19ZnVuY3Rpb24gXyhlLHQsbixyKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIHg/dDp4LGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSksYT1uZXcgVChyfHxbXSk7cmV0dXJuIGkuX2ludm9rZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9bDtyZXR1cm4gZnVuY3Rpb24obyxpKXtpZihyPT09aCl0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihyPT09ZCl7aWYoInRocm93Ij09PW8pdGhyb3cgaTtyZXR1cm4gUCgpfWZvcihuLm1ldGhvZD1vLG4uYXJnPWk7Oyl7dmFyIGE9bi5kZWxlZ2F0ZTtpZihhKXt2YXIgdT1qKGEsbik7aWYodSl7aWYodT09PXYpY29udGludWU7cmV0dXJuIHV9fWlmKCJuZXh0Ij09PW4ubWV0aG9kKW4uc2VudD1uLl9zZW50PW4uYXJnO2Vsc2UgaWYoInRocm93Ij09PW4ubWV0aG9kKXtpZihyPT09bCl0aHJvdyByPWQsbi5hcmc7bi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyl9ZWxzZSJyZXR1cm4iPT09bi5tZXRob2QmJm4uYWJydXB0KCJyZXR1cm4iLG4uYXJnKTtyPWg7dmFyIGM9dyhlLHQsbik7aWYoIm5vcm1hbCI9PT1jLnR5cGUpe2lmKHI9bi5kb25lP2Q6cCxjLmFyZz09PXYpY29udGludWU7cmV0dXJue3ZhbHVlOmMuYXJnLGRvbmU6bi5kb25lfX0idGhyb3ciPT09Yy50eXBlJiYocj1kLG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9Yy5hcmcpfX19KGUsbixhKSxpfWZ1bmN0aW9uIHcoZSx0LG4pe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQsbil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX1mdW5jdGlvbiB4KCl7fWZ1bmN0aW9uIEUoKXt9ZnVuY3Rpb24gaygpe31mdW5jdGlvbiBNKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX19KX1mdW5jdGlvbiBPKGUpe3ZhciB0O3RoaXMuX2ludm9rZT1mdW5jdGlvbihuLHIpe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxpKXshZnVuY3Rpb24gdChuLHIsaSxhKXt2YXIgdT13KGVbbl0sZSxyKTtpZigidGhyb3ciIT09dS50eXBlKXt2YXIgYz11LmFyZyxzPWMudmFsdWU7cmV0dXJuIHMmJiJvYmplY3QiPT10eXBlb2YgcyYmby5jYWxsKHMsIl9fYXdhaXQiKT9Qcm9taXNlLnJlc29sdmUocy5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKGUpe3QoIm5leHQiLGUsaSxhKX0sZnVuY3Rpb24oZSl7dCgidGhyb3ciLGUsaSxhKX0pOlByb21pc2UucmVzb2x2ZShzKS50aGVuKGZ1bmN0aW9uKGUpe2MudmFsdWU9ZSxpKGMpfSxhKX1hKHUuYXJnKX0obixyLHQsaSl9KX1yZXR1cm4gdD10P3QudGhlbihpLGkpOmkoKX19ZnVuY3Rpb24gaihlLHQpe3ZhciByPWUuaXRlcmF0b3JbdC5tZXRob2RdO2lmKHI9PT1uKXtpZih0LmRlbGVnYXRlPW51bGwsInRocm93Ij09PXQubWV0aG9kKXtpZihlLml0ZXJhdG9yLnJldHVybiYmKHQubWV0aG9kPSJyZXR1cm4iLHQuYXJnPW4saihlLHQpLCJ0aHJvdyI9PT10Lm1ldGhvZCkpcmV0dXJuIHY7dC5tZXRob2Q9InRocm93Iix0LmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kIil9cmV0dXJuIHZ9dmFyIG89dyhyLGUuaXRlcmF0b3IsdC5hcmcpO2lmKCJ0aHJvdyI9PT1vLnR5cGUpcmV0dXJuIHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9by5hcmcsdC5kZWxlZ2F0ZT1udWxsLHY7dmFyIGk9by5hcmc7cmV0dXJuIGk/aS5kb25lPyh0W2UucmVzdWx0TmFtZV09aS52YWx1ZSx0Lm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09dC5tZXRob2QmJih0Lm1ldGhvZD0ibmV4dCIsdC5hcmc9biksdC5kZWxlZ2F0ZT1udWxsLHYpOmk6KHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSx0LmRlbGVnYXRlPW51bGwsdil9ZnVuY3Rpb24gUyhlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBBKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBUKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goUyx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBDKGUpe2lmKGUpe3ZhciB0PWVbYV07aWYodClyZXR1cm4gdC5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIHI9LTEsaT1mdW5jdGlvbiB0KCl7Zm9yKDsrK3I8ZS5sZW5ndGg7KWlmKG8uY2FsbChlLHIpKXJldHVybiB0LnZhbHVlPWVbcl0sdC5kb25lPSExLHQ7cmV0dXJuIHQudmFsdWU9bix0LmRvbmU9ITAsdH07cmV0dXJuIGkubmV4dD1pfX1yZXR1cm57bmV4dDpQfX1mdW5jdGlvbiBQKCl7cmV0dXJue3ZhbHVlOm4sZG9uZTohMH19fShmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIHIsbz1uKDM0MiksaT0ocj1vKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGUsbil7cmV0dXJuIGZ1bmN0aW9uIHIobyxhKXt0cnl7dmFyIHU9dFtvXShhKSxjPXUudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1pZighdS5kb25lKXJldHVybiBpLmRlZmF1bHQucmVzb2x2ZShjKS50aGVuKGZ1bmN0aW9uKGUpe3IoIm5leHQiLGUpfSxmdW5jdGlvbihlKXtyKCJ0aHJvdyIsZSl9KTtlKGMpfSgibmV4dCIpfSl9fX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz17ZGVmYXVsdDpuKDM0MyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxuKXtuKDgyKSxuKDMxKSxuKDM4KSxuKDM0OSksbigzNTMpLG4oMzU0KSxlLmV4cG9ydHM9bigxKS5Qcm9taXNlfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTkpLG89bigxMTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgaSxhLHU9U3RyaW5nKG8odCkpLGM9cihuKSxzPXUubGVuZ3RoO3JldHVybiBjPDB8fGM+PXM/ZT8iIjp2b2lkIDA6KGk9dS5jaGFyQ29kZUF0KGMpKTw1NTI5Nnx8aT41NjMxOXx8YysxPT09c3x8KGE9dS5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHxhPjU3MzQzP2U/dS5jaGFyQXQoYyk6aTplP3Uuc2xpY2UoYyxjKzIpOmEtNTYzMjArKGktNTUyOTY8PDEwKSs2NTUzNn19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oODMpLG89big0OCksaT1uKDUyKSxhPXt9O24oMjYpKGEsbig2KSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtlLnByb3RvdHlwZT1yKGEse25leHQ6bygxLG4pfSksaShlLHQrIiBJdGVyYXRvciIpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTIpLG89bigxNyksaT1uKDQ5KTtlLmV4cG9ydHM9bigxNCk/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgbixhPWkodCksdT1hLmxlbmd0aCxjPTA7dT5jOylyLmYoZSxuPWFbYysrXSx0W25dKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigzNDgpLG89bigxOTkpLGk9bigzNyksYT1uKDM2KTtlLmV4cG9ydHM9bigxMjQpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PWEoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxuPXRoaXMuX2krKztyZXR1cm4hZXx8bj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOm8oMCwia2V5cyI9PXQ/bjoidmFsdWVzIj09dD9lW25dOltuLGVbbl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXkscigia2V5cyIpLHIoInZhbHVlcyIpLHIoImVudHJpZXMiKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByLG8saSxhLHU9big1MSksYz1uKDUpLHM9bigyMiksZj1uKDg0KSxsPW4oMikscD1uKDEzKSxoPW4oNDcpLGQ9bigxMjUpLHY9big1MyksZz1uKDIwMikseT1uKDIwMykuc2V0LG09bigzNTEpKCksYj1uKDEyNyksXz1uKDIwNCksdz1uKDM1MikseD1uKDIwNSksRT1jLlR5cGVFcnJvcixrPWMucHJvY2VzcyxNPWsmJmsudmVyc2lvbnMsTz1NJiZNLnY4fHwiIixqPWMuUHJvbWlzZSxTPSJwcm9jZXNzIj09ZihrKSxBPWZ1bmN0aW9uKCl7fSxUPW89Yi5mLEM9ISFmdW5jdGlvbigpe3RyeXt2YXIgZT1qLnJlc29sdmUoMSksdD0oZS5jb25zdHJ1Y3Rvcj17fSlbbig2KSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKEEsQSl9O3JldHVybihTfHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmZS50aGVuKEEpaW5zdGFuY2VvZiB0JiYwIT09Ty5pbmRleE9mKCI2LjYiKSYmLTE9PT13LmluZGV4T2YoIkNocm9tZS82NiIpfWNhdGNoKGUpe319KCksUD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFwKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sUj1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciBuPWUuX2M7bShmdW5jdGlvbigpe2Zvcih2YXIgcj1lLl92LG89MT09ZS5fcyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgbixpLGEsdT1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHM9dC5yZWplY3QsZj10LmRvbWFpbjt0cnl7dT8ob3x8KDI9PWUuX2gmJkIoZSksZS5faD0xKSwhMD09PXU/bj1yOihmJiZmLmVudGVyKCksbj11KHIpLGYmJihmLmV4aXQoKSxhPSEwKSksbj09PXQucHJvbWlzZT9zKEUoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9UChuKSk/aS5jYWxsKG4sYyxzKTpjKG4pKTpzKHIpfWNhdGNoKGUpe2YmJiFhJiZmLmV4aXQoKSxzKGUpfX07bi5sZW5ndGg+aTspYShuW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTChlKX0pfX0sTD1mdW5jdGlvbihlKXt5LmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0LG4scixvPWUuX3YsaT1OKGUpO2lmKGkmJih0PV8oZnVuY3Rpb24oKXtTP2suZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLGUpOihuPWMub251bmhhbmRsZWRyZWplY3Rpb24pP24oe3Byb21pc2U6ZSxyZWFzb246b30pOihyPWMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSxlLl9oPVN8fE4oZSk/MjoxKSxlLl9hPXZvaWQgMCxpJiZ0LmUpdGhyb3cgdC52fSl9LE49ZnVuY3Rpb24oZSl7cmV0dXJuIDEhPT1lLl9oJiYwPT09KGUuX2F8fGUuX2MpLmxlbmd0aH0sQj1mdW5jdGlvbihlKXt5LmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0O1M/ay5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEY9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCwodD10Ll93fHx0KS5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLFIodCwhMCkpfSxJPWZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcztpZighbi5fZCl7bi5fZD0hMCxuPW4uX3d8fG47dHJ5e2lmKG49PT1lKXRocm93IEUoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9UChlKSk/bShmdW5jdGlvbigpe3ZhciByPXtfdzpuLF9kOiExfTt0cnl7dC5jYWxsKGUscyhJLHIsMSkscyhGLHIsMSkpfWNhdGNoKGUpe0YuY2FsbChyLGUpfX0pOihuLl92PWUsbi5fcz0xLFIobiwhMSkpfWNhdGNoKGUpe0YuY2FsbCh7X3c6bixfZDohMX0sZSl9fX07Q3x8KGo9ZnVuY3Rpb24oZSl7ZCh0aGlzLGosIlByb21pc2UiLCJfaCIpLGgoZSksci5jYWxsKHRoaXMpO3RyeXtlKHMoSSx0aGlzLDEpLHMoRix0aGlzLDEpKX1jYXRjaChlKXtGLmNhbGwodGhpcyxlKX19LChyPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9KS5wcm90b3R5cGU9bigxMjgpKGoucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49VChnKHRoaXMsaikpO3JldHVybiBuLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLG4uZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxuLmRvbWFpbj1TP2suZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gobiksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKG4pLHRoaXMuX3MmJlIodGhpcywhMSksbi5wcm9taXNlfSxjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxpPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHI7dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPXMoSSxlLDEpLHRoaXMucmVqZWN0PXMoRixlLDEpfSxiLmY9VD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PWp8fGU9PT1hP25ldyBpKGUpOm8oZSl9KSxsKGwuRytsLlcrbC5GKiFDLHtQcm9taXNlOmp9KSxuKDUyKShqLCJQcm9taXNlIiksbigyMDYpKCJQcm9taXNlIiksYT1uKDEpLlByb21pc2UsbChsLlMrbC5GKiFDLCJQcm9taXNlIix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVQodGhpcyk7cmV0dXJuKDAsdC5yZWplY3QpKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqKHV8fCFDKSwiUHJvbWlzZSIse3Jlc29sdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHgodSYmdGhpcz09PWE/ajp0aGlzLGUpfX0pLGwobC5TK2wuRiohKEMmJm4oMjA3KShmdW5jdGlvbihlKXtqLmFsbChlKS5jYXRjaChBKX0pKSwiUHJvbWlzZSIse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49VCh0KSxyPW4ucmVzb2x2ZSxvPW4ucmVqZWN0LGk9XyhmdW5jdGlvbigpe3ZhciBuPVtdLGk9MCxhPTE7dihlLCExLGZ1bmN0aW9uKGUpe3ZhciB1PWkrKyxjPSExO24ucHVzaCh2b2lkIDApLGErKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtjfHwoYz0hMCxuW3VdPWUsLS1hfHxyKG4pKX0sbyl9KSwtLWF8fHIobil9KTtyZXR1cm4gaS5lJiZvKGkudiksbi5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1UKHQpLHI9bi5yZWplY3Qsbz1fKGZ1bmN0aW9uKCl7dihlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKG4ucmVzb2x2ZSxyKX0pfSk7cmV0dXJuIG8uZSYmcihvLnYpLG4ucHJvbWlzZX19KX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXZvaWQgMD09PW47c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHI/ZSgpOmUuY2FsbChuKTtjYXNlIDE6cmV0dXJuIHI/ZSh0WzBdKTplLmNhbGwobix0WzBdKTtjYXNlIDI6cmV0dXJuIHI/ZSh0WzBdLHRbMV0pOmUuY2FsbChuLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiByP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChuLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIHI/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwobix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShuLHQpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNSksbz1uKDIwMykuc2V0LGk9ci5NdXRhdGlvbk9ic2VydmVyfHxyLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYT1yLnByb2Nlc3MsdT1yLlByb21pc2UsYz0icHJvY2VzcyI9PW4oNTApKGEpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQsbixzPWZ1bmN0aW9uKCl7dmFyIHIsbztmb3IoYyYmKHI9YS5kb21haW4pJiZyLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2gocil7dGhyb3cgZT9uKCk6dD12b2lkIDAscn19dD12b2lkIDAsciYmci5lbnRlcigpfTtpZihjKW49ZnVuY3Rpb24oKXthLm5leHRUaWNrKHMpfTtlbHNlIGlmKCFpfHxyLm5hdmlnYXRvciYmci5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSlpZih1JiZ1LnJlc29sdmUpe3ZhciBmPXUucmVzb2x2ZSh2b2lkIDApO249ZnVuY3Rpb24oKXtmLnRoZW4ocyl9fWVsc2Ugbj1mdW5jdGlvbigpe28uY2FsbChyLHMpfTtlbHNle3ZhciBsPSEwLHA9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHMpLm9ic2VydmUocCx7Y2hhcmFjdGVyRGF0YTohMH0pLG49ZnVuY3Rpb24oKXtwLmRhdGE9bD0hbH19cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBvPXtmbjpyLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PW8pLGV8fChlPW8sbigpKSx0PW99fX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNSkubmF2aWdhdG9yO2UuZXhwb3J0cz1yJiZyLnVzZXJBZ2VudHx8IiJ9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyKSxvPW4oMSksaT1uKDUpLGE9bigyMDIpLHU9bigyMDUpO3Ioci5QK3IuUiwiUHJvbWlzZSIse2ZpbmFsbHk6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzLG8uUHJvbWlzZXx8aS5Qcm9taXNlKSxuPSJmdW5jdGlvbiI9PXR5cGVvZiBlO3JldHVybiB0aGlzLnRoZW4obj9mdW5jdGlvbihuKXtyZXR1cm4gdSh0LGUoKSkudGhlbihmdW5jdGlvbigpe3JldHVybiBufSl9OmUsbj9mdW5jdGlvbihuKXtyZXR1cm4gdSh0LGUoKSkudGhlbihmdW5jdGlvbigpe3Rocm93IG59KX06ZSl9fSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyKSxvPW4oMTI3KSxpPW4oMjA0KTtyKHIuUywiUHJvbWlzZSIse3RyeTpmdW5jdGlvbihlKXt2YXIgdD1vLmYodGhpcyksbj1pKGUpO3JldHVybihuLmU/dC5yZWplY3Q6dC5yZXNvbHZlKShuLnYpLHQucHJvbWlzZX19KX0sZnVuY3Rpb24oZSx0LG4pe24oMzU2KSxlLmV4cG9ydHM9bigxKS5PYmplY3Qua2V5c30sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLG89big0OSk7bigyMDgpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhyKGUpKX19KX0sZnVuY3Rpb24oZSx0LG4pe24oMzU4KTt2YXIgcj1uKDEpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5jcmVhdGUoZSx0KX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIpO3Ioci5TLCJPYmplY3QiLHtjcmVhdGU6big4Myl9KX0sZnVuY3Rpb24oZSx0LG4pe24oMzYwKTt2YXIgcj1uKDEpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByLmRlZmluZVByb3BlcnR5KGUsdCxuKX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIpO3Ioci5TK3IuRiohbigxNCksIk9iamVjdCIse2RlZmluZVByb3BlcnR5Om4oMTIpLmZ9KX0sZnVuY3Rpb24oZSx0LG4pe24oMzEpLG4oMzgpLGUuZXhwb3J0cz1uKDEyOSkuZigiaXRlcmF0b3IiKX0sZnVuY3Rpb24oZSx0LG4pe24oMTMwKSxuKDgyKSxuKDM2NSksbigzNjYpLGUuZXhwb3J0cz1uKDEpLlN5bWJvbH0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDkpLG89bigxMjMpLGk9big4MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXIoZSksbj1vLmY7aWYobilmb3IodmFyIGEsdT1uKGUpLGM9aS5mLHM9MDt1Lmxlbmd0aD5zOyljLmNhbGwoZSxhPXVbcysrXSkmJnQucHVzaChhKTtyZXR1cm4gdH19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM2KSxvPW4oMjE0KS5mLGk9e30udG9TdHJpbmcsYT0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdO2UuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBhJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2Z1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaChlKXtyZXR1cm4gYS5zbGljZSgpfX0oZSk6byhyKGUpKX19LGZ1bmN0aW9uKGUsdCxuKXtuKDEzMikoImFzeW5jSXRlcmF0b3IiKX0sZnVuY3Rpb24oZSx0LG4pe24oMTMyKSgib2JzZXJ2YWJsZSIpfSxmdW5jdGlvbihlLHQsbil7bigzNjgpLGUuZXhwb3J0cz1uKDEpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLG89bigxOTgpO24oMjA4KSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKHIoZSkpfX0pfSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPXtkZWZhdWx0Om4oMzcwKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LG4pe24oMzcxKSxlLmV4cG9ydHM9bigxKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIpO3Ioci5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjpuKDM3Mikuc2V0fSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEzKSxvPW4oMTcpLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFyKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTtlLmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24oZSx0LHIpe3RyeXsocj1uKDIyKShGdW5jdGlvbi5jYWxsLG4oMjE1KS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSkoZSxbXSksdD0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goZSl7dD0hMH1yZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gaShlLG4pLHQ/ZS5fX3Byb3RvX189bjpyKGUsbiksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSxmdW5jdGlvbihlLHQsbil7bigxMzApLGUuZXhwb3J0cz1uKDEpLlN5bWJvbC5mb3J9LGZ1bmN0aW9uKGUsdCxuKXtuKDgyKSxuKDMxKSxuKDM4KSxuKDM3NSksbigzNzkpLG4oMzgxKSxuKDM4MiksZS5leHBvcnRzPW4oMSkuU2V0fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjE3KSxvPW4oMTM2KTtlLmV4cG9ydHM9bigyMTgpKCJTZXQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApfX0se2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gci5kZWYobyh0aGlzLCJTZXQiKSxlPTA9PT1lPzA6ZSxlKX19LHIpfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMiksbz1uKDExNyksaT1uKDMwKSxhPW4oNzkpLHU9bigzNzcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuPTE9PWUsYz0yPT1lLHM9Mz09ZSxmPTQ9PWUsbD02PT1lLHA9NT09ZXx8bCxoPXR8fHU7cmV0dXJuIGZ1bmN0aW9uKHQsdSxkKXtmb3IodmFyIHYsZyx5PWkodCksbT1vKHkpLGI9cih1LGQsMyksXz1hKG0ubGVuZ3RoKSx3PTAseD1uP2godCxfKTpjP2godCwwKTp2b2lkIDA7Xz53O3crKylpZigocHx8dyBpbiBtKSYmKGc9Yih2PW1bd10sdyx5KSxlKSlpZihuKXhbd109ZztlbHNlIGlmKGcpc3dpdGNoKGUpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIHY7Y2FzZSA2OnJldHVybiB3O2Nhc2UgMjp4LnB1c2godil9ZWxzZSBpZihmKXJldHVybiExO3JldHVybiBsPy0xOnN8fGY/Zjp4fX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM3OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyhyKGUpKSh0KX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEzKSxvPW4oMjEzKSxpPW4oNikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG8oZSkmJigiZnVuY3Rpb24iIT10eXBlb2YodD1lLmNvbnN0cnVjdG9yKXx8dCE9PUFycmF5JiYhbyh0LnByb3RvdHlwZSl8fCh0PXZvaWQgMCkscih0KSYmbnVsbD09PSh0PXRbaV0pJiYodD12b2lkIDApKSx2b2lkIDA9PT10P0FycmF5OnR9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyKTtyKHIuUCtyLlIsIlNldCIse3RvSlNPTjpuKDIxOSkoIlNldCIpfSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtyZXR1cm4gcihlLCExLG4ucHVzaCxuLHQpLG59fSxmdW5jdGlvbihlLHQsbil7bigyMjApKCJTZXQiKX0sZnVuY3Rpb24oZSx0LG4pe24oMjIxKSgiU2V0Iil9LGZ1bmN0aW9uKGUsdCxuKXtuKDgyKSxuKDMxKSxuKDM4KSxuKDM4NCksbigzODUpLG4oMzg2KSxuKDM4NyksZS5leHBvcnRzPW4oMSkuTWFwfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjE3KSxvPW4oMTM2KTtlLmV4cG9ydHM9bigyMTgpKCJNYXAiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApfX0se2dldDpmdW5jdGlvbihlKXt2YXIgdD1yLmdldEVudHJ5KG8odGhpcywiTWFwIiksZSk7cmV0dXJuIHQmJnQudn0sc2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuZGVmKG8odGhpcywiTWFwIiksMD09PWU/MDplLHQpfX0sciwhMCl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIpO3Ioci5QK3IuUiwiTWFwIix7dG9KU09OOm4oMjE5KSgiTWFwIil9KX0sZnVuY3Rpb24oZSx0LG4pe24oMjIwKSgiTWFwIil9LGZ1bmN0aW9uKGUsdCxuKXtuKDIyMSkoIk1hcCIpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyhmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZXhwb3J0cyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9e21vZGlmaWVyczp7cmVzZXQ6WzAsMF0sYm9sZDpbMSwyMl0sZGltOlsyLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10saGlkZGVuOls4LDI4XSxzdHJpa2V0aHJvdWdoOls5LDI5XX0sY29sb3JzOntibGFjazpbMzAsMzldLHJlZDpbMzEsMzldLGdyZWVuOlszMiwzOV0seWVsbG93OlszMywzOV0sYmx1ZTpbMzQsMzldLG1hZ2VudGE6WzM1LDM5XSxjeWFuOlszNiwzOV0sd2hpdGU6WzM3LDM5XSxncmF5Ols5MCwzOV19LGJnQ29sb3JzOntiZ0JsYWNrOls0MCw0OV0sYmdSZWQ6WzQxLDQ5XSxiZ0dyZWVuOls0Miw0OV0sYmdZZWxsb3c6WzQzLDQ5XSxiZ0JsdWU6WzQ0LDQ5XSxiZ01hZ2VudGE6WzQ1LDQ5XSxiZ0N5YW46WzQ2LDQ5XSxiZ1doaXRlOls0Nyw0OV19fTtyZXR1cm4gZS5jb2xvcnMuZ3JleT1lLmNvbG9ycy5ncmF5LE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZVt0XTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPW5bdF07ZVt0XT1uW3RdPXtvcGVuOiIbWyIrclswXSsibSIsY2xvc2U6IhtbIityWzFdKyJtIn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITF9KX0pLGV9fSl9KS5jYWxsKHRoaXMsbigxOCkoZSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTM3KSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/ZS5yZXBsYWNlKHIsIiIpOmV9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTM3KSxvPW5ldyBSZWdFeHAocigpLnNvdXJjZSk7ZS5leHBvcnRzPW8udGVzdC5iaW5kKG8pfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyhmdW5jdGlvbih0KXt2YXIgbj10LmFyZ3Yscj1uLmluZGV4T2YoIi0tIiksbz1mdW5jdGlvbihlKXtlPSItLSIrZTt2YXIgdD1uLmluZGV4T2YoZSk7cmV0dXJuLTEhPT10JiYoLTE9PT1yfHx0PHIpfTtlLmV4cG9ydHM9IkZPUkNFX0NPTE9SImluIHQuZW52fHwhKG8oIm5vLWNvbG9yIil8fG8oIm5vLWNvbG9ycyIpfHxvKCJjb2xvcj1mYWxzZSIpKSYmKCEhKG8oImNvbG9yIil8fG8oImNvbG9ycyIpfHxvKCJjb2xvcj10cnVlIil8fG8oImNvbG9yPWFsd2F5cyIpKXx8ISh0LnN0ZG91dCYmIXQuc3Rkb3V0LmlzVFRZKSYmKCJ3aW4zMiI9PT10LnBsYXRmb3JtfHwiQ09MT1JURVJNImluIHQuZW52fHwiZHVtYiIhPT10LmVudi5URVJNJiYhIS9ec2NyZWVufF54dGVybXxednQxMDB8Y29sb3J8YW5zaXxjeWd3aW58bGludXgvaS50ZXN0KHQuZW52LlRFUk0pKSl9KS5jYWxsKHRoaXMsbig0KSl9LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9e2RlZmF1bHQ6bigzOTMpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQsbil7bigxMzApLGUuZXhwb3J0cz1uKDEpLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9YyhuKDE5MykpLG89YyhuKDg1KSksaT1jKG4oMTMzKSksYT1jKG4oMTM0KSksdT1jKG4oMTM1KSk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9KDAsYyhuKDQwKSkuZGVmYXVsdCkoImplc3QuYXN5bW1ldHJpY01hdGNoZXIiKSxmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4oMCxpLmRlZmF1bHQpKHRoaXMsdCksKDAsYS5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KSh0KSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4oMCx1LmRlZmF1bHQpKHQsZSksdH0oQXJyYXkpLGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybigwLGkuZGVmYXVsdCkodGhpcyx0KSwoMCxhLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKHQpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybigwLHUuZGVmYXVsdCkodCxlKSx0fShPYmplY3QpO2UuZXhwb3J0cz17cHJpbnQ6ZnVuY3Rpb24oZSx0LG4sbyxpKXt2YXIgYT1lLnRvU3RyaW5nKCk7aWYoIkFycmF5Q29udGFpbmluZyI9PT1hKXt2YXIgdT1mLmZyb20oZS5zYW1wbGUpO3JldHVybiIgIj09PW8uc3BhY2luZz9hKyIgIit0KHUpOnQodSl9aWYoIk9iamVjdENvbnRhaW5pbmciPT09YSl7dmFyIGM9KDAsci5kZWZhdWx0KShuZXcgbCxlLnNhbXBsZSk7cmV0dXJuIiAiPT09by5zcGFjaW5nP2ErIiAiK3QoYyk6dChjKX1yZXR1cm4iU3RyaW5nTWF0Y2hpbmciPT09YT9hKyIgIit0KGUuc2FtcGxlKToiU3RyaW5nQ29udGFpbmluZyI9PT1hP2ErIiAiK3QoZS5zYW1wbGUpOmUudG9Bc3ltbWV0cmljTWF0Y2hlcigpfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLiQkdHlwZW9mPT09c319fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTM3KTtlLmV4cG9ydHM9e3ByaW50OmZ1bmN0aW9uKGUsdCxvLGksYSl7cmV0dXJuIHQoKHU9ZSxjPW4oMjIzKSx1LnJlcGxhY2UocigpLGZ1bmN0aW9uKGUsdCxuKXtzd2l0Y2goZSl7Y2FzZSBjLnJlZC5jbG9zZTpjYXNlIGMuZ3JlZW4uY2xvc2U6Y2FzZSBjLnJlc2V0Lm9wZW46Y2FzZSBjLnJlc2V0LmNsb3NlOnJldHVybiI8Lz4iO2Nhc2UgYy5yZWQub3BlbjpyZXR1cm4iPHJlZD4iO2Nhc2UgYy5ncmVlbi5vcGVuOnJldHVybiI8Z3JlZW4+IjtjYXNlIGMuZGltLm9wZW46cmV0dXJuIjxkaW0+IjtjYXNlIGMuYm9sZC5vcGVuOnJldHVybiI8Ym9sZD4iO2RlZmF1bHQ6cmV0dXJuIiJ9fSkpKTt2YXIgdSxjfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChyKCkpfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHIsbz1uKDkpLGk9KHI9bykmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9O3ZhciBhPW4oMTQwKSx1PS8oSFRNTFx3Kj9FbGVtZW50KXxUZXh0fENvbW1lbnQvLGM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJigxPT09ZS5ub2RlVHlwZXx8Mz09PWUubm9kZVR5cGV8fDg9PT1lLm5vZGVUeXBlKSYmdm9pZCAwIT09ZS5jb25zdHJ1Y3RvciYmdm9pZCAwIT09ZS5jb25zdHJ1Y3Rvci5uYW1lJiZ1LnRlc3QoZS5jb25zdHJ1Y3Rvci5uYW1lKX07ZS5leHBvcnRzPXtwcmludDpmdW5jdGlvbihlLHQsbixyLG8pe2lmKDM9PT1lLm5vZGVUeXBlKXJldHVybiBlLmRhdGEuc3BsaXQoIlxuIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW1MZWZ0KCl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RofSkuam9pbigiICIpO2lmKDg9PT1lLm5vZGVUeXBlKXJldHVybiBvLmNvbW1lbnQub3BlbisiXHgzYyEtLSAiK2UuZGF0YS50cmltKCkrIiAtLVx4M2UiK28uY29tbWVudC5jbG9zZTt2YXIgdT1vLnRhZy5vcGVuKyI8IixjPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3UrPWMrby50YWcuY2xvc2U7dmFyIHM9ZS5hdHRyaWJ1dGVzJiZlLmF0dHJpYnV0ZXMubGVuZ3RoO3MmJih1Kz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gZS5zb3J0KCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByLnNwYWNpbmcrdChuLnByb3Aub3BlbitlLm5hbWUrbi5wcm9wLmNsb3NlKyI9Iikrbi52YWx1ZS5vcGVuKyciJytlLnZhbHVlKyciJytuLnZhbHVlLmNsb3NlfSkuam9pbigiIil9KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuYXR0cmlidXRlcyksbixvLHIpKTt2YXIgZj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLmNoaWxkTm9kZXMpOyFmLmxlbmd0aCYmZS50ZXh0Q29udGVudCYmZi5wdXNoKGUudGV4dENvbnRlbnQpO3ZhciBsPXMmJiFyLm1pbjtpZihmLmxlbmd0aCl7dmFyIHA9ZnVuY3Rpb24oZSx0LG4scixvKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKGUpKT90KGUsdCxuLHIsbyk6InN0cmluZyI9PXR5cGVvZiBlP3IuY29udGVudC5vcGVuK2EoZSkrci5jb250ZW50LmNsb3NlOnQoZSl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpLmxlbmd0aH0pLmpvaW4oby5lZGdlU3BhY2luZyl9KGYsdCxuLG8scik7dSs9by50YWcub3BlbisobD8iXG4iOiIiKSsiPiIrby50YWcuY2xvc2Urci5lZGdlU3BhY2luZytuKHApK3IuZWRnZVNwYWNpbmcrby50YWcub3BlbisiPC8iK2MrIj4iK28udGFnLmNsb3NlfWVsc2UgdSs9by50YWcub3BlbisobD8iXG4iOiIgIikrIi8+IitvLnRhZy5jbG9zZTtyZXR1cm4gdX0sdGVzdDpjfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9W24oMzk4KSxuKDQwNSksbig0MDYpLG4oNDA3KSxuKDQwOCksbig0MDkpXX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDQxKTtlLmV4cG9ydHM9e3ByaW50OmZ1bmN0aW9uKGUsdCxuLG8saSl7cmV0dXJuIHIoZSx0LG4sbyxpLCJMaXN0IiwhMSl9LHRlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWVbIkBAX19JTU1VVEFCTEVfTElTVF9fQEAiXSl9fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIHI9aShuKDQwMCkpLG89aShuKDIyNCkpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7aWYoKDAsci5kZWZhdWx0KShPYmplY3QoZSkpKXJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPVtdLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9KDAsby5kZWZhdWx0KShlKTshKHI9KHU9Yy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKHUudmFsdWUpLCF0fHxuLmxlbmd0aCE9PXQpO3I9ITApO31jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXshciYmYy5yZXR1cm4mJmMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiBufShlLHQpO3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9e2RlZmF1bHQ6big0MDEpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQsbil7bigzOCksbigzMSksZS5leHBvcnRzPW4oNDAyKX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oODQpLG89big2KSgiaXRlcmF0b3IiKSxpPW4oMzcpO2UuZXhwb3J0cz1uKDEpLmlzSXRlcmFibGU9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGUpO3JldHVybiB2b2lkIDAhPT10W29dfHwiQEBpdGVyYXRvciJpbiB0fHxpLmhhc093blByb3BlcnR5KHIodCkpfX0sZnVuY3Rpb24oZSx0LG4pe24oMzgpLG4oMzEpLGUuZXhwb3J0cz1uKDQwNCl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE3KSxvPW4oMTI2KTtlLmV4cG9ydHM9bigxKS5nZXRJdGVyYXRvcj1mdW5jdGlvbihlKXt2YXIgdD1vKGUpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO3JldHVybiByKHQuY2FsbChlKSl9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDEpO2UuZXhwb3J0cz17cHJpbnQ6ZnVuY3Rpb24oZSx0LG4sbyxpKXtyZXR1cm4gcihlLHQsbixvLGksIlNldCIsITEpfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlWyJAQF9fSU1NVVRBQkxFX1NFVF9fQEAiXXx8ZVsiQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCJdKX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDEpO2UuZXhwb3J0cz17cHJpbnQ6ZnVuY3Rpb24oZSx0LG4sbyxpKXtyZXR1cm4gcihlLHQsbixvLGksIk1hcCIsITApfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlWyJAQF9fSU1NVVRBQkxFX01BUF9fQEAiXXx8ZVsiQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCJdKX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDEpO2UuZXhwb3J0cz17cHJpbnQ6ZnVuY3Rpb24oZSx0LG4sbyxpKXtyZXR1cm4gcihlLHQsbixvLGksIlN0YWNrIiwhMSl9LHRlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWVbIkBAX19JTU1VVEFCTEVfU1RBQ0tfX0BAIl0pfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big0MSk7ZS5leHBvcnRzPXtwcmludDpmdW5jdGlvbihlLHQsbixvLGkpe3JldHVybiByKGUsdCxuLG8saSwiT3JkZXJlZFNldCIsITEpfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlWyJAQF9fSU1NVVRBQkxFX1NFVF9fQEAiXSYmZVsiQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCJdfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big0MSk7ZS5leHBvcnRzPXtwcmludDpmdW5jdGlvbihlLHQsbixvLGkpe3JldHVybiByKGUsdCxuLG8saSwiT3JkZXJlZE1hcCIsITApfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlWyJAQF9fSU1NVVRBQkxFX01BUF9fQEAiXSYmZVsiQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCJdfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9YShuKDM5KSksbz1hKG4oOSkpLGk9YShuKDQwKSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHU9bigxNDApLGM9KDAsaS5kZWZhdWx0KSgicmVhY3QuZWxlbWVudCIpO2UuZXhwb3J0cz17cHJpbnQ6ZnVuY3Rpb24oZSx0LG4saSxhKXt2YXIgYz1hLnRhZy5vcGVuKyI8IixzPXZvaWQgMDtjKz0ocz0ic3RyaW5nIj09dHlwZW9mIGUudHlwZT9lLnR5cGU6ImZ1bmN0aW9uIj09dHlwZW9mIGUudHlwZSYmKGUudHlwZS5kaXNwbGF5TmFtZXx8ZS50eXBlLm5hbWUpfHwiVW5rbm93biIpK2EudGFnLmNsb3NlLGMrPWZ1bmN0aW9uKGUsdCxuLG8saSl7cmV0dXJuKDAsci5kZWZhdWx0KShlKS5zb3J0KCkubWFwKGZ1bmN0aW9uKHIpe2lmKCJjaGlsZHJlbiI9PT1yKXJldHVybiIiO3ZhciBhPWVbcl0sdT10KGEpO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKHU9LTEhPT11LmluZGV4T2YoIlxuIik/InsiK2kuZWRnZVNwYWNpbmcrbihuKHUpK2kuZWRnZVNwYWNpbmcrIn0iKToieyIrdSsifSIpLGkuc3BhY2luZytuKG8ucHJvcC5vcGVuK3Irby5wcm9wLmNsb3NlKyI9Iikrby52YWx1ZS5vcGVuK3Urby52YWx1ZS5jbG9zZX0pLmpvaW4oIiIpfShlLnByb3BzLHQsbixhLGkpO3ZhciBmPWUucHJvcHMuY2hpbGRyZW4sbD0hISgwLHIuZGVmYXVsdCkoZS5wcm9wcykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJjaGlsZHJlbiIhPT1lfSkubGVuZ3RoJiYhaS5taW47aWYoZil7dmFyIHA9W107IWZ1bmN0aW9uIGUodCxuKXtBcnJheS5pc0FycmF5KHQpP3QuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZSh0LG4pfSk6bnVsbCE9dCYmITEhPT10JiZuKHQpfShmLGZ1bmN0aW9uKGUpe3AucHVzaChlKX0pO3ZhciBoPWZ1bmN0aW9uKGUsdCxuLHIsaSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsby5kZWZhdWx0KShlKSk/dChlLHQsbixyLGkpOiJzdHJpbmciPT10eXBlb2YgZT9yLmNvbnRlbnQub3Blbit1KGUpK3IuY29udGVudC5jbG9zZTp0KGUpfSkuam9pbihpLmVkZ2VTcGFjaW5nKX0ocCx0LG4sYSxpKTtjKz1hLnRhZy5vcGVuKyhsPyJcbiI6IiIpKyI+IithLnRhZy5jbG9zZStpLmVkZ2VTcGFjaW5nK24oaCkraS5lZGdlU3BhY2luZythLnRhZy5vcGVuKyI8LyIrcysiPiIrYS50YWcuY2xvc2V9ZWxzZSBjKz1hLnRhZy5vcGVuKyhsPyJcbiI6IiAiKSsiLz4iK2EudGFnLmNsb3NlO3JldHVybiBjfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLiQkdHlwZW9mPT09Y319fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPWkobigzOSkpLG89aShuKDQwKSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9bigxNDApLHU9KDAsby5kZWZhdWx0KSgicmVhY3QudGVzdC5qc29uIik7ZnVuY3Rpb24gYyhlLHQsbixvLGkpe2lmKCJudW1iZXIiPT10eXBlb2YgZSlyZXR1cm4gdChlKTtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIG8uY29udGVudC5vcGVuK2EoZSkrby5jb250ZW50LmNsb3NlO3ZhciB1PSExLHM9by50YWcub3BlbisiPCIrZS50eXBlK28udGFnLmNsb3NlO2lmKGUucHJvcHMmJih1PSEhKDAsci5kZWZhdWx0KShlLnByb3BzKS5sZW5ndGgmJiFpLm1pbixzKz1mdW5jdGlvbihlLHQsbixvLGkpe3JldHVybigwLHIuZGVmYXVsdCkoZSkuc29ydCgpLm1hcChmdW5jdGlvbihyKXt2YXIgYT1lW3JdLHU9dChhKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJih1PS0xIT09dS5pbmRleE9mKCJcbiIpPyJ7IitpLmVkZ2VTcGFjaW5nK24obih1KStpLmVkZ2VTcGFjaW5nKyJ9Iik6InsiK3UrIn0iKSxpLnNwYWNpbmcrbihvLnByb3Aub3BlbityK28ucHJvcC5jbG9zZSsiPSIpK28udmFsdWUub3Blbit1K28udmFsdWUuY2xvc2V9KS5qb2luKCIiKX0oZS5wcm9wcyx0LG4sbyxpKSksZS5jaGlsZHJlbil7dmFyIGY9ZnVuY3Rpb24oZSx0LG4scixvKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGMoZSx0LG4scixvKX0pLmpvaW4oby5lZGdlU3BhY2luZyl9KGUuY2hpbGRyZW4sdCxuLG8saSk7cys9by50YWcub3BlbisodT8iXG4iOiIiKSsiPiIrby50YWcuY2xvc2UraS5lZGdlU3BhY2luZytuKGYpK2kuZWRnZVNwYWNpbmcrby50YWcub3BlbisiPC8iK2UudHlwZSsiPiIrby50YWcuY2xvc2V9ZWxzZSBzKz1vLnRhZy5vcGVuKyh1PyJcbiI6IiAiKSsiLz4iK28udGFnLmNsb3NlO3JldHVybiBzfWUuZXhwb3J0cz17cHJpbnQ6ZnVuY3Rpb24oZSx0LG4scixvKXtyZXR1cm4gYyhlLHQsbixvLHIpfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLiQkdHlwZW9mPT09dX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPXMobigyMjUpKSxvPXMobig0MTYpKSxpPXMobigzOSkpLGE9cyhuKDIyNCkpLHU9cyhuKDkpKSxjPXMobigyMTEpKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgZj1uKDQxOSksbD1uKDIyNykuZXNjYXBlU3RyRm9yUmVnZXgscD1uKDU0KSxoPXAuRVhQRUNURURfQ09MT1IsZD1wLlJFQ0VJVkVEX0NPTE9SLHY9cC5lbnN1cmVOb0V4cGVjdGVkLGc9cC5lbnN1cmVOdW1iZXJzLHk9cC5nZXRUeXBlLG09cC5tYXRjaGVySGludCxiPXAucHJpbnRSZWNlaXZlZCxfPXAucHJpbnRFeHBlY3RlZCx3PXAucHJpbnRXaXRoVHlwZSx4PW4oNDIxKSxFPXguZ2V0T2JqZWN0U3Vic2V0LGs9eC5nZXRQYXRoLE09eC5oYXNPd25Qcm9wZXJ0eSxPPW4oNTgpLmVxdWFscyxqPWMuZGVmYXVsdCxTPWZ1bmN0aW9uKGUpe3JldHVybiEobnVsbD09ZXx8IWVbal0pfSxBPWZ1bmN0aW9uIGUodCxuKXtpZigib2JqZWN0Ij09PSh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOigwLHUuZGVmYXVsdCkodCkpJiYib2JqZWN0Ij09PSh2b2lkIDA9PT1uPyJ1bmRlZmluZWQiOigwLHUuZGVmYXVsdCkobikpJiYhQXJyYXkuaXNBcnJheSh0KSYmIUFycmF5LmlzQXJyYXkobikmJlModCkmJlMobikpe2lmKHQuY29uc3RydWN0b3IhPT1uLmNvbnN0cnVjdG9yKXJldHVybiExO3ZhciByPW5bal0oKSxvPSEwLGk9ITEsYz12b2lkIDA7dHJ5e2Zvcih2YXIgcyxmPSgwLGEuZGVmYXVsdCkodCk7IShvPShzPWYubmV4dCgpKS5kb25lKTtvPSEwKXt2YXIgbD1zLnZhbHVlLHA9ci5uZXh0KCk7aWYocC5kb25lfHwhTyhsLHAudmFsdWUsW2VdKSlyZXR1cm4hMX19Y2F0Y2goZSl7aT0hMCxjPWV9ZmluYWxseXt0cnl7IW8mJmYucmV0dXJuJiZmLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBjfX1yZXR1cm4hIXIubmV4dCgpLmRvbmV9fSxUPWZ1bmN0aW9uKGUpe3JldHVybiEobnVsbD09PWV8fCJvYmplY3QiIT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsdS5kZWZhdWx0KShlKSl8fGUgaW5zdGFuY2VvZiBBcnJheXx8ZSBpbnN0YW5jZW9mIERhdGUpfSxDPWZ1bmN0aW9uIGUodCxuKXtpZihUKHQpJiZUKG4pKXJldHVybigwLGkuZGVmYXVsdCkobikuZXZlcnkoZnVuY3Rpb24ocil7cmV0dXJuIE0odCxyKSYmTyh0W3JdLG5bcl0sW0EsZV0pfSl9LFA9e3RvQmU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9ZT09PXQ7cmV0dXJue2FjdHVhbDplLGV4cGVjdGVkOnQsbWVzc2FnZTpyP2Z1bmN0aW9uKCl7cmV0dXJuIG0oIi5ub3QudG9CZSIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gbm90IGJlICh1c2luZyA9PT0pOlxuICAiK18odCkrIlxuUmVjZWl2ZWQ6XG4gICIrYihlKX06ZnVuY3Rpb24oKXt2YXIgcj1mKHQsZSx7ZXhwYW5kOm4uZXhwYW5kfSk7cmV0dXJuIG0oIi50b0JlIikrIlxuXG5FeHBlY3RlZCB2YWx1ZSB0byBiZSAodXNpbmcgPT09KTpcbiAgIitfKHQpKyJcblJlY2VpdmVkOlxuICAiK2IoZSkrKHI/IlxuXG5EaWZmZXJlbmNlOlxuXG4iK3I6IiIpfSxuYW1lOiJ0b0JlIixwYXNzOnJ9fSx0b0JlQ2xvc2VUbzpmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToyO2coZSx0LCIudG9CZUNsb3NlVG8iKTt2YXIgcj1NYXRoLmFicyh0LWUpPE1hdGgucG93KDEwLC1uKS8yLG89cj9mdW5jdGlvbigpe3JldHVybiBtKCIubm90LnRvQmVDbG9zZVRvIiwicmVjZWl2ZWQiLCJleHBlY3RlZCwgcHJlY2lzaW9uIikrIlxuXG5FeHBlY3RlZCB2YWx1ZSBub3QgdG8gYmUgY2xvc2UgdG8gKHdpdGggIitfKG4pKyItZGlnaXQgcHJlY2lzaW9uKTpcbiAgIitfKHQpKyJcblJlY2VpdmVkOlxuICAiK2IoZSl9OmZ1bmN0aW9uKCl7cmV0dXJuIG0oIi50b0JlQ2xvc2VUbyIsInJlY2VpdmVkIiwiZXhwZWN0ZWQsIHByZWNpc2lvbiIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gYmUgY2xvc2UgdG8gKHdpdGggIitfKG4pKyItZGlnaXQgcHJlY2lzaW9uKTpcbiAgIitfKHQpKyJcblJlY2VpdmVkOlxuICAiK2IoZSl9O3JldHVybnttZXNzYWdlOm8scGFzczpyfX0sdG9CZURlZmluZWQ6ZnVuY3Rpb24oZSx0KXt2KHQsIi50b0JlRGVmaW5lZCIpO3ZhciBuPXZvaWQgMCE9PWU7cmV0dXJue21lc3NhZ2U6bj9mdW5jdGlvbigpe3JldHVybiBtKCIubm90LnRvQmVEZWZpbmVkIiwicmVjZWl2ZWQiLCIiKSsiXG5cbkV4cGVjdGVkIHZhbHVlIG5vdCB0byBiZSBkZWZpbmVkLCBpbnN0ZWFkIHJlY2VpdmVkXG4gICIrYihlKX06ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLnRvQmVEZWZpbmVkIiwicmVjZWl2ZWQiLCIiKSsiXG5cbkV4cGVjdGVkIHZhbHVlIHRvIGJlIGRlZmluZWQsIGluc3RlYWQgcmVjZWl2ZWRcbiAgIitiKGUpfSxwYXNzOm59fSx0b0JlRmFsc3k6ZnVuY3Rpb24oZSx0KXt2KHQsIi50b0JlRmFsc3kiKTt2YXIgbj0hZTtyZXR1cm57bWVzc2FnZTpuP2Z1bmN0aW9uKCl7cmV0dXJuIG0oIi5ub3QudG9CZUZhbHN5IiwicmVjZWl2ZWQiLCIiKSsiXG5cbkV4cGVjdGVkIHZhbHVlIG5vdCB0byBiZSBmYWxzeSwgaW5zdGVhZCByZWNlaXZlZFxuICAiK2IoZSl9OmZ1bmN0aW9uKCl7cmV0dXJuIG0oIi50b0JlRmFsc3kiLCJyZWNlaXZlZCIsIiIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gYmUgZmFsc3ksIGluc3RlYWQgcmVjZWl2ZWRcbiAgIitiKGUpfSxwYXNzOm59fSx0b0JlR3JlYXRlclRoYW46ZnVuY3Rpb24oZSx0KXtnKGUsdCwiLnRvQmVHcmVhdGVyVGhhbiIpO3ZhciBuPWU+dDtyZXR1cm57bWVzc2FnZTpuP2Z1bmN0aW9uKCl7cmV0dXJuIG0oIi5ub3QudG9CZUdyZWF0ZXJUaGFuIikrIlxuXG5FeHBlY3RlZCB2YWx1ZSBub3QgdG8gYmUgZ3JlYXRlciB0aGFuOlxuICAiK18odCkrIlxuUmVjZWl2ZWQ6XG4gICIrYihlKX06ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLnRvQmVHcmVhdGVyVGhhbiIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gYmUgZ3JlYXRlciB0aGFuOlxuICAiK18odCkrIlxuUmVjZWl2ZWQ6XG4gICIrYihlKX0scGFzczpufX0sdG9CZUdyZWF0ZXJUaGFuT3JFcXVhbDpmdW5jdGlvbihlLHQpe2coZSx0LCIudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIpO3ZhciBuPWU+PXQ7cmV0dXJue21lc3NhZ2U6bj9mdW5jdGlvbigpe3JldHVybiBtKCIubm90LnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiKSsiXG5cbkV4cGVjdGVkIHZhbHVlIG5vdCB0byBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWw6XG4gICIrXyh0KSsiXG5SZWNlaXZlZDpcbiAgIitiKGUpfTpmdW5jdGlvbigpe3JldHVybiBtKCIudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsOlxuICAiK18odCkrIlxuUmVjZWl2ZWQ6XG4gICIrYihlKX0scGFzczpufX0sdG9CZUluc3RhbmNlT2Y6ZnVuY3Rpb24oZSx0KXt2YXIgbj15KHQpO2lmKCJmdW5jdGlvbiIhPT1uKXRocm93IG5ldyBFcnJvcihtKCJbLm5vdF0udG9CZUluc3RhbmNlT2YiLCJ2YWx1ZSIsImNvbnN0cnVjdG9yIikrIlxuXG5FeHBlY3RlZCBjb25zdHJ1Y3RvciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkIGdvdDpcbiAgIitfKG4pKTt2YXIgcj1lIGluc3RhbmNlb2YgdDtyZXR1cm57bWVzc2FnZTpyP2Z1bmN0aW9uKCl7cmV0dXJuIG0oIi5ub3QudG9CZUluc3RhbmNlT2YiLCJ2YWx1ZSIsImNvbnN0cnVjdG9yIikrIlxuXG5FeHBlY3RlZCB2YWx1ZSBub3QgdG8gYmUgYW4gaW5zdGFuY2Ugb2Y6XG4gICIrXyh0Lm5hbWV8fHQpKyJcblJlY2VpdmVkOlxuICAiK2IoZSkrIlxuIn06ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLnRvQmVJbnN0YW5jZU9mIiwidmFsdWUiLCJjb25zdHJ1Y3RvciIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gYmUgYW4gaW5zdGFuY2Ugb2Y6XG4gICIrXyh0Lm5hbWV8fHQpKyJcblJlY2VpdmVkOlxuICAiK2IoZSkrIlxuQ29uc3RydWN0b3I6XG4gICIrYihlLmNvbnN0cnVjdG9yJiZlLmNvbnN0cnVjdG9yLm5hbWUpfSxwYXNzOnJ9fSx0b0JlTGVzc1RoYW46ZnVuY3Rpb24oZSx0KXtnKGUsdCwiLnRvQmVMZXNzVGhhbiIpO3ZhciBuPWU8dDtyZXR1cm57bWVzc2FnZTpuP2Z1bmN0aW9uKCl7cmV0dXJuIG0oIi5ub3QudG9CZUxlc3NUaGFuIikrIlxuXG5FeHBlY3RlZCB2YWx1ZSBub3QgdG8gYmUgbGVzcyB0aGFuOlxuICAiK18odCkrIlxuUmVjZWl2ZWQ6XG4gICIrYihlKX06ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLnRvQmVMZXNzVGhhbiIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gYmUgbGVzcyB0aGFuOlxuICAiK18odCkrIlxuUmVjZWl2ZWQ6XG4gICIrYihlKX0scGFzczpufX0sdG9CZUxlc3NUaGFuT3JFcXVhbDpmdW5jdGlvbihlLHQpe2coZSx0LCIudG9CZUxlc3NUaGFuT3JFcXVhbCIpO3ZhciBuPWU8PXQ7cmV0dXJue21lc3NhZ2U6bj9mdW5jdGlvbigpe3JldHVybiBtKCIubm90LnRvQmVMZXNzVGhhbk9yRXF1YWwiKSsiXG5cbkV4cGVjdGVkIHZhbHVlIG5vdCB0byBiZSBsZXNzIHRoYW4gb3IgZXF1YWw6XG4gICIrXyh0KSsiXG5SZWNlaXZlZDpcbiAgIitiKGUpfTpmdW5jdGlvbigpe3JldHVybiBtKCIudG9CZUxlc3NUaGFuT3JFcXVhbCIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gYmUgbGVzcyB0aGFuIG9yIGVxdWFsOlxuICAiK18odCkrIlxuUmVjZWl2ZWQ6XG4gICIrYihlKX0scGFzczpufX0sdG9CZU5hTjpmdW5jdGlvbihlLHQpe3YodCwiLnRvQmVOYU4iKTt2YXIgbj0oMCxvLmRlZmF1bHQpKGUpO3JldHVybnttZXNzYWdlOm4/ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLm5vdC50b0JlTmFOIiwicmVjZWl2ZWQiLCIiKSsiXG5cbkV4cGVjdGVkIHZhbHVlIG5vdCB0byBiZSBOYU4sIGluc3RlYWQgcmVjZWl2ZWRcbiAgIitiKGUpfTpmdW5jdGlvbigpe3JldHVybiBtKCIudG9CZU5hTiIsInJlY2VpdmVkIiwiIikrIlxuXG5FeHBlY3RlZCB2YWx1ZSB0byBiZSBOYU4sIGluc3RlYWQgcmVjZWl2ZWRcbiAgIitiKGUpfSxwYXNzOm59fSx0b0JlTnVsbDpmdW5jdGlvbihlLHQpe3YodCwiLnRvQmVOdWxsIik7dmFyIG49bnVsbD09PWU7cmV0dXJue21lc3NhZ2U6bj9mdW5jdGlvbigpe3JldHVybiBtKCIubm90LnRvQmVOdWxsIiwicmVjZWl2ZWQiLCIiKSsiXG5cbkV4cGVjdGVkIHZhbHVlIG5vdCB0byBiZSBudWxsLCBpbnN0ZWFkIHJlY2VpdmVkXG4gICIrYihlKX06ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLnRvQmVOdWxsIiwicmVjZWl2ZWQiLCIiKSsiXG5cbkV4cGVjdGVkIHZhbHVlIHRvIGJlIG51bGwsIGluc3RlYWQgcmVjZWl2ZWRcbiAgIitiKGUpfSxwYXNzOm59fSx0b0JlVHJ1dGh5OmZ1bmN0aW9uKGUsdCl7dih0LCIudG9CZVRydXRoeSIpO3ZhciBuPSEhZTtyZXR1cm57bWVzc2FnZTpuP2Z1bmN0aW9uKCl7cmV0dXJuIG0oIi5ub3QudG9CZVRydXRoeSIsInJlY2VpdmVkIiwiIikrIlxuXG5FeHBlY3RlZCB2YWx1ZSBub3QgdG8gYmUgdHJ1dGh5LCBpbnN0ZWFkIHJlY2VpdmVkXG4gICIrYihlKX06ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLnRvQmVUcnV0aHkiLCJyZWNlaXZlZCIsIiIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gYmUgdHJ1dGh5LCBpbnN0ZWFkIHJlY2VpdmVkXG4gICIrYihlKX0scGFzczpufX0sdG9CZVVuZGVmaW5lZDpmdW5jdGlvbihlLHQpe3YodCwiLnRvQmVVbmRlZmluZWQiKTt2YXIgbj12b2lkIDA9PT1lO3JldHVybnttZXNzYWdlOm4/ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLm5vdC50b0JlVW5kZWZpbmVkIiwicmVjZWl2ZWQiLCIiKSsiXG5cbkV4cGVjdGVkIHZhbHVlIG5vdCB0byBiZSB1bmRlZmluZWQsIGluc3RlYWQgcmVjZWl2ZWRcbiAgIitiKGUpfTpmdW5jdGlvbigpe3JldHVybiBtKCIudG9CZVVuZGVmaW5lZCIsInJlY2VpdmVkIiwiIikrIlxuXG5FeHBlY3RlZCB2YWx1ZSB0byBiZSB1bmRlZmluZWQsIGluc3RlYWQgcmVjZWl2ZWRcbiAgIitiKGUpfSxwYXNzOm59fSx0b0NvbnRhaW46ZnVuY3Rpb24oZSx0KXt2YXIgbj15KGUpLG89bnVsbDtpZihBcnJheS5pc0FycmF5KGUpfHwic3RyaW5nIj09dHlwZW9mIGUpbz1lO2Vsc2UgdHJ5e289KDAsci5kZWZhdWx0KShlKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IobSgiWy5ub3RdLnRvQ29udGFpbkVxdWFsIiwiY29sbGVjdGlvbiIsInZhbHVlIikrIlxuXG5FeHBlY3RlZCAiK2QoImNvbGxlY3Rpb24iKSsiIHRvIGJlIGFuIGFycmF5LWxpa2Ugc3RydWN0dXJlLlxuIit3KCJSZWNlaXZlZCIsZSxiKSl9dmFyIGk9LTEhPW8uaW5kZXhPZih0KTtyZXR1cm57bWVzc2FnZTppP2Z1bmN0aW9uKCl7cmV0dXJuIG0oIi5ub3QudG9Db250YWluIixuLCJ2YWx1ZSIpKyJcblxuRXhwZWN0ZWQgIituKyI6XG4gICIrYihlKSsiXG5Ob3QgdG8gY29udGFpbiB2YWx1ZTpcbiAgIitfKHQpKyJcbiJ9OmZ1bmN0aW9uKCl7cmV0dXJuIG0oIi50b0NvbnRhaW4iLG4sInZhbHVlIikrIlxuXG5FeHBlY3RlZCAiK24rIjpcbiAgIitiKGUpKyJcblRvIGNvbnRhaW4gdmFsdWU6XG4gICIrXyh0KX0scGFzczppfX0sdG9Db250YWluRXF1YWw6ZnVuY3Rpb24oZSx0KXt2YXIgbj15KGUpLG89bnVsbDtpZihBcnJheS5pc0FycmF5KGUpKW89ZTtlbHNlIHRyeXtvPSgwLHIuZGVmYXVsdCkoZSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKG0oIlsubm90XS50b0NvbnRhaW5FcXVhbCIsImNvbGxlY3Rpb24iLCJ2YWx1ZSIpKyJcblxuRXhwZWN0ZWQgIitkKCJjb2xsZWN0aW9uIikrIiB0byBiZSBhbiBhcnJheS1saWtlIHN0cnVjdHVyZS5cbiIrdygiUmVjZWl2ZWQiLGUsYikpfXZhciBpPS0xIT09by5maW5kSW5kZXgoZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSx0LFtBXSl9KTtyZXR1cm57bWVzc2FnZTppP2Z1bmN0aW9uKCl7cmV0dXJuIG0oIi5ub3QudG9Db250YWluRXF1YWwiLG4sInZhbHVlIikrIlxuXG5FeHBlY3RlZCAiK24rIjpcbiAgIitiKGUpKyJcbk5vdCB0byBjb250YWluIGEgdmFsdWUgZXF1YWwgdG86XG4gICIrXyh0KSsiXG4ifTpmdW5jdGlvbigpe3JldHVybiBtKCIudG9Db250YWluRXF1YWwiLG4sInZhbHVlIikrIlxuXG5FeHBlY3RlZCAiK24rIjpcbiAgIitiKGUpKyJcblRvIGNvbnRhaW4gYSB2YWx1ZSBlcXVhbCB0bzpcbiAgIitfKHQpfSxwYXNzOml9fSx0b0VxdWFsOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPU8oZSx0LFtBXSk7cmV0dXJue2FjdHVhbDplLGV4cGVjdGVkOnQsbWVzc2FnZTpyP2Z1bmN0aW9uKCl7cmV0dXJuIG0oIi5ub3QudG9FcXVhbCIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gbm90IGVxdWFsOlxuICAiK18odCkrIlxuUmVjZWl2ZWQ6XG4gICIrYihlKX06ZnVuY3Rpb24oKXt2YXIgcj1mKHQsZSx7ZXhwYW5kOm4uZXhwYW5kfSk7cmV0dXJuIG0oIi50b0VxdWFsIikrIlxuXG5FeHBlY3RlZCB2YWx1ZSB0byBlcXVhbDpcbiAgIitfKHQpKyJcblJlY2VpdmVkOlxuICAiK2IoZSkrKHI/IlxuXG5EaWZmZXJlbmNlOlxuXG4iK3I6IiIpfSxuYW1lOiJ0b0VxdWFsIixwYXNzOnJ9fSx0b0hhdmVMZW5ndGg6ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGUmJighZXx8Im51bWJlciIhPXR5cGVvZiBlLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKG0oIlsubm90XS50b0hhdmVMZW5ndGgiLCJyZWNlaXZlZCIsImxlbmd0aCIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gaGF2ZSBhICdsZW5ndGgnIHByb3BlcnR5IHRoYXQgaXMgYSBudW1iZXIuIFJlY2VpdmVkOlxuICAiK2IoZSkrIlxuIisoZT8icmVjZWl2ZWQubGVuZ3RoOlxuICAiK2IoZS5sZW5ndGgpOiIiKSk7dmFyIG49ZS5sZW5ndGg9PT10O3JldHVybnttZXNzYWdlOm4/ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLm5vdC50b0hhdmVMZW5ndGgiLCJyZWNlaXZlZCIsImxlbmd0aCIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gbm90IGhhdmUgbGVuZ3RoOlxuICAiK18odCkrIlxuUmVjZWl2ZWQ6XG4gICIrYihlKSsiXG5yZWNlaXZlZC5sZW5ndGg6XG4gICIrYihlLmxlbmd0aCl9OmZ1bmN0aW9uKCl7cmV0dXJuIG0oIi50b0hhdmVMZW5ndGgiLCJyZWNlaXZlZCIsImxlbmd0aCIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gaGF2ZSBsZW5ndGg6XG4gICIrXyh0KSsiXG5SZWNlaXZlZDpcbiAgIitiKGUpKyJcbnJlY2VpdmVkLmxlbmd0aDpcbiAgIitiKGUubGVuZ3RoKX0scGFzczpufX0sdG9IYXZlUHJvcGVydHk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPTM9PT1hcmd1bWVudHMubGVuZ3RoO2lmKCFlJiYic3RyaW5nIiE9dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IobSgiWy5ub3RdLnRvSGF2ZVByb3BlcnR5Iiwib2JqZWN0IiwicGF0aCIse3NlY29uZEFyZ3VtZW50OnI/InZhbHVlIjpudWxsfSkrIlxuXG5FeHBlY3RlZCAiK2QoIm9iamVjdCIpKyIgdG8gYmUgYW4gb2JqZWN0LiBSZWNlaXZlZDpcbiAgIit5KGUpKyI6ICIrYihlKSk7aWYoInN0cmluZyIhPT15KHQpKXRocm93IG5ldyBFcnJvcihtKCJbLm5vdF0udG9IYXZlUHJvcGVydHkiLCJvYmplY3QiLCJwYXRoIix7c2Vjb25kQXJndW1lbnQ6cj8idmFsdWUiOm51bGx9KSsiXG5cbkV4cGVjdGVkICIraCgicGF0aCIpKyIgdG8gYmUgYSBzdHJpbmcuIFJlY2VpdmVkOlxuICAiK3kodCkrIjogIitiKHQpKTt2YXIgbz1rKGUsdCksaT1vLmxhc3RUcmF2ZXJzZWRPYmplY3QsYT1vLmhhc0VuZFByb3AsdT12b2lkIDA7ciYmTShvLCJ2YWx1ZSIpJiYodT1mKG4sby52YWx1ZSx7ZXhwYW5kOnRoaXMuZXhwYW5kfSkpO3ZhciBjPXI/TyhvLnZhbHVlLG4sW0FdKTphO00obywidmFsdWUiKSYmby50cmF2ZXJzZWRQYXRoLnBvcCgpO3ZhciBzPW8udHJhdmVyc2VkUGF0aC5qb2luKCIuIiksbD1jP20oIi5ub3QudG9IYXZlUHJvcGVydHkiLCJvYmplY3QiLCJwYXRoIix7c2Vjb25kQXJndW1lbnQ6cj8idmFsdWUiOm51bGx9KSsiXG5cbkV4cGVjdGVkIHRoZSBvYmplY3Q6XG4gICIrYihlKSsiXG5Ob3QgdG8gaGF2ZSBhIG5lc3RlZCBwcm9wZXJ0eTpcbiAgIitfKHQpKyJcbiIrKHI/IldpdGggYSB2YWx1ZSBvZjpcbiAgIitfKG4pKyJcbiI6IiIpOm0oIi50b0hhdmVQcm9wZXJ0eSIsIm9iamVjdCIsInBhdGgiLHtzZWNvbmRBcmd1bWVudDpyPyJ2YWx1ZSI6bnVsbH0pKyJcblxuRXhwZWN0ZWQgdGhlIG9iamVjdDpcbiAgIitiKGUpKyJcblRvIGhhdmUgYSBuZXN0ZWQgcHJvcGVydHk6XG4gICIrXyh0KSsiXG4iKyhyPyJXaXRoIGEgdmFsdWUgb2Y6XG4gICIrXyhuKSsiXG4iOiIiKSsocz8iUmVjZWl2ZWQ6XG4gICIrZCgib2JqZWN0IikrIi4iK3MrIjogIitiKGkpOiIiKSsodT8iXG5EaWZmZXJlbmNlOlxuXG4iK3U6IiIpO2lmKHZvaWQgMD09PWMpdGhyb3cgbmV3IEVycm9yKCJwYXNzIG11c3QgYmUgaW5pdGlhbGl6ZWQiKTtyZXR1cm57bWVzc2FnZTpsLHBhc3M6Y319LHRvTWF0Y2g6ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKG0oIlsubm90XS50b01hdGNoIiwic3RyaW5nIiwiZXhwZWN0ZWQiKSsiXG5cbiIrZCgic3RyaW5nIikrIiB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nLlxuIit3KCJSZWNlaXZlZCIsZSxiKSk7aWYoISh0IGluc3RhbmNlb2YgUmVnRXhwKSYmInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihtKCJbLm5vdF0udG9NYXRjaCIsInN0cmluZyIsImV4cGVjdGVkIikrIlxuXG4iK2goImV4cGVjdGVkIikrIiB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgcmVndWxhciBleHByZXNzaW9uLlxuIit3KCJFeHBlY3RlZCIsdCxfKSk7dmFyIG49bmV3IFJlZ0V4cCgic3RyaW5nIj09dHlwZW9mIHQ/bCh0KTp0KS50ZXN0KGUpO3JldHVybnttZXNzYWdlOm4/ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLm5vdC50b01hdGNoIikrIlxuXG5FeHBlY3RlZCB2YWx1ZSBub3QgdG8gbWF0Y2g6XG4gICIrXyh0KSsiXG5SZWNlaXZlZDpcbiAgIitiKGUpfTpmdW5jdGlvbigpe3JldHVybiBtKCIudG9NYXRjaCIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gbWF0Y2g6XG4gICIrXyh0KSsiXG5SZWNlaXZlZDpcbiAgIitiKGUpfSxwYXNzOm59fSx0b01hdGNoT2JqZWN0OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZigib2JqZWN0IiE9PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLHUuZGVmYXVsdCkoZSkpfHxudWxsPT09ZSl0aHJvdyBuZXcgRXJyb3IobSgiWy5ub3RdLnRvTWF0Y2hPYmplY3QiLCJvYmplY3QiLCJleHBlY3RlZCIpKyJcblxuIitkKCJyZWNlaXZlZCIpKyIgdmFsdWUgbXVzdCBiZSBhbiBvYmplY3QuXG4iK3coIlJlY2VpdmVkIixlLGIpKTtpZigib2JqZWN0IiE9PSh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOigwLHUuZGVmYXVsdCkodCkpfHxudWxsPT09dCl0aHJvdyBuZXcgRXJyb3IobSgiWy5ub3RdLnRvTWF0Y2hPYmplY3QiLCJvYmplY3QiLCJleHBlY3RlZCIpKyJcblxuIitoKCJleHBlY3RlZCIpKyIgdmFsdWUgbXVzdCBiZSBhbiBvYmplY3QuXG4iK3coIkV4cGVjdGVkIix0LF8pKTt2YXIgcj1PKGUsdCxbQSxDXSk7cmV0dXJue21lc3NhZ2U6cj9mdW5jdGlvbigpe3JldHVybiBtKCIubm90LnRvTWF0Y2hPYmplY3QiKSsiXG5cbkV4cGVjdGVkIHZhbHVlIG5vdCB0byBtYXRjaCBvYmplY3Q6XG4gICIrXyh0KSsiXG5SZWNlaXZlZDpcbiAgIitiKGUpfTpmdW5jdGlvbigpe3ZhciByPWYodCxFKGUsdCkse2V4cGFuZDpuLmV4cGFuZH0pO3JldHVybiBtKCIudG9NYXRjaE9iamVjdCIpKyJcblxuRXhwZWN0ZWQgdmFsdWUgdG8gbWF0Y2ggb2JqZWN0OlxuICAiK18odCkrIlxuUmVjZWl2ZWQ6XG4gICIrYihlKSsocj8iXG5EaWZmZXJlbmNlOlxuIityOiIiKX0scGFzczpyfX19O2UuZXhwb3J0cz1QfSxmdW5jdGlvbihlLHQsbil7bigzMSksbig0MTQpLGUuZXhwb3J0cz1uKDEpLkFycmF5LmZyb219LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMiksbz1uKDIpLGk9bigzMCksYT1uKDIwMCksdT1uKDIwMSksYz1uKDc5KSxzPW4oNDE1KSxmPW4oMTI2KTtvKG8uUytvLkYqIW4oMjA3KShmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSksIkFycmF5Iix7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdCxuLG8sbCxwPWkoZSksaD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LGQ9YXJndW1lbnRzLmxlbmd0aCx2PWQ+MT9hcmd1bWVudHNbMV06dm9pZCAwLGc9dm9pZCAwIT09dix5PTAsbT1mKHApO2lmKGcmJih2PXIodixkPjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksbnVsbD09bXx8aD09QXJyYXkmJnUobSkpZm9yKG49bmV3IGgodD1jKHAubGVuZ3RoKSk7dD55O3krKylzKG4seSxnP3YocFt5XSx5KTpwW3ldKTtlbHNlIGZvcihsPW0uY2FsbChwKSxuPW5ldyBoOyEobz1sLm5leHQoKSkuZG9uZTt5KyspcyhuLHksZz9hKGwsdixbby52YWx1ZSx5XSwhMCk6by52YWx1ZSk7cmV0dXJuIG4ubGVuZ3RoPXksbn19KX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEyKSxvPW4oNDgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dCBpbiBlP3IuZihlLHQsbygwLG4pKTplW3RdPW59fSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPXtkZWZhdWx0Om4oNDE3KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LG4pe24oNDE4KSxlLmV4cG9ydHM9bigxKS5OdW1iZXIuaXNOYU59LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIpO3Ioci5TLCJOdW1iZXIiLHtpc05hTjpmdW5jdGlvbihlKXtyZXR1cm4gZSE9ZX19KX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj11KG4oMjE2KSksbz11KG4oMjI1KSksaT11KG4oMjIyKSksYT11KG4oNDApKTtmdW5jdGlvbiB1KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz1uKDg3KS5wbHVnaW5zLHM9Yy5SZWFjdEVsZW1lbnQsZj1jLlJlYWN0VGVzdENvbXBvbmVudCxsPWMuQXN5bW1ldHJpY01hdGNoZXIscD1jLkhUTUxFbGVtZW50LGg9Yy5JbW11dGFibGUsZD1uKDU1KSx2PW4oNTQpLmdldFR5cGUsZz1uKDg3KSx5PW4oNDIwKSxtPW4oMjI2KSxiPW0uTk9fRElGRl9NRVNTQUdFLF89bS5TSU1JTEFSX01FU1NBR0Usdz1bZixzLGwscF0uY29uY2F0KGgpLHg9e3BsdWdpbnM6d30sRT17Y2FsbFRvSlNPTjohMSxtYXhEZXB0aDoxMCxwbHVnaW5zOnd9O2Z1bmN0aW9uIGsoZSl7cmV0dXJuIG5ldyBpLmRlZmF1bHQoKDAsby5kZWZhdWx0KShlLmVudHJpZXMoKSkuc29ydCgpKX1mdW5jdGlvbiBNKGUpe3JldHVybiBuZXcgci5kZWZhdWx0KCgwLG8uZGVmYXVsdCkoZS52YWx1ZXMoKSkuc29ydCgpKX1mdW5jdGlvbiBPKGUsdCxuKXt2YXIgcj12b2lkIDAsbz0hMTt0cnl7cj15KGcoZSx4KSxnKHQseCksbil9Y2F0Y2goZSl7bz0hMH1yZXR1cm4gciYmciE9PWJ8fChyPXkoZyhlLEUpLGcodCxFKSxuKSk9PT1ifHxvfHwocj1fKyJcblxuIityKSxyfWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7aWYoZT09PXQpcmV0dXJuIGI7dmFyIHI9dihlKSxvPXIsaT0hMTtpZigib2JqZWN0Ij09PXImJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmFzeW1tZXRyaWNNYXRjaCl7aWYoZS4kJHR5cGVvZiE9PSgwLGEuZGVmYXVsdCkoImplc3QuYXN5bW1ldHJpY01hdGNoZXIiKSlyZXR1cm4gbnVsbDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZS5nZXRFeHBlY3RlZFR5cGUpcmV0dXJuIG51bGw7aT0ic3RyaW5nIj09PShvPWUuZ2V0RXhwZWN0ZWRUeXBlKCkpfWlmKG8hPT12KHQpKXJldHVybiIgIENvbXBhcmluZyB0d28gZGlmZmVyZW50IHR5cGVzIG9mIHZhbHVlcy4gRXhwZWN0ZWQgIitkLmdyZWVuKG8pKyIgYnV0IHJlY2VpdmVkICIrZC5yZWQodih0KSkrIi4iO2lmKGkpcmV0dXJuIG51bGw7c3dpdGNoKHIpe2Nhc2Uic3RyaW5nIjpyZXR1cm4tMSE9PWUubWF0Y2goL1tcclxuXS8pJiYtMSE9PXQuaW5kZXhPZigiXG4iKT95KFN0cmluZyhlKSxTdHJpbmcodCksbik6bnVsbDtjYXNlIm51bWJlciI6Y2FzZSJib29sZWFuIjpyZXR1cm4gbnVsbDtjYXNlIm1hcCI6cmV0dXJuIE8oayhlKSxrKHQpLG4pO2Nhc2Uic2V0IjpyZXR1cm4gTyhNKGUpLE0odCksbik7ZGVmYXVsdDpyZXR1cm4gTyhlLHQsbil9fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDU1KSxvPW4oODkpLGk9bigyMjYpLk5PX0RJRkZfTUVTU0FHRSxhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ci5yZWQ6dD9yLmdyZWVuOnIuZGltfSx1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ci5iZ1JlZDp0P3IuYmdHcmVlbjpyLmRpbX0sYz1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UoL1xzKyQvLHQoIiQmIikpfSxzPWZ1bmN0aW9uKGUpe3JldHVybiByLmdyZWVuKCItICIrKGUmJmUuYUFubm90YXRpb258fCJFeHBlY3RlZCIpKSsiXG4iK3IucmVkKCIrICIrKGUmJmUuYkFubm90YXRpb258fCJSZWNlaXZlZCIpKSsiXG5cbiJ9LGY9ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMTtyZXR1cm57ZGlmZjpvLmRpZmZMaW5lcyhlLHQpLm1hcChmdW5jdGlvbihlKXt2YXIgdD1lLmFkZGVkLHI9ZS5yZW1vdmVkOyhlLmFkZGVkfHxlLnJlbW92ZWQpJiYobj0hMCk7dmFyIG89ZS52YWx1ZS5zcGxpdCgiXG4iKSxpPWEodCxyKSxzPXUodCxyKTtyZXR1cm4iIj09PW9bby5sZW5ndGgtMV0mJm8ucG9wKCksby5tYXAoZnVuY3Rpb24odCl7dmFyIG49Yyh0LHMpO3JldHVybiBpKGUuYWRkZWQ/IisiOmUucmVtb3ZlZD8iLSI6IiAiKSsiICIraShuKSsiXG4ifSkuam9pbigiIil9KS5qb2luKCIiKS50cmltKCksaXNEaWZmZXJlbnQ6bn19LGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj17Y29udGV4dDo1fSxpPSExO2UuZW5kc1dpdGgoIlxuIil8fChlKz0iXG4iKSx0LmVuZHNXaXRoKCJcbiIpfHwodCs9IlxuIik7dmFyIHM9KGUubWF0Y2goL1xuL2cpfHxbXSkubGVuZ3RoO3JldHVybntkaWZmOm8uc3RydWN0dXJlZFBhdGNoKCIiLCIiLGUsdCwiIiwiIixuKS5odW5rcy5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5saW5lcy5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9IisiPT09ZVswXSxuPSItIj09PWVbMF0scj1hKHQsbiksbz11KHQsbik7cmV0dXJuIHIoYyhlLG8pKSsiXG4ifSkuam9pbigiIik7cmV0dXJuIGk9ITAsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD5lLm9sZExpbmVzfShlLHMpP2Z1bmN0aW9uKGUpe3ZhciB0PSItIitlLm9sZFN0YXJ0KyIsIitlLm9sZExpbmVzLG49IisiK2UubmV3U3RhcnQrIiwiK2UubmV3TGluZXM7cmV0dXJuIHIueWVsbG93KCJAQCAiK3QrIiAiK24rIiBAQFxuIil9KGUpK3Q6dH0pLmpvaW4oIiIpLnRyaW0oKSxpc0RpZmZlcmVudDppfX07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uJiYhMT09PW4uZXhwYW5kP2woZSx0KTpmKGUsdCk7cmV0dXJuIHIuaXNEaWZmZXJlbnQ/cyhuKStyLmRpZmY6aX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9aShuKDM5KSksbz1pKG4oOSkpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfTtlLmV4cG9ydHM9e2dldE9iamVjdFN1YnNldDpmdW5jdGlvbiBlKHQsbil7aWYoQXJyYXkuaXNBcnJheSh0KSl7aWYoQXJyYXkuaXNBcnJheShuKSYmbi5sZW5ndGg9PT10Lmxlbmd0aClyZXR1cm4gbi5tYXAoZnVuY3Rpb24obixyKXtyZXR1cm4gZSh0W3JdLG4pfSl9ZWxzZXtpZih0IGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gdDtpZigib2JqZWN0Ij09PSh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOigwLG8uZGVmYXVsdCkodCkpJiZudWxsIT09dCYmIm9iamVjdCI9PT0odm9pZCAwPT09bj8idW5kZWZpbmVkIjooMCxvLmRlZmF1bHQpKG4pKSYmbnVsbCE9PW4pe3ZhciBpPXt9O2lmKCgwLHIuZGVmYXVsdCkobikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfSkuZm9yRWFjaChmdW5jdGlvbihyKXtyZXR1cm4gaVtyXT1lKHRbcl0sbltyXSl9KSwoMCxyLmRlZmF1bHQpKGkpLmxlbmd0aD4wKXJldHVybiBpfX1yZXR1cm4gdH0sZ2V0UGF0aDpmdW5jdGlvbiBlKHQsbil7QXJyYXkuaXNBcnJheShuKXx8KG49bi5zcGxpdCgiLiIpKTt2YXIgcj0xPT09bi5sZW5ndGg7aWYobi5sZW5ndGgpe3ZhciBvPW5bMF0saT10W29dO2lmKHJ8fG51bGwhPWkpe3ZhciB1PWUoaSxuLnNsaWNlKDEpKTtyZXR1cm4gdS5sYXN0VHJhdmVyc2VkT2JqZWN0fHwodS5sYXN0VHJhdmVyc2VkT2JqZWN0PXQpLHUudHJhdmVyc2VkUGF0aC51bnNoaWZ0KG8pLDE9PT1uLmxlbmd0aCYmKHUuaGFzRW5kUHJvcD1hKHQsbyksdS5oYXNFbmRQcm9wfHwoZGVsZXRlIHUudmFsdWUsdS50cmF2ZXJzZWRQYXRoLnNoaWZ0KCkpKSx1fXJldHVybntoYXNFbmRQcm9wOiExLGxhc3RUcmF2ZXJzZWRPYmplY3Q6dCx0cmF2ZXJzZWRQYXRoOltdfX1yZXR1cm57bGFzdFRyYXZlcnNlZE9iamVjdDpudWxsLHRyYXZlcnNlZFBhdGg6W10sdmFsdWU6dH19LGhhc093blByb3BlcnR5OmF9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNTQpLG89ci5lbnN1cmVFeHBlY3RlZElzTnVtYmVyLGk9ci5lbnN1cmVOb0V4cGVjdGVkLGE9ci5FWFBFQ1RFRF9DT0xPUix1PXIubWF0Y2hlckhpbnQsYz1yLnBsdXJhbGl6ZSxzPXIucHJpbnRFeHBlY3RlZCxmPXIucHJpbnRSZWNlaXZlZCxsPXIucHJpbnRXaXRoVHlwZSxwPXIuUkVDRUlWRURfQ09MT1IsaD1uKDU4KS5lcXVhbHMsZD17Im1vY2sgZnVuY3Rpb24iOiJqZXN0LmZuKCkiLHNweToic3B5In0sdj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtpKG4sZSksXyh0LGUpO3ZhciByPWIodCksbz1yPyJzcHkiOiJtb2NrIGZ1bmN0aW9uIixhPXI/dC5jYWxscy5jb3VudCgpOnQubW9jay5jYWxscy5sZW5ndGgsYz1yP3QuY2FsbHMuYWxsKCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFyZ3N9KTp0Lm1vY2suY2FsbHMscz1hPjA7cmV0dXJue21lc3NhZ2U6cz9mdW5jdGlvbigpe3JldHVybiB1KCIubm90IitlLGRbb10sIiIpKyJcblxuRXhwZWN0ZWQgIitvKyIgbm90IHRvIGJlIGNhbGxlZCAiK3coYywzLHtzYW1lU2VudGVuY2U6ITB9KX06ZnVuY3Rpb24oKXtyZXR1cm4gdShlLGRbb10sIiIpKyJcblxuRXhwZWN0ZWQgIitvKyIgdG8gaGF2ZSBiZWVuIGNhbGxlZC4ifSxwYXNzOnN9fX0sZz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheShuPjE/bi0xOjApLG89MTtvPG47bysrKXJbby0xXT1hcmd1bWVudHNbb107Xyh0LGUpO3ZhciBpPWIodCksYT1pPyJzcHkiOiJtb2NrIGZ1bmN0aW9uIixjPWk/dC5jYWxscy5hbGwoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXJnc30pOnQubW9jay5jYWxscyxmPWMuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gaChlLHIpfSksbD1mP2Z1bmN0aW9uKCl7cmV0dXJuIHUoIi5ub3QiK2UsZFthXSkrIlxuXG5FeHBlY3RlZCAiK2ErIiBub3QgdG8gaGF2ZSBiZWVuIGNhbGxlZCB3aXRoOlxuICAiK3Mocil9OmZ1bmN0aW9uKCl7cmV0dXJuIHUoZSxkW2FdKSsiXG5cbkV4cGVjdGVkICIrYSsiIHRvIGhhdmUgYmVlbiBjYWxsZWQgd2l0aDpcbiAgIitzKHIpKyJcbiIrdyhjLDMpfTtyZXR1cm57bWVzc2FnZTpsLHBhc3M6Zn19fSx5PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KG4+MT9uLTE6MCksbz0xO288bjtvKyspcltvLTFdPWFyZ3VtZW50c1tvXTtfKHQsZSk7dmFyIGk9Yih0KSxhPWk/InNweSI6Im1vY2sgZnVuY3Rpb24iLGM9aT90LmNhbGxzLmFsbCgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5hcmdzfSk6dC5tb2NrLmNhbGxzLGY9aChjW2MubGVuZ3RoLTFdLHIpLGw9Zj9mdW5jdGlvbigpe3JldHVybiB1KCIubm90IitlLGRbYV0pKyJcblxuRXhwZWN0ZWQgIithKyIgdG8gbm90IGhhdmUgYmVlbiBsYXN0IGNhbGxlZCB3aXRoOlxuICAiK3Mocil9OmZ1bmN0aW9uKCl7cmV0dXJuIHUoZSxkW2FdKSsiXG5cbkV4cGVjdGVkICIrYSsiIHRvIGhhdmUgYmVlbiBsYXN0IGNhbGxlZCB3aXRoOlxuICAiK3MocikrIlxuIit3KGMsMSx7aXNMYXN0OiEwfSl9O3JldHVybnttZXNzYWdlOmwscGFzczpmfX19LG09e2xhc3RDYWxsZWRXaXRoOnkoIi5sYXN0Q2FsbGVkV2l0aCIpLHRvQmVDYWxsZWQ6digiLnRvQmVDYWxsZWQiKSx0b0JlQ2FsbGVkV2l0aDpnKCIudG9CZUNhbGxlZFdpdGgiKSx0b0hhdmVCZWVuQ2FsbGVkOnYoIi50b0hhdmVCZWVuQ2FsbGVkIiksdG9IYXZlQmVlbkNhbGxlZFRpbWVzOmZ1bmN0aW9uKGUsdCl7dmFyIG49Ii50b0hhdmVCZWVuQ2FsbGVkVGltZXMiO28odCxuKSxfKGUsbik7dmFyIHI9YihlKSxpPXI/InNweSI6Im1vY2sgZnVuY3Rpb24iLHM9cj9lLmNhbGxzLmNvdW50KCk6ZS5tb2NrLmNhbGxzLmxlbmd0aCxmPXM9PT10O3JldHVybnttZXNzYWdlOmY/ZnVuY3Rpb24oKXtyZXR1cm4gdSgiLm5vdCIrbixkW2ldLFN0cmluZyh0KSkrIlxuXG5FeHBlY3RlZCAiK2krIiBub3QgdG8gYmUgY2FsbGVkICIrYShjKCJ0aW1lIix0KSkrIiwgYnV0IGl0IHdhcyBjYWxsZWQgZXhhY3RseSAiK3AoYygidGltZSIscykpKyIuIn06ZnVuY3Rpb24oKXtyZXR1cm4gdShuLGRbaV0sU3RyaW5nKHQpKSsiXG5cbkV4cGVjdGVkICIraSsiIHRvIGhhdmUgYmVlbiBjYWxsZWQgIithKGMoInRpbWUiLHQpKSsiLCBidXQgaXQgd2FzIGNhbGxlZCAiK3AoYygidGltZSIscykpKyIuIn0scGFzczpmfX0sdG9IYXZlQmVlbkNhbGxlZFdpdGg6ZygiLnRvSGF2ZUJlZW5DYWxsZWRXaXRoIiksdG9IYXZlQmVlbkxhc3RDYWxsZWRXaXRoOnkoIi50b0hhdmVCZWVuTGFzdENhbGxlZFdpdGgiKX0sYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5jYWxscyYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbHMuY291bnR9LF89ZnVuY3Rpb24oZSx0KXtpZighZXx8KHZvaWQgMD09PWUuY2FsbHN8fHZvaWQgMD09PWUuY2FsbHMuYWxsKSYmITAhPT1lLl9pc01vY2tGdW5jdGlvbil0aHJvdyBuZXcgRXJyb3IodSgiWy5ub3RdIit0LCJqZXN0LmZuKCkiLCIiKSsiXG5cbiIrcCgiamVzdC5mbigpIikrIiB2YWx1ZSBtdXN0IGJlIGEgbW9jayBmdW5jdGlvbiBvciBzcHkuXG4iK2woIlJlY2VpdmVkIixlLGYpKX0sdz1mdW5jdGlvbihlLHQsbil7aWYoZS5sZW5ndGgpe3ZhciByPW4mJm4uc2FtZVNlbnRlbmNlPyJidXQiOiJCdXQiLG89ZS5sZW5ndGgtdCxpPWUuc2xpY2UoLXQpLnJldmVyc2UoKS5tYXAoZikuam9pbigiLCAiKTtyZXR1cm4gcisiIGl0IHdhcyAiKyhuJiZuLmlzTGFzdD8ibGFzdCAiOiIiKSsiY2FsbGVkIHdpdGg6XG4gICIraSsobz4wPyJcbmFuZCAiK3AoYygibW9yZSBjYWxsIixvKSkrIi4iOiIiKX1yZXR1cm4iQnV0IGl0IHdhcyAiK3AoIm5vdCBjYWxsZWQiKSsiLiJ9O2UuZXhwb3J0cz1tfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyhmdW5jdGlvbih0KXt2YXIgcixvPW4oOSksaT0ocj1vKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dmFyIGE9bigyMjcpLmVzY2FwZVN0ckZvclJlZ2V4LHU9big0MjQpLGM9dS5mb3JtYXRTdGFja1RyYWNlLHM9dS5zZXBhcmF0ZU1lc3NhZ2VGcm9tU3RhY2ssZj1uKDU0KSxsPWYuUkVDRUlWRURfQkcscD1mLlJFQ0VJVkVEX0NPTE9SLGg9Zi5nZXRUeXBlLGQ9Zi5oaWdobGlnaHRUcmFpbGluZ1doaXRlc3BhY2Usdj1mLm1hdGNoZXJIaW50LGc9Zi5wcmludEV4cGVjdGVkLHk9Zi5wcmludFdpdGhUeXBlLG09big1OCkuZXF1YWxzLGI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIHI9bixvPXZvaWQgMDtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IodihlLCJmdW5jdGlvbiIsaChyKSkrJ1xuXG5SZWNlaXZlZCB2YWx1ZSBtdXN0IGJlIGEgZnVuY3Rpb24sIGJ1dCBpbnN0ZWFkICInK2godCkrJyIgd2FzIGZvdW5kJyk7dHJ5e3QoKX1jYXRjaChlKXtvPWV9aWYoInN0cmluZyI9PXR5cGVvZiBuJiYobj1uZXcgUmVnRXhwKGEobikpKSwiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gRShlLG8sbik7aWYobiBpbnN0YW5jZW9mIFJlZ0V4cClyZXR1cm4gdyhlLG8sbixyKTtpZihuJiYib2JqZWN0Ij09PSh2b2lkIDA9PT1uPyJ1bmRlZmluZWQiOigwLGkuZGVmYXVsdCkobikpKXJldHVybiB4KGUsbyxuKTtpZih2b2lkIDA9PT1uKXt2YXIgdT12b2lkIDAhPT1vO3JldHVybnttZXNzYWdlOnU/ZnVuY3Rpb24oKXtyZXR1cm4gdigiLm5vdCIrZSwiZnVuY3Rpb24iLCIiKSsiXG5cbkV4cGVjdGVkIHRoZSBmdW5jdGlvbiBub3QgdG8gdGhyb3cgYW4gZXJyb3IuXG4iK2sobyl9OmZ1bmN0aW9uKCl7cmV0dXJuIHYoZSwiZnVuY3Rpb24iLGgocikpKyJcblxuRXhwZWN0ZWQgdGhlIGZ1bmN0aW9uIHRvIHRocm93IGFuIGVycm9yLlxuIitrKG8pfSxwYXNzOnV9fXRocm93IG5ldyBFcnJvcih2KCIubm90IitlLCJmdW5jdGlvbiIsaChyKSkrIlxuXG5VbmV4cGVjdGVkIGFyZ3VtZW50IHBhc3NlZC5cbkV4cGVjdGVkOiAiK2coInN0cmluZyIpKyIsICIrZygiRXJyb3IgKHR5cGUpIikrIiBvciAiK2coInJlZ2V4cCIpKyIuXG4iK3koIkdvdCIsU3RyaW5nKG4pLGcpKX19LF89e3RvVGhyb3c6YigiLnRvVGhyb3ciKSx0b1Rocm93RXJyb3I6YigiLnRvVGhyb3dFcnJvciIpfSx3PWZ1bmN0aW9uKGUsdCxuLHIpeyF0fHx0Lm1lc3NhZ2V8fHQubmFtZXx8KHQ9bmV3IEVycm9yKHQpKTt2YXIgbz0hKCF0fHwhdC5tZXNzYWdlLm1hdGNoKG4pKTtyZXR1cm57bWVzc2FnZTpvP2Z1bmN0aW9uKCl7cmV0dXJuIHYoIi5ub3QiK2UsImZ1bmN0aW9uIixoKHIpKSsiXG5cbkV4cGVjdGVkIHRoZSBmdW5jdGlvbiBub3QgdG8gdGhyb3cgYW4gZXJyb3IgbWF0Y2hpbmc6XG4gICIrZyhyKSsiXG4iK2sodCl9OmZ1bmN0aW9uKCl7cmV0dXJuIHYoZSwiZnVuY3Rpb24iLGgocikpKyJcblxuRXhwZWN0ZWQgdGhlIGZ1bmN0aW9uIHRvIHRocm93IGFuIGVycm9yIG1hdGNoaW5nOlxuICAiK2cocikrIlxuIitrKHQpfSxwYXNzOm99fSx4PWZ1bmN0aW9uKGUsdCxuKXshdHx8dC5tZXNzYWdlfHx0Lm5hbWV8fCh0PW5ldyBFcnJvcih0KSk7dmFyIHI9bSh0LG4pO3JldHVybnttZXNzYWdlOnI/ZnVuY3Rpb24oKXtyZXR1cm4gdigiLm5vdCIrZSwiZnVuY3Rpb24iLCJlcnJvciIpKyJcblxuRXhwZWN0ZWQgdGhlIGZ1bmN0aW9uIG5vdCB0byB0aHJvdyBhbiBlcnJvciBtYXRjaGluZzpcbiAgIitnKG4pKyJcbiIrayh0KX06ZnVuY3Rpb24oKXtyZXR1cm4gdihlLCJmdW5jdGlvbiIsImVycm9yIikrIlxuXG5FeHBlY3RlZCB0aGUgZnVuY3Rpb24gdG8gdGhyb3cgYW4gZXJyb3IgbWF0Y2hpbmc6XG4gICIrZyhuKSsiXG4iK2sodCl9LHBhc3M6cn19LEU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPSEhKHQmJnQgaW5zdGFuY2VvZiBuKTtyZXR1cm57bWVzc2FnZTpyP2Z1bmN0aW9uKCl7cmV0dXJuIHYoIi5ub3QiK2UsImZ1bmN0aW9uIiwidHlwZSIpKyJcblxuRXhwZWN0ZWQgdGhlIGZ1bmN0aW9uIG5vdCB0byB0aHJvdyBhbiBlcnJvciBvZiB0eXBlOlxuICAiK2cobi5uYW1lKSsiXG4iK2sodCl9OmZ1bmN0aW9uKCl7cmV0dXJuIHYoZSwiZnVuY3Rpb24iLCJ0eXBlIikrIlxuXG5FeHBlY3RlZCB0aGUgZnVuY3Rpb24gdG8gdGhyb3cgYW4gZXJyb3Igb2YgdHlwZTpcbiAgIitnKG4ubmFtZSkrIlxuIitrKHQpfSxwYXNzOnJ9fSxrPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBuPXMoZS5zdGFjaykscj1uLm1lc3NhZ2Usbz1uLnN0YWNrO3JldHVybiJJbnN0ZWFkLCBpdCB0aHJldzpcbiIrcCgiICAiK2QocixsKStjKG8se3Jvb3REaXI6dC5jd2QoKSx0ZXN0TWF0Y2g6W119LHtub1N0YWNrVHJhY2U6ITF9KSl9cmV0dXJuIkJ1dCBpdCBkaWRuJ3QgdGhyb3cgYW55dGhpbmcuIn07ZS5leHBvcnRzPV99KS5jYWxsKHRoaXMsbig0KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1Nyksbz1uKDU1KSxpPW4oNDI1KSxhPW4oNDYzKSx1PS9eXHMrYXQoPzooPzouKj92ZW5kb3JcL3xqYXNtaW5lXC0pfFxzK2phc21pbmVcLmJ1aWxkRXhwZWN0YXRpb25SZXN1bHQpLyxjPS9eXHMrYXQuKj9qZXN0KC0uKj8pPyhcL3xcXCkoYnVpbGR8bm9kZV9tb2R1bGVzfHBhY2thZ2VzKShcL3xcXCkvLHM9by5ib2xkKCLil48gIiksZj1vLmRpbSxsPS9ccyphdC4qXCg/KFw6XGQqXDpcZCp8bmF0aXZlKVwpPy8scD1mdW5jdGlvbihlKXtyZXR1cm4oZXx8IiIpLnJlcGxhY2UoL15ccysvLCIiKS5yZXBsYWNlKC9ccyskLywiIil9LGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2gobCk/cChlKTplfSxkPWZ1bmN0aW9uKGUsdCxuLHMpe3ZhciBwPWUuc3BsaXQoL1xuLyksZD1zP2Eoci5yZWxhdGl2ZSh0LnJvb3REaXIscykpOm51bGw7cmV0dXJuKHA9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wO3JldHVybiBlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hbC50ZXN0KGUpfHwhdS50ZXN0KGUpJiYoMT09KytufHwhKGMudGVzdChlKXx8dC5ub1N0YWNrVHJhY2UpKX0pfShwLG4pKS5tYXAoaCkubWFwKGZ1bmN0aW9uKGUsdCxuLHUpe3ZhciBjPXUubWF0Y2goLyheXHMqYXQgLio/XCg/KShbXigpXSspKDpbMC05XSs6WzAtOV0rXCk/LiokKS8pO2lmKCFjKXJldHVybiB1O3ZhciBzPWEoci5yZWxhdGl2ZShlLnJvb3REaXIsY1syXSkpO3JldHVybihlLnRlc3RNYXRjaCYmZS50ZXN0TWF0Y2gubGVuZ3RoJiZpKHMsZS50ZXN0TWF0Y2gpfHxzPT09bikmJihzPW8ucmVzZXQuY3lhbihzKSksZihjWzFdKStzK2YoY1szXSl9LmJpbmQobnVsbCx0LG4sZCkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4iICAgICAgIitlfSkuam9pbigiXG4iKX0sdj1mdW5jdGlvbihlKXtpZighZSlyZXR1cm57bWVzc2FnZToiIixzdGFjazoiIn07dmFyIHQ9ZS5tYXRjaCgvKF4oLnxcbikqPyg/PVxuXHMqYXRccy4qXDpcZCpcOlxkKikpLyksbj10P3RbMF06IkVycm9yIixyPXQ/ZS5zbGljZShuLmxlbmd0aCk6ZTtyZXR1cm4gbi5zdGFydHNXaXRoKCJFcnJvcjogIikmJihuPW4uc3Vic3RyKCJFcnJvcjogIi5sZW5ndGgpKSx7bWVzc2FnZTpuLHN0YWNrOnJ9fTtlLmV4cG9ydHM9e2Zvcm1hdEV4ZWNFcnJvcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLnRlc3RFeGVjRXJyb3I7byYmIm51bWJlciIhPXR5cGVvZiBvfHwoKG89bmV3IEVycm9yKCdFeHBlY3RlZCBhbiBFcnJvciwgYnV0ICInK1N0cmluZyhvKSsnIiB3YXMgdGhyb3duJykpLnN0YWNrPSIiKTt2YXIgaT1vLGE9aS5tZXNzYWdlLHU9aS5zdGFjazsic3RyaW5nIiE9dHlwZW9mIG8mJm98fChvfHwobz0iRU1QVFkgRVJST1IiKSxhPSIiLHU9byk7dmFyIGM9dih1fHwiIik7cmV0dXJuIHU9Yy5zdGFjaywtMSE9PWMubWVzc2FnZS5pbmRleE9mKHAoYSkpJiYoYT1jLm1lc3NhZ2UpLGE9YS5zcGxpdCgvXG4vKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiAgICAiK2V9KS5qb2luKCJcbiIpLHU9dSYmIW4ubm9TdGFja1RyYWNlPyJcbiIrZCh1LHQsbixyKToiIixhLm1hdGNoKC9eXHMqJC8pJiZ1Lm1hdGNoKC9eXHMqJC8pJiYoYT0iICAgIEVycm9yOiBObyBtZXNzYWdlIHdhcyBwcm92aWRlZCIpLCIgICIrcysiVGVzdCBzdWl0ZSBmYWlsZWQgdG8gcnVuXG5cbiIrYSt1KyJcbiJ9LGZvcm1hdFJlc3VsdHNFcnJvcnM6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5mYWlsdXJlTWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gZS5wdXNoKHtjb250ZW50Om4scmVzdWx0OnR9KX0pLGV9LFtdKTtyZXR1cm4gaS5sZW5ndGg/aS5tYXAoZnVuY3Rpb24oZSl7dmFyIGk9ZS5yZXN1bHQsYT1lLmNvbnRlbnQsdT12KGEpLGM9dS5tZXNzYWdlLGw9dS5zdGFjaztyZXR1cm4gbD1uLm5vU3RhY2tUcmFjZT8iIjpmKGQobCx0LG4scikpKyJcbiIsYz1jLnNwbGl0KC9cbi8pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4iICAgICIrZX0pLmpvaW4oIlxuIiksby5ib2xkLnJlZCgiICAiK3MraS5hbmNlc3RvclRpdGxlcy5qb2luKCIg4oC6ICIpKyhpLmFuY2VzdG9yVGl0bGVzLmxlbmd0aD8iIOKAuiAiOiIiKStpLnRpdGxlKSsiXG5cbiIrYysiXG4iK2x9KS5qb2luKCJcbiIpOm51bGx9LGZvcm1hdFN0YWNrVHJhY2U6ZCxzZXBhcmF0ZU1lc3NhZ2VGcm9tU3RhY2s6dn19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7IHZhciByPW4oNDI2KSxvPW4oMTQxKTtmdW5jdGlvbiBpKGUsdCxuKXtpZighZXx8IXQpcmV0dXJuW107aWYodm9pZCAwPT09KG49bnx8e30pLmNhY2hlJiYobi5jYWNoZT0hMCksIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGEoZSx0LG4pO2Zvcih2YXIgcj10Lmxlbmd0aCxpPTAsdT1bXSxjPVtdO3ItLTspe3ZhciBzPXRbaSsrXTsic3RyaW5nIj09dHlwZW9mIHMmJjMzPT09cy5jaGFyQ29kZUF0KDApP3UucHVzaC5hcHBseSh1LGEoZSxzLnNsaWNlKDEpLG4pKTpjLnB1c2guYXBwbHkoYyxhKGUscyxuKSl9cmV0dXJuIG8uZGlmZihjLHUpfWZ1bmN0aW9uIGEoZSx0LG4pe2lmKCJzdHJpbmciIT09by50eXBlT2YoZSkmJiFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihmKCJtYXRjaCIsImZpbGVzIiwiYSBzdHJpbmcgb3IgYXJyYXkiKSk7ZT1vLmFycmF5aWZ5KGUpO3ZhciByPShuPW58fHt9KS5uZWdhdGV8fCExLGE9dDsic3RyaW5nIj09dHlwZW9mIHQmJigocj0iISI9PT10LmNoYXJBdCgwKSkmJih0PXQuc2xpY2UoMSkpLCEwPT09bi5ub25lZ2F0ZSYmKHI9ITEpKTtmb3IodmFyIGM9dSh0LG4pLHM9ZS5sZW5ndGgsbD0wLHA9W107bDxzOyl7dmFyIGg9ZVtsKytdLGQ9by51bml4aWZ5KGgsbik7YyhkKSYmcC5wdXNoKGQpfWlmKDA9PT1wLmxlbmd0aCl7aWYoITA9PT1uLmZhaWxnbG9iKXRocm93IG5ldyBFcnJvcignbWljcm9tYXRjaC5tYXRjaCgpIGZvdW5kIG5vIG1hdGNoZXMgZm9yOiAiJythKyciLicpOyhuLm5vbnVsbHx8bi5udWxsZ2xvYikmJnAucHVzaChvLnVuZXNjYXBlR2xvYihhKSl9cmV0dXJuIHImJihwPW8uZGlmZihlLHApKSxuLmlnbm9yZSYmbi5pZ25vcmUubGVuZ3RoJiYodD1uLmlnbm9yZSxuPW8ub21pdChuLFsiaWdub3JlIl0pLHA9by5kaWZmKHAsaShwLHQsbikpKSxuLm5vZHVwZXM/by51bmlxdWUocCk6cH1mdW5jdGlvbiB1KGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoZSBpbnN0YW5jZW9mIFJlZ0V4cClyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUudGVzdCh0KX07aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoZigibWF0Y2hlciIsInBhdHRlcm4iLCJhIHN0cmluZywgcmVnZXgsIG9yIGZ1bmN0aW9uIikpO2lmKGU9by51bml4aWZ5KGUsdCksIW8uaXNHbG9iKGUpKXJldHVybiBvLm1hdGNoUGF0aChlLHQpO3ZhciBuPXMoZSx0KTtyZXR1cm4gdCYmdC5tYXRjaEJhc2U/by5oYXNGaWxlbmFtZShuLHQpOmZ1bmN0aW9uKGUpe3JldHVybiBlPW8udW5peGlmeShlLHQpLG4udGVzdChlKX19ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPU9iamVjdC5jcmVhdGUodHx8e30pLG89bi5mbGFnc3x8IiI7bi5ub2Nhc2UmJi0xPT09by5pbmRleE9mKCJpIikmJihvKz0iaSIpO3ZhciBpLGE9cihlLG4pO24ubmVnYXRlZD1uLm5lZ2F0ZWR8fGEubmVnYXRlZCxuLm5lZ2F0ZT1uLm5lZ2F0ZWQsZT1mdW5jdGlvbihlLHQpe3ZhciBuPXQmJiF0LmNvbnRhaW5zPyJeIjoiIixyPXQmJiF0LmNvbnRhaW5zPyIkIjoiIjtpZihlPSIoPzoiK2UrIikiK3IsdCYmdC5uZWdhdGUpcmV0dXJuIG4rIig/IV4iK2UrIikuKiQiO3JldHVybiBuK2V9KGEucGF0dGVybixuKTt0cnl7cmV0dXJuIGk9bmV3IFJlZ0V4cChlLG8pfWNhdGNoKGUpe2lmKGUucmVhc29uPSJtaWNyb21hdGNoIGludmFsaWQgcmVnZXg6ICgiK2krIikiLG4uc3RyaWN0KXRocm93IG5ldyBTeW50YXhFcnJvcihlKX1yZXR1cm4vJF4vfWZ1bmN0aW9uIHMoZSx0KXtpZigic3RyaW5nIiE9PW8udHlwZU9mKGUpKXRocm93IG5ldyBFcnJvcihmKCJtYWtlUmUiLCJnbG9iIiwiYSBzdHJpbmciKSk7cmV0dXJuIG8uY2FjaGUoYyxlLHQpfWZ1bmN0aW9uIGYoZSx0LG4pe3JldHVybiJtaWNyb21hdGNoLiIrZSsiKCk6ICIrdCsiIHNob3VsZCBiZSAiK24rIi4ifWkuYW55PWZ1bmN0aW9uKGUsdCxuKXtpZighQXJyYXkuaXNBcnJheSh0KSYmInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoZigiYW55IiwicGF0dGVybnMiLCJhIHN0cmluZyBvciBhcnJheSIpKTt2YXIgcj0odD1vLmFycmF5aWZ5KHQpKS5sZW5ndGg7Zm9yKGU9by51bml4aWZ5KGUsbik7ci0tOylpZih1KHRbcl0sbikoZSkpcmV0dXJuITA7cmV0dXJuITF9LGkuYnJhY2VzPWkuYnJhY2VFeHBhbmQ9by5icmFjZXMsaS5jb250YWlucz1mdW5jdGlvbihlLHQsbil7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoZigiY29udGFpbnMiLCJwYXR0ZXJuIiwiYSBzdHJpbmciKSk7cmV0dXJuKG49bnx8e30pLmNvbnRhaW5zPSIiIT09dCxlPW8udW5peGlmeShlLG4pLG4uY29udGFpbnMmJiFvLmlzR2xvYih0KT8tMSE9PWUuaW5kZXhPZih0KTp1KHQsbikoZSl9LGkuZXhwYW5kPXIsaS5maWx0ZXI9ZnVuY3Rpb24oZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSYmInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoZigiZmlsdGVyIiwicGF0dGVybnMiLCJhIHN0cmluZyBvciBhcnJheSIpKTtmb3IodmFyIG49KGU9by5hcnJheWlmeShlKSkubGVuZ3RoLHI9MCxpPUFycmF5KG4pO3I8bjspaVtyXT11KGVbcisrXSx0KTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYobnVsbD09ZSlyZXR1cm5bXTt2YXIgbj1pLmxlbmd0aCxyPTAsYT0hMDtmb3IoZT1vLnVuaXhpZnkoZSx0KTtyPG47KWlmKCEoMCxpW3IrK10pKGUpKXthPSExO2JyZWFrfXJldHVybiBhfX0saS5pc01hdGNoPWZ1bmN0aW9uKGUsdCxuKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihmKCJpc01hdGNoIiwiZmlsZXBhdGgiLCJhIHN0cmluZyIpKTtyZXR1cm4gZT1vLnVuaXhpZnkoZSxuKSwib2JqZWN0Ij09PW8udHlwZU9mKHQpP3UoZSx0KTp1KHQsbikoZSl9LGkubWFrZVJlPXMsaS5tYXRjaD1hLGkubWF0Y2hlcj11LGkubWF0Y2hLZXlzPWZ1bmN0aW9uKGUsdCxuKXtpZigib2JqZWN0IiE9PW8udHlwZU9mKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoZigibWF0Y2hLZXlzIiwiZmlyc3QgYXJndW1lbnQiLCJhbiBvYmplY3QiKSk7dmFyIHI9dSh0LG4pLGk9e307Zm9yKHZhciBhIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShhKSYmcihhKSYmKGlbYV09ZVthXSk7cmV0dXJuIGl9LGUuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyB2YXIgcj1uKDE0MSksbz1uKDQ2MSk7ZnVuY3Rpb24gaShlLHQpe3ZhciBuPWUuc3BsaXQodCkscj0iIj09PW5bMF0sbz0iIj09PW5bbi5sZW5ndGgtMV07cmV0dXJuIG49bi5maWx0ZXIoQm9vbGVhbiksciYmbi51bnNoaWZ0KCIiKSxvJiZuLnB1c2goIiIpLG4uam9pbih0KX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigibWljcm9tYXRjaC5leHBhbmQoKTogYXJndW1lbnQgc2hvdWxkIGJlIGEgc3RyaW5nLiIpO3ZhciBuPW5ldyBvKGUsdHx8e30pLHM9bi5vcHRpb25zO2lmKCFyLmlzR2xvYihlKSlyZXR1cm4gbi5wYXR0ZXJuPW4ucGF0dGVybi5yZXBsYWNlKC8oW1wvLl0pL2csIlxcJDEiKSxuO24ucGF0dGVybj1uLnBhdHRlcm4ucmVwbGFjZSgvKFwrKSg/IVwoKS9nLCJcXCQxIiksbi5wYXR0ZXJuPW4ucGF0dGVybi5zcGxpdCgiJCIpLmpvaW4oIlxcJCIpLCJib29sZWFuIiE9dHlwZW9mIHMuYnJhY2VzJiYiYm9vbGVhbiIhPXR5cGVvZiBzLm5vYnJhY2VzJiYocy5icmFjZXM9ITApO2lmKCIuKiI9PT1uLnBhdHRlcm4pcmV0dXJue3BhdHRlcm46IlxcLiIrdSx0b2tlbnM6bCxvcHRpb25zOnN9O2lmKCIqIj09PW4ucGF0dGVybilyZXR1cm57cGF0dGVybjpwKHMuZG90KSx0b2tlbnM6bCxvcHRpb25zOnN9O24ucGFyc2UoKTt2YXIgbD1uLnRva2VucztsLmlzLm5lZ2F0ZWQ9cy5uZWdhdGVkLCEwIT09cy5kb3RmaWxlcyYmIWwuaXMuZG90ZmlsZXx8ITE9PT1zLmRvdHx8KHMuZG90ZmlsZXM9ITAscy5kb3Q9ITApOyEwIT09cy5kb3RkaXJzJiYhbC5pcy5kb3RkaXJ8fCExPT09cy5kb3R8fChzLmRvdGRpcnM9ITAscy5kb3Q9ITApOy9beyxdXC4vLnRlc3Qobi5wYXR0ZXJuKSYmKHMubWFrZVJlPSExLHMuZG90PSEwKTshMCE9PXMubm9uZWdhdGUmJihzLm5lZ2F0ZWQ9bi5uZWdhdGVkKTsiLiI9PT1uLnBhdHRlcm4uY2hhckF0KDApJiYiLyIhPT1uLnBhdHRlcm4uY2hhckF0KDEpJiYobi5wYXR0ZXJuPSJcXCIrbi5wYXR0ZXJuKTtuLnRyYWNrKCJiZWZvcmUgYnJhY2VzIiksbC5pcy5icmFjZXMmJm4uYnJhY2VzKCk7bi50cmFjaygiYWZ0ZXIgYnJhY2VzIiksbi50cmFjaygiYmVmb3JlIGV4dGdsb2IiKSxsLmlzLmV4dGdsb2ImJm4uZXh0Z2xvYigpO24udHJhY2soImFmdGVyIGV4dGdsb2IiKSxuLnRyYWNrKCJiZWZvcmUgYnJhY2tldHMiKSxsLmlzLmJyYWNrZXRzJiZuLmJyYWNrZXRzKCk7bi50cmFjaygiYWZ0ZXIgYnJhY2tldHMiKSxuLl9yZXBsYWNlKCJbISIsIlteIiksbi5fcmVwbGFjZSgiKD8iLCIoJX4iKSxuLl9yZXBsYWNlKC9cW1xdLywiXFxbXFxdIiksbi5fcmVwbGFjZSgiL1siLCIvIisocy5kb3Q/ZjpjKSsiWyIsITApLG4uX3JlcGxhY2UoIi8/IiwiLyIrKHMuZG90P2Y6YykrIlteL10iLCEwKSxuLl9yZXBsYWNlKCIvLiIsIi8oPz0uKVxcLiIsITApLG4uX3JlcGxhY2UoL14oXHcpOihbXFxcL10rPykvZ2ksIig/PS4pJDE6JDIiLCEwKSwtMSE9PW4ucGF0dGVybi5pbmRleE9mKCJbXiIpJiYobi5wYXR0ZXJuPW4ucGF0dGVybi5yZXBsYWNlKC9cW1xeKFteXF1dKj8pXF0vZyxmdW5jdGlvbihlLHQpe3JldHVybi0xPT09dC5pbmRleE9mKCIvIikmJih0PSJcXC8iK3QpLCJbXiIrdCsiXSJ9KSk7ITEhPT1zLmdsb2JzdGFyJiYiKioiPT09bi5wYXR0ZXJuP24ucGF0dGVybj1oKHMuZG90KToobi5wYXR0ZXJuPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLnNwbGl0KHQpLG89ci5qb2luKCIiKS5sZW5ndGgsaT1lLnNwbGl0KG4pLmpvaW4oIiIpLmxlbmd0aDtpZihvIT09aSlyZXR1cm4oZT1yLmpvaW4oIlxcIit0KSkuc3BsaXQobikuam9pbigiXFwiK24pO3JldHVybiBlfShuLnBhdHRlcm4sIlsiLCJdIiksbi5lc2NhcGUobi5wYXR0ZXJuKSxsLmlzLmdsb2JzdGFyJiYobi5wYXR0ZXJuPWkobi5wYXR0ZXJuLCIvKioiKSxuLnBhdHRlcm49aShuLnBhdHRlcm4sIioqLyIpLG4uX3JlcGxhY2UoIi8qKi8iLCIoPzovIitoKHMuZG90KSsiL3wvKSIsITApLG4uX3JlcGxhY2UoL1wqezIsfS9nLCIqKiIpLG4uX3JlcGxhY2UoLyhcdyspXCooPyFcLykvZywiJDFbXi9dKj8iLCEwKSxuLl9yZXBsYWNlKC9cKlwqXC9cKihcdykvZyxoKHMuZG90KSsiXFwvIisocy5kb3Q/ZjpjKSsiW14vXSo/JDEiLCEwKSwhMCE9PXMuZG90JiZuLl9yZXBsYWNlKC9cKlwqXC8oLikvZywiKD86KipcXC98KSQxIiksKCIiIT09bC5wYXRoLmRpcm5hbWV8fC8sXCpcKnxcKlwqLC8udGVzdChuLm9yaWcpKSYmbi5fcmVwbGFjZSgiKioiLGgocy5kb3QpLCEwKSksbi5fcmVwbGFjZSgvXC9cKiQvLCJcXC8iK3Aocy5kb3QpLCEwKSxuLl9yZXBsYWNlKC8oPyFcLylcKiQvLHUsITApLG4uX3JlcGxhY2UoLyhbXlwvXSspXCovLCIkMSIrcCghMCksITApLG4uX3JlcGxhY2UoIioiLHAocy5kb3QpLCEwKSxuLl9yZXBsYWNlKCI/LiIsIj9cXC4iLCEwKSxuLl9yZXBsYWNlKCI/OiIsIj86IiwhMCksbi5fcmVwbGFjZSgvXD8rL2csZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7cmV0dXJuIDE9PT10P2E6YSsieyIrdCsifSJ9KSxuLl9yZXBsYWNlKC9cLihbKlx3XSspL2csIlxcLiQxIiksbi5fcmVwbGFjZSgvXFtcXltcXFwvXStcXS9nLGEpLG4uX3JlcGxhY2UoL1wvKy9nLCJcXC8iKSxuLl9yZXBsYWNlKC9cXHsyLH0vZywiXFwiKSk7bi51bmVzY2FwZShuLnBhdHRlcm4pLG4uX3JlcGxhY2UoIl9fVU5FU0NfU1RBUl9fIiwiKiIpLG4uX3JlcGxhY2UoIj8uIiwiP1xcLiIpLG4uX3JlcGxhY2UoIlteXFwvXSIsYSksbi5wYXR0ZXJuLmxlbmd0aD4xJiYvXltcWz8qXS8udGVzdChuLnBhdHRlcm4pJiYobi5wYXR0ZXJuPShzLmRvdD9mOmMpK24ucGF0dGVybik7cmV0dXJuIG59O3ZhciBhPSJbXi9dIix1PWErIio/IixjPSIoPyFcXC4pKD89LikiLHM9Iig/OlxcL3xeKVxcLnsxLDJ9KCR8XFwvKSIsZj0iKD8hIitzKyIpKD89LikiLGw9Iig/Oig/ISIrcysiKS4pKj8iO2Z1bmN0aW9uIHAoZSl7cmV0dXJuIGU/Iig/ISIrcysiKSg/PS4pIit1OmMrdX1mdW5jdGlvbiBoKGUpe3JldHVybiBlP2w6Iig/Oig/ISg/OlxcL3xeKVxcLikuKSo/In19LGZ1bmN0aW9uKGUsdCl7IGUuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybi8oW15cXFwvXSspJC99fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyB2YXIgcj1uKDQyOSksbz1bXS5zbGljZTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9ZS5sZW5ndGgsYT0tMSx1PVtdO2lmKDE9PT1uKXJldHVybiBlO2ZvcihuPjImJih0PXIoby5jYWxsKGFyZ3VtZW50cywxKSkpOysrYTxpOyl+dC5pbmRleE9mKGVbYV0pfHx1LnB1c2goZVthXSk7cmV0dXJuIHV9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyBlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXt2YXIgcixvPTA7dmFyIGk9dC5sZW5ndGg7Zm9yKDtvPGk7bysrKXI9dFtvXSxBcnJheS5pc0FycmF5KHIpP2UocixuKTpuLnB1c2gocik7cmV0dXJuIG59KGUsW10pfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsgZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoImFycmF5LXVuaXF1ZSBleHBlY3RzIGFuIGFycmF5LiIpO2Zvcih2YXIgdD1lLmxlbmd0aCxuPS0xO24rKzx0Oylmb3IodmFyIHI9bisxO3I8ZS5sZW5ndGg7KytyKWVbbl09PT1lW3JdJiZlLnNwbGljZShyLS0sMSk7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyB2YXIgcixvLGk9big0MzIpLGE9bigyMjkpLHU9big0NDIpO2Z1bmN0aW9uIGMoZSx0LG4pe2lmKCIiPT09ZSlyZXR1cm5bXTtBcnJheS5pc0FycmF5KHQpfHwobj10LHQ9W10pO3ZhciBoPW58fHt9O3Q9dHx8W10sdm9pZCAwPT09aC5ub2R1cGVzJiYoaC5ub2R1cGVzPSEwKTt2YXIgZCx2PWguZm47c3dpdGNoKCJmdW5jdGlvbiI9PXR5cGVvZiBoJiYodj1oLGg9e30pLG8gaW5zdGFuY2VvZiBSZWdFeHB8fChvPS9cJHt8KCAoPz1beyx9XSl8KD89W3ssfV0pICl8e318eyx9fFxcLCg/PS4qW3t9XSl8XC9cLig/PS4qW3t9XSl8XFxcLig/PXspfFxce3xcXH0vKSwoZS5tYXRjaChvKXx8W10pWzBdKXtjYXNlIlxcLCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4vXHcsLy50ZXN0KGUpP3AoYyhlPWUuc3BsaXQoIlxcLCIpLmpvaW4oIl9fRVNDX0NPTU1BX18iKSx0LG4pLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KCJfX0VTQ19DT01NQV9fIikuam9pbigiLCIpfSk6dC5jb25jYXQoZS5zcGxpdCgiXFwiKS5qb2luKCIiKSl9KGUsdCxoKTtjYXNlIlxcLiI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4vW15cXF1cLi4rXFxcLi8udGVzdChlKT9wKGMoZT1lLnNwbGl0KCJcXC4iKS5qb2luKCJfX0VTQ19ET1RfXyIpLHQsbiksZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoIl9fRVNDX0RPVF9fIikuam9pbigiLiIpfSk6dC5jb25jYXQoZS5zcGxpdCgiXFwiKS5qb2luKCIiKSl9KGUsdCxoKTtjYXNlIi8uIjpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiBwKGMoZT1lLnNwbGl0KCIvLiIpLmpvaW4oIl9fRVNDX1BBVEhfXyIpLHQsbiksZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoIl9fRVNDX1BBVEhfXyIpLmpvaW4oIi8uIil9KX0oZSx0LGgpO2Nhc2UiICI6cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIiAiKSxuPXQubGVuZ3RoLHI9W10sbz0wO2Zvcig7bi0tOylyLnB1c2guYXBwbHkocixjKHRbbysrXSkpO3JldHVybiByfShlKTtjYXNlInssfSI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PW51bGwpO3ZhciByLG89dHx8e30saT0iX19FU0NfRVhQX18iLHU9MCxjPWUuc3BsaXQoInssfSIpO2lmKG8ubm9kdXBlcylyZXR1cm4gbihjLmpvaW4oIiIpLG8pO3U9Yy5sZW5ndGgtMTt2YXIgcz0ocj1uKGMuam9pbihpKSxvKSkubGVuZ3RoLGY9W10sbD0wO2Zvcig7cy0tOyl7dmFyIHA9cltsKytdLGg9cC5pbmRleE9mKGkpO2lmKC0xPT09aClmLnB1c2gocCk7ZWxzZSBpZigocD1wLnNwbGl0KCJfX0VTQ19FWFBfXyIpLmpvaW4oIiIpKSYmITEhPT1vLm5vZHVwZXMpZi5wdXNoKHApO2Vsc2V7dmFyIGQ9TWF0aC5wb3coMix1KTtmLnB1c2guYXBwbHkoZixhKHAsZCkpfX1yZXR1cm4gZn0oZSxoLGMpO2Nhc2Uie30iOnJldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuIGMoZS5zcGxpdCgie30iKS5qb2luKCJcXHtcXH0iKSx0LG4pfShlLHQsaCk7Y2FzZSJcXHsiOmNhc2UiXFx9IjpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybi9ce1tee10rXHsvLnRlc3QoZSk/cChjKGU9KGU9ZS5zcGxpdCgiXFx7Iikuam9pbigiX19MVF9CUkFDRV9fIikpLnNwbGl0KCJcXH0iKS5qb2luKCJfX1JUX0JSQUNFX18iKSx0LG4pLGZ1bmN0aW9uKGUpe3JldHVybihlPWUuc3BsaXQoIl9fTFRfQlJBQ0VfXyIpLmpvaW4oInsiKSkuc3BsaXQoIl9fUlRfQlJBQ0VfXyIpLmpvaW4oIn0iKX0pOnQuY29uY2F0KGUuc3BsaXQoIlxcIikuam9pbigiIikpfShlLHQsaCk7Y2FzZSIkeyI6aWYoIS9ce1tee10rXHsvLnRlc3QoZSkpcmV0dXJuIHQuY29uY2F0KGUpO2Q9ITAsZT11LmJlZm9yZShlLC9cJFx7KFtefV0rKVx9Lyl9ciBpbnN0YW5jZW9mIFJlZ0V4cHx8KHI9Ly4qKFxcP1x7KFtefV0rKVx9KS8pO3ZhciBnPXIuZXhlYyhlKTtpZihudWxsPT1nKXJldHVybltlXTt2YXIgeSxtLGI9Z1sxXSxfPWdbMl07aWYoIiI9PT1fKXJldHVybltlXTtpZigtMSE9PV8uaW5kZXhPZigiLi4iKSltPSh5PWkoXyxoLHYpfHxfLnNwbGl0KCIsIikpLmxlbmd0aDtlbHNle2lmKCciJz09PV9bMF18fCInIj09PV9bMF0pcmV0dXJuIHQuY29uY2F0KGUuc3BsaXQoL1snIl0vKS5qb2luKCIiKSk7aWYoeT1fLnNwbGl0KCIsIiksaC5tYWtlUmUpcmV0dXJuIGMoZS5yZXBsYWNlKGIscyh5LCJ8IikpLGgpOzE9PT0obT15Lmxlbmd0aCkmJmguYmFzaCYmKHlbMF09cyh5WzBdLCJcXCIpKX1mb3IodmFyIHcseD15Lmxlbmd0aCxFPTA7eC0tOyl7dmFyIGs9eVtFKytdO2lmKC8oXC5bXi5cL10pLy50ZXN0KGspKXJldHVybiBtPjE/eTpbZV07aWYodz1sKGUsYixrKSwvXHtbXnt9XSs/XH0vLnRlc3QodykpdD1jKHcsdCxoKTtlbHNlIGlmKCIiIT09dyl7aWYoaC5ub2R1cGVzJiYtMSE9PXQuaW5kZXhPZih3KSljb250aW51ZTt0LnB1c2goZD91LmFmdGVyKHcpOncpfX1yZXR1cm4gaC5zdHJpY3Q/ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybltdO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoImJyYWNlczogZmlsdGVyIGV4cGVjdHMgYSBjYWxsYmFjayBmdW5jdGlvbi4iKTt2YXIgbj1lLmxlbmd0aCxyPWUuc2xpY2UoKSxvPTA7Zm9yKDtuLS07KXQoZVtuXSxvKyspfHxyLnNwbGljZShuLDEpO3JldHVybiByfSh0LGYpOnR9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiJ8Ij09PXQ/IigiK2Uuam9pbih0KSsiKSI6IiwiPT09dD8ieyIrZS5qb2luKHQpKyJ9IjoiLSI9PT10PyJbIitlLmpvaW4odCkrIl0iOiJcXCI9PT10PyJcXHsiK2UrIlxcfSI6dm9pZCAwfWZ1bmN0aW9uIGYoZSl7cmV0dXJuISFlJiYiXFwiIT09ZX1mdW5jdGlvbiBsKGUsdCxuKXt2YXIgcj1lLmluZGV4T2YodCk7cmV0dXJuIGUuc3Vic3RyKDAscikrbitlLnN1YnN0cihyK3QubGVuZ3RoKX1mdW5jdGlvbiBwKGUsdCl7aWYobnVsbD09ZSlyZXR1cm5bXTtmb3IodmFyIG49ZS5sZW5ndGgscj1uZXcgQXJyYXkobiksbz0tMTsrK288bjspcltvXT10KGVbb10sbyxlKTtyZXR1cm4gcn1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJicmFjZXMgZXhwZWN0cyBhIHN0cmluZyIpO3JldHVybiBjKGUsdCl9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyB2YXIgcj1uKDQzMyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiZXhwYW5kLXJhbmdlIGV4cGVjdHMgYSBzdHJpbmcuIik7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD17fSksImJvb2xlYW4iPT10eXBlb2YgdCYmKCh0PXt9KS5tYWtlUmU9ITApO3ZhciBvPXR8fHt9LGk9ZS5zcGxpdCgiLi4iKSxhPWkubGVuZ3RoO3JldHVybiBhPjM/ZToxPT09YT9pOigiYm9vbGVhbiI9PXR5cGVvZiBuJiYhMD09PW4mJihvLm1ha2VSZT0hMCksaS5wdXNoKG8pLHIuYXBwbHkobnVsbCxpLmNvbmNhdChuKSkpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsgdmFyIHI9big0MzQpLG89big0MzUpLGk9big0MzcpLGE9big0NDEpLHU9bigyMjkpO2Z1bmN0aW9uIGMoZSx0LG4peyJ+Ij09PXQmJih0PSItIik7dmFyIHI9ZS5qb2luKHQpLG89biYmbi5yZWdleFByZWZpeDtyZXR1cm4ifCI9PT10JiYocj0iKCIrKHI9bz9vK3I6cikrIikiKSwiLSI9PT10JiYocj0iWyIrKHI9byYmIl4iPT09bz9vK3I6cikrIl0iKSxbcl19ZnVuY3Rpb24gcyhlLHQsbixyLG8pe3JldHVybiBmdW5jdGlvbihlLHQsbixyLG8pe3JldHVybiFvJiYocj9lPD05JiZ0PD05OmU8dCYmMT09PW4pfShlLHQsbixyLG8pPyJ+IjoifCJ9ZnVuY3Rpb24gZihlLHQpe3ZhciBuPXQ/dCtlOmU7cmV0dXJuIHQmJiItIj09PWUudG9TdHJpbmcoKS5jaGFyQXQoMCkmJihuPSItIit0K2UudG9TdHJpbmcoKS5zdWJzdHIoMSkpLG4udG9TdHJpbmcoKX1mdW5jdGlvbiBsKGUpe3JldHVybi9bYS16MC05XS9pLnRlc3QoZSl9ZnVuY3Rpb24gcChlKXtyZXR1cm4vW2Etel1bMC05XXxbMC05XVthLXpdL2kudGVzdChlKX1mdW5jdGlvbiBoKGUpe3JldHVybi9eLSowKyQvLnRlc3QoZS50b1N0cmluZygpKT8iMCI6ZX1mdW5jdGlvbiBkKGUpe3JldHVybi9bXi5dXC58Xi0qMCtbMC05XS8udGVzdChlKX1mdW5jdGlvbiB2KGUpe3JldHVybiBlLnRvU3RyaW5nKCkubGVuZ3RofWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixnLHkpe2lmKG51bGw9PWV8fG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKCJmaWxsLXJhbmdlIGV4cGVjdHMgdGhlIGZpcnN0IGFuZCBzZWNvbmQgYXJncyB0byBiZSBzdHJpbmdzLiIpOyJmdW5jdGlvbiI9PXR5cGVvZiBuJiYoeT1uLGc9e30sbj1udWxsKTsiZnVuY3Rpb24iPT10eXBlb2YgZyYmKHk9ZyxnPXt9KTtyKG4pJiYoZz1uLG49IiIpO3ZhciBtLGI9ITEsXz0iIix3PWd8fHt9O3ZvaWQgMD09PXcuc2lsZW50JiYody5zaWxlbnQ9ITApO249bnx8dy5zdGVwO3ZhciB4PWUsRT10O3Q9Ii0wIj09PXQudG9TdHJpbmcoKT8wOnQsKHcub3B0aW1pemV8fHcubWFrZVJlKSYmKG49bj9uKz0ifiI6bixtPSEwLGI9ITAsXz0ifiIpO2lmKCJzdHJpbmciPT10eXBlb2Ygbil7dmFyIGs9L1w/fD58XHx8XCt8XH4vZy5leGVjKG4pO2lmKGspe3ZhciBNPWsuaW5kZXgsTz1rWzBdO2lmKCIrIj09PU8pcmV0dXJuIHUoZSx0KTtpZigiPyI9PT1PKXJldHVybltpKGUsdCldOyI+Ij09PU8/KG49bi5zdWJzdHIoMCxNKStuLnN1YnN0cihNKzEpLG09ITApOiJ8Ij09PU8/KG49bi5zdWJzdHIoMCxNKStuLnN1YnN0cihNKzEpLG09ITAsYj0hMCxfPU8pOiJ+Ij09PU8mJihuPW4uc3Vic3RyKDAsTSkrbi5zdWJzdHIoTSsxKSxtPSEwLGI9ITAsXz1PKX1lbHNlIGlmKCFvKG4pKXtpZighdy5zaWxlbnQpdGhyb3cgbmV3IFR5cGVFcnJvcigiZmlsbC1yYW5nZTogaW52YWxpZCBzdGVwLiIpO3JldHVybiBudWxsfX1pZigvWy4mKigpW1xdXiUkI0AhXS8udGVzdChlKXx8L1suJiooKVtcXV4lJCNAIV0vLnRlc3QodCkpe2lmKCF3LnNpbGVudCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiZmlsbC1yYW5nZTogaW52YWxpZCByYW5nZSBhcmd1bWVudHMuIik7cmV0dXJuIG51bGx9aWYoIWwoZSl8fCFsKHQpfHxwKGUpfHxwKHQpKXtpZighdy5zaWxlbnQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoImZpbGwtcmFuZ2U6IGludmFsaWQgcmFuZ2UgYXJndW1lbnRzLiIpO3JldHVybiBudWxsfXZhciBqPW8oaChlKSksUz1vKGgodCkpO2lmKCFqJiZTfHxqJiYhUyl7aWYoIXcuc2lsZW50KXRocm93IG5ldyBUeXBlRXJyb3IoImZpbGwtcmFuZ2U6IGZpcnN0IHJhbmdlIGFyZ3VtZW50IGlzIGluY29tcGF0aWJsZSB3aXRoIHNlY29uZC4iKTtyZXR1cm4gbnVsbH12YXIgQT1qLFQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKGU+PjApfHwxfShuKTtBPyhlPStlLHQ9K3QpOihlPWUuY2hhckNvZGVBdCgwKSx0PXQuY2hhckNvZGVBdCgwKSk7dmFyIEM9ZT50OyhlPDB8fHQ8MCkmJihtPSExLGI9ITEpO3ZhciBQLFIsTD1mdW5jdGlvbihlLHQpe2lmKGQoZSl8fGQodCkpe3ZhciBuPXYoZSkscj12KHQpLG89bj49cj9uOnI7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBhKCIwIixvLXYoZSkpfX1yZXR1cm4hMX0oeCxFKSxOPVtdLEI9MDtpZihiJiZmdW5jdGlvbihlLHQsbixyLG8saSl7aWYociYmKGU+OXx8dD45KSlyZXR1cm4hMTtyZXR1cm4hbyYmMT09PW4mJmU8dH0oZSx0LFQsQSxMKSlyZXR1cm4ifCIhPT1fJiYifiIhPT1ffHwoXz1zKGUsdCxULEEsQykpLGMoW3gsRV0sXyx3KTtmb3IoO0M/ZT49dDplPD10OylMJiZBJiYoUj1MKGUpKSxudWxsIT09KFA9ImZ1bmN0aW9uIj09dHlwZW9mIHk/eShlLEEsUixCKyspOkE/ZihlLFIpOmImJihGPXZvaWQgMCwiXFwiPT09KEY9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZSl9KGUpKXx8IlsiPT09Rnx8Il0iPT09Rnx8Il4iPT09Rnx8IigiPT09Rnx8IikiPT09Rnx8ImAiPT09Rik/bnVsbDpTdHJpbmcuZnJvbUNoYXJDb2RlKGUpKSYmTi5wdXNoKFApLEM/ZS09VDplKz1UO3ZhciBGO2lmKChifHxtKSYmIXcubm9leHBhbmQpcmV0dXJuInwiIT09XyYmIn4iIT09X3x8KF89cyhlLHQsVCxBLEMpKSwxPT09Ti5sZW5ndGh8fGU8MHx8dDwwP046YyhOLF8sdyk7cmV0dXJuIE59fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyB2YXIgcj1uKDkwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJiJvYmplY3QiPT10eXBlb2YgZSYmITE9PT1yKGUpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsgdmFyIHI9bigyMjgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1yKGUpO2lmKCJudW1iZXIiIT09dCYmInN0cmluZyIhPT10KXJldHVybiExO3ZhciBuPStlO3JldHVybiBuLW4rMT49MCYmIiIhPT1lfX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3JldHVybiEhZS5jb25zdHJ1Y3RvciYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3IuaXNCdWZmZXImJmUuY29uc3RydWN0b3IuaXNCdWZmZXIoZSl9IGUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmKG4oZSl8fGZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLnJlYWRGbG9hdExFJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zbGljZSYmbihlLnNsaWNlKDAsMCkpfShlKXx8ISFlLl9pc0J1ZmZlcil9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyB2YXIgcj1uKDQzOCksbz1uKDQzOSksaT1uKDQ0MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcigicmFuZG9tYXRpYyBleHBlY3RzIGEgc3RyaW5nIG9yIG51bWJlci4iKTt2YXIgdT0hMTsxPT09YXJndW1lbnRzLmxlbmd0aCYmKCJzdHJpbmciPT10eXBlb2YgZT90PWUubGVuZ3RoOnIoZSkmJihuPXt9LHQ9ZSxlPSIqIikpOyJvYmplY3QiPT09byh0KSYmdC5oYXNPd25Qcm9wZXJ0eSgiY2hhcnMiKSYmKGU9KG49dCkuY2hhcnMsdD1lLmxlbmd0aCx1PSEwKTt2YXIgYz1ufHx7fSxzPSIiLGY9IiI7LTEhPT1lLmluZGV4T2YoIj8iKSYmKHMrPWMuY2hhcnMpOy0xIT09ZS5pbmRleE9mKCJhIikmJihzKz1hLmxvd2VyKTstMSE9PWUuaW5kZXhPZigiQSIpJiYocys9YS51cHBlcik7LTEhPT1lLmluZGV4T2YoIjAiKSYmKHMrPWEubnVtYmVyKTstMSE9PWUuaW5kZXhPZigiISIpJiYocys9YS5zcGVjaWFsKTstMSE9PWUuaW5kZXhPZigiKiIpJiYocys9YS5hbGwpO3UmJihzKz1lKTtpZihjLmV4Y2x1ZGUpe3ZhciBsPSJzdHJpbmciPT09byhjLmV4Y2x1ZGUpP2MuZXhjbHVkZTpjLmV4Y2x1ZGUuam9pbigiIik7bD1sLnJlcGxhY2UobmV3IFJlZ0V4cCgiW1xcXV0rIiwiZyIpLCIiKSxzPXMucmVwbGFjZShuZXcgUmVnRXhwKCJbIitsKyJdKyIsImciKSwiIiksLTEhPT1jLmV4Y2x1ZGUuaW5kZXhPZigiXSIpJiYocz1zLnJlcGxhY2UobmV3IFJlZ0V4cCgiW1xcXV0rIiwiZyIpLCIiKSl9Zm9yKDt0LS07KWYrPXMuY2hhckF0KHBhcnNlSW50KGkoKSpzLmxlbmd0aCwxMCkpO3JldHVybiBmfSxlLmV4cG9ydHMuaXNDcnlwdG89ISFpLmNyeXB0b2dyYXBoaWM7dmFyIGE9e2xvd2VyOiJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsdXBwZXI6IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIixudW1iZXI6IjAxMjM0NTY3ODkiLHNwZWNpYWw6In4hQCMkJV4mKClfKy09e31bXTsnLC4ifTthLmFsbD1hLmxvd2VyK2EudXBwZXIrYS5udW1iZXIrYS5zcGVjaWFsfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyBlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dHlwZW9mIGU7aWYoInN0cmluZyI9PT10fHxlIGluc3RhbmNlb2YgU3RyaW5nKXtpZighZS50cmltKCkpcmV0dXJuITF9ZWxzZSBpZigibnVtYmVyIiE9PXQmJiEoZSBpbnN0YW5jZW9mIE51bWJlcikpcmV0dXJuITE7cmV0dXJuIGUtZSsxPj0wfX0sZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5uYW1lOm51bGx9ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuInVuZGVmaW5lZCI7aWYobnVsbD09PWUpcmV0dXJuIm51bGwiO3ZhciB0PXR5cGVvZiBlO2lmKCJib29sZWFuIj09PXQpcmV0dXJuImJvb2xlYW4iO2lmKCJzdHJpbmciPT09dClyZXR1cm4ic3RyaW5nIjtpZigibnVtYmVyIj09PXQpcmV0dXJuIm51bWJlciI7aWYoInN5bWJvbCI9PT10KXJldHVybiJzeW1ib2wiO2lmKCJmdW5jdGlvbiI9PT10KXJldHVybiJHZW5lcmF0b3JGdW5jdGlvbiI9PT1yKGUpPyJnZW5lcmF0b3JmdW5jdGlvbiI6ImZ1bmN0aW9uIjtpZihmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheT9BcnJheS5pc0FycmF5KGUpOmUgaW5zdGFuY2VvZiBBcnJheX0oZSkpcmV0dXJuImFycmF5IjtpZihmdW5jdGlvbihlKXtpZihlLmNvbnN0cnVjdG9yJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlcilyZXR1cm4gZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihlKTtyZXR1cm4hMX0oZSkpcmV0dXJuImJ1ZmZlciI7aWYoZnVuY3Rpb24oZSl7dHJ5e2lmKCJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNhbGxlZSlyZXR1cm4hMH1jYXRjaChlKXtpZigtMSE9PWUubWVzc2FnZS5pbmRleE9mKCJjYWxsZWUiKSlyZXR1cm4hMH1yZXR1cm4hMX0oZSkpcmV0dXJuImFyZ3VtZW50cyI7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBEYXRlfHwiZnVuY3Rpb24iPT10eXBlb2YgZS50b0RhdGVTdHJpbmcmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldERhdGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnNldERhdGV9KGUpKXJldHVybiJkYXRlIjtpZihmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVycm9yfHwic3RyaW5nIj09dHlwZW9mIGUubWVzc2FnZSYmZS5jb25zdHJ1Y3RvciYmIm51bWJlciI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yLnN0YWNrVHJhY2VMaW1pdH0oZSkpcmV0dXJuImVycm9yIjtpZihmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFJlZ0V4cHx8InN0cmluZyI9PXR5cGVvZiBlLmZsYWdzJiYiYm9vbGVhbiI9PXR5cGVvZiBlLmlnbm9yZUNhc2UmJiJib29sZWFuIj09dHlwZW9mIGUubXVsdGlsaW5lJiYiYm9vbGVhbiI9PXR5cGVvZiBlLmdsb2JhbH0oZSkpcmV0dXJuInJlZ2V4cCI7c3dpdGNoKHIoZSkpe2Nhc2UiU3ltYm9sIjpyZXR1cm4ic3ltYm9sIjtjYXNlIlByb21pc2UiOnJldHVybiJwcm9taXNlIjtjYXNlIldlYWtNYXAiOnJldHVybiJ3ZWFrbWFwIjtjYXNlIldlYWtTZXQiOnJldHVybiJ3ZWFrc2V0IjtjYXNlIk1hcCI6cmV0dXJuIm1hcCI7Y2FzZSJTZXQiOnJldHVybiJzZXQiO2Nhc2UiSW50OEFycmF5IjpyZXR1cm4iaW50OGFycmF5IjtjYXNlIlVpbnQ4QXJyYXkiOnJldHVybiJ1aW50OGFycmF5IjtjYXNlIlVpbnQ4Q2xhbXBlZEFycmF5IjpyZXR1cm4idWludDhjbGFtcGVkYXJyYXkiO2Nhc2UiSW50MTZBcnJheSI6cmV0dXJuImludDE2YXJyYXkiO2Nhc2UiVWludDE2QXJyYXkiOnJldHVybiJ1aW50MTZhcnJheSI7Y2FzZSJJbnQzMkFycmF5IjpyZXR1cm4iaW50MzJhcnJheSI7Y2FzZSJVaW50MzJBcnJheSI6cmV0dXJuInVpbnQzMmFycmF5IjtjYXNlIkZsb2F0MzJBcnJheSI6cmV0dXJuImZsb2F0MzJhcnJheSI7Y2FzZSJGbG9hdDY0QXJyYXkiOnJldHVybiJmbG9hdDY0YXJyYXkifWlmKGZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLnRocm93JiYiZnVuY3Rpb24iPT10eXBlb2YgZS5yZXR1cm4mJiJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHR9KGUpKXJldHVybiJnZW5lcmF0b3IiO3N3aXRjaCh0PW4uY2FsbChlKSl7Y2FzZSJbb2JqZWN0IE9iamVjdF0iOnJldHVybiJvYmplY3QiO2Nhc2UiW29iamVjdCBNYXAgSXRlcmF0b3JdIjpyZXR1cm4ibWFwaXRlcmF0b3IiO2Nhc2UiW29iamVjdCBTZXQgSXRlcmF0b3JdIjpyZXR1cm4ic2V0aXRlcmF0b3IiO2Nhc2UiW29iamVjdCBTdHJpbmcgSXRlcmF0b3JdIjpyZXR1cm4ic3RyaW5naXRlcmF0b3IiO2Nhc2UiW29iamVjdCBBcnJheSBJdGVyYXRvcl0iOnJldHVybiJhcnJheWl0ZXJhdG9yIn1yZXR1cm4gdC5zbGljZSg4LC0xKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xzL2csIiIpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9IlVpbnQzMkFycmF5ImluIGUsbj1lLmNyeXB0b3x8ZS5tc0NyeXB0byxyPW4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuLmdldFJhbmRvbVZhbHVlcztpZighKHQmJnIpKXJldHVybiBNYXRoLnJhbmRvbTt2YXIgbz1uZXcgVWludDMyQXJyYXkoMSksaT1NYXRoLnBvdygyLDMyKTtmdW5jdGlvbiBhKCl7cmV0dXJuIG4uZ2V0UmFuZG9tVmFsdWVzKG8pLG9bMF0vaX1yZXR1cm4gYS5jcnlwdG9ncmFwaGljPSEwLGF9KCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOndpbmRvdyl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7IHZhciByLG89IiI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoImV4cGVjdGVkIGEgc3RyaW5nIik7aWYoMT09PXQpcmV0dXJuIGU7aWYoMj09PXQpcmV0dXJuIGUrZTt2YXIgbj1lLmxlbmd0aCp0O2lmKHIhPT1lfHx2b2lkIDA9PT1yKXI9ZSxvPSIiO2Vsc2UgaWYoby5sZW5ndGg+PW4pcmV0dXJuIG8uc3Vic3RyKDAsbik7Zm9yKDtuPm8ubGVuZ3RoJiZ0PjE7KTEmdCYmKG8rPWUpLHQ+Pj0xLGUrPWU7cmV0dXJuIG89KG8rPWUpLnN1YnN0cigwLG4pfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsgdC5iZWZvcmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZXBsYWNlKHQsZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5yYW5kb20oKS50b1N0cmluZygpLnNsaWNlKDIsNyk7cmV0dXJuIHJbdF09ZSwiX19JRCIrdCsiX18ifSl9LHQuYWZ0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvX19JRCguezV9KV9fL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gclt0XX0pfTt2YXIgcj17fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsgdmFyIHI9big0NDQpLG89e2FsbnVtOiJhLXpBLVowLTkiLGFscGhhOiJhLXpBLVoiLGJsYW5rOiIgXFx0IixjbnRybDoiXFx4MDAtXFx4MUZcXHg3RiIsZGlnaXQ6IjAtOSIsZ3JhcGg6IlxceDIxLVxceDdFIixsb3dlcjoiYS16IixwcmludDoiXFx4MjAtXFx4N0UiLHB1bmN0OiItIVwiIyQlJicoKVxcKissLi86Ozw9Pj9AW1xcXV5fYHt8fX4iLHNwYWNlOiIgXFx0XFxyXFxuXFx2XFxmIix1cHBlcjoiQS1aIix3b3JkOiJBLVphLXowLTlfIix4ZGlnaXQ6IkEtRmEtZjAtOSJ9O2Z1bmN0aW9uIGkoZSl7aWYoIXIoZSkpcmV0dXJuIGU7dmFyIHQ9ITE7LTEhPT1lLmluZGV4T2YoIlteIikmJih0PSEwLGU9ZS5zcGxpdCgiW14iKS5qb2luKCJbIikpLC0xIT09ZS5pbmRleE9mKCJbISIpJiYodD0hMCxlPWUuc3BsaXQoIlshIikuam9pbigiWyIpKTtmb3IodmFyIG49ZS5zcGxpdCgiWyIpLGk9ZS5zcGxpdCgiXSIpLGE9bi5sZW5ndGghPT1pLmxlbmd0aCx1PWUuc3BsaXQoLyg/OjpcXVxbOnxcWz9cWzp8OlxdXF0/KS8pLGM9dS5sZW5ndGgscz0wLGY9IiIsbD0iIixwPVtdO2MtLTspe3ZhciBoPXVbcysrXTsiXlshIiE9PWgmJiJbISIhPT1ofHwoaD0iIix0PSEwKTt2YXIgZD10PyJeIjoiIix2PW9baF07dj9wLnB1c2goIlsiK2QrdisiXSIpOmgmJigvXlxbP1x3LVx3XF0/JC8udGVzdChoKT9zPT09dS5sZW5ndGg/cC5wdXNoKCJbIitkK2gpOjE9PT1zP3AucHVzaChkK2grIl0iKTpwLnB1c2goZCtoKToxPT09cz9sKz1oOnM9PT11Lmxlbmd0aD9mKz1oOnAucHVzaCgiWyIrZCtoKyJdIikpfXZhciBnPXAuam9pbigifCIpLHk9cC5sZW5ndGh8fDE7cmV0dXJuIHk+MSYmKGc9Iig/OiIrZysiKSIseT0xKSxsJiYoeSsrLCJbIj09PWwuY2hhckF0KDApJiYoYT9sPSJcXFsiK2wuc2xpY2UoMSk6bCs9Il0iKSxnPWwrZyksZiYmKHkrKywiXSI9PT1mLnNsaWNlKC0xKSYmKGY9YT9mLnNsaWNlKDAsZi5sZW5ndGgtMSkrIlxcXSI6IlsiK2YpLGcrPWYpLHk+MSYmKC0xPT09KGc9Zy5zcGxpdCgiXVsiKS5qb2luKCJdfFsiKSkuaW5kZXhPZigifCIpfHwvXChcPy8udGVzdChnKXx8KGc9Iig/OiIrZysiKSIpKSxnPWcucmVwbGFjZSgvXFsrPXw9XF0rL2csIlxcYiIpfWUuZXhwb3J0cz1pLGkubWFrZVJlPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbmV3IFJlZ0V4cChpKGUpKX1jYXRjaChlKXt9fSxpLmlzTWF0Y2g9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGkubWFrZVJlKHQpLnRlc3QoZSl9Y2F0Y2goZSl7cmV0dXJuITF9fSxpLm1hdGNoPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9MCxvPWUuc2xpY2UoKSxhPWkubWFrZVJlKHQpO3I8bjspe3ZhciB1PWVbcisrXTthLnRlc3QodSkmJm8uc3BsaWNlKHIsMSl9cmV0dXJuIG99fSxmdW5jdGlvbihlLHQpeyBlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYvXFsoWzouPStdKSg/OlteXFtcXV18KStcMVxdLy50ZXN0KGUpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijsgbig0Mik7dmFyIHIsbz17fTtmdW5jdGlvbiBpKGUsdCxuKXtzd2l0Y2gobiYmKGU9YShlKSksdCl7Y2FzZSIhIjpyZXR1cm4iKD8hIitlKyIpW14vXSIrKG4/IiUlJX4iOiIqPyIpO2Nhc2UiQCI6cmV0dXJuIig/OiIrZSsiKSI7Y2FzZSIrIjpyZXR1cm4iKD86IitlKyIpKyI7Y2FzZSIqIjpyZXR1cm4iKD86IitlKyIpIisobj8iJSUiOiIqIik7Y2FzZSI/IjpyZXR1cm4iKD86IitlKyJ8KSI7ZGVmYXVsdDpyZXR1cm4gZX19ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT0oZT1lLnNwbGl0KCIqIikuam9pbigiW14vXSUlJX4iKSkuc3BsaXQoIi4iKS5qb2luKCJcXC4iKX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciBuLHU9e30sYz0wLHM9KGU9KGU9ZS5yZXBsYWNlKC8hXCgoW15cdyooKV0pL2csIiQxISgiKSkucmVwbGFjZSgvKFsqXC9dKVwuIVwoWypdXCkvZyxmdW5jdGlvbihlLHQpe3JldHVybiBhKCIvIj09PXQ/IlxcL1teLl0rIjoiW14uXSsiKX0pKStTdHJpbmcoISF0LnJlZ2V4KStTdHJpbmcoISF0LmNvbnRhaW5zKStTdHJpbmcoISF0LmVzY2FwZSk7aWYoby5oYXNPd25Qcm9wZXJ0eShzKSlyZXR1cm4gb1tzXTtyIGluc3RhbmNlb2YgUmVnRXhwfHwocj0vKFxcP1tAPyErKiRdXFw/KShcKChbXigpXSo/KVwpKS8pO3QubmVnYXRlPSExO2Zvcig7bj1yLmV4ZWMoZSk7KXt2YXIgZj1uWzFdLGw9blszXTsiISI9PT1mJiYodC5uZWdhdGU9ITApO3ZhciBwPSJfX0VYVEdMT0JfIitjKysrIl9fIjt1W3BdPWkobCxmLHQuZXNjYXBlKSxlPWUuc3BsaXQoblswXSkuam9pbihwKX12YXIgaD1PYmplY3Qua2V5cyh1KSxkPWgubGVuZ3RoO2Zvcig7ZC0tOyl7dmFyIHY9aFtkXTtlPWUuc3BsaXQodikuam9pbih1W3ZdKX12YXIgZz10LnJlZ2V4P2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj10PyJeIjoiIjtlPSIoPzoiK2UrIikiKyh0PyIkIjoiIiksbiYmKGU9cisoIig/IV4iK2UrIikuKiQiKSk7cmV0dXJuIG5ldyBSZWdFeHAocitlKX0oZSx0LmNvbnRhaW5zLHQubmVnYXRlKTplO3JldHVybiBnPWcuc3BsaXQoIi4iKS5qb2luKCJcXC4iKSxvW3NdPWd9fSxmdW5jdGlvbihlLHQsbil7IHZhciByPW4oNDIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJigvWyohP3t9KHwpW1xdXS8udGVzdChlKXx8cihlKSl9fSxmdW5jdGlvbihlLHQsbil7IHZhciByPW4oNDQ4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiZXhwZWN0ZWQgYSBzdHJpbmciKTtyZXR1cm4gZT1lLnJlcGxhY2UoL1tcXFwvXSsvZywiLyIpLCExIT09dCYmKGU9cihlKSksZX19LGZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7dmFyIG49IndpbjMyIj09PXQucGxhdGZvcm07ZnVuY3Rpb24gcihlLHQpe3ZhciByPWVbdF07cmV0dXJuIHQ+MCYmKCIvIj09PXJ8fG4mJiJcXCI9PT1yKX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGgtMTtpZih0PDIpcmV0dXJuIGU7Zm9yKDtyKGUsdCk7KXQtLTtyZXR1cm4gZS5zdWJzdHIoMCx0KzEpfX0pLmNhbGwodGhpcyxuKDQpKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsgdmFyIHI9big0NTApLG89big0NTEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFyKGUpKXJldHVybnt9O3ZhciBuLGk9KHQ9W10uY29uY2F0LmFwcGx5KFtdLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSlbdC5sZW5ndGgtMV0sYT17fTsiZnVuY3Rpb24iPT10eXBlb2YgaSYmKG49dC5wb3AoKSk7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIG47cmV0dXJuIHQubGVuZ3RofHx1PyhvKGUsZnVuY3Rpb24ocixvKXstMT09PXQuaW5kZXhPZihvKSYmKHU/bihyLG8sZSkmJihhW29dPXIpOmFbb109cil9KSxhKTplfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsgZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSl9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyB2YXIgcj1uKDQ1Miksbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7cihlLGZ1bmN0aW9uKHIsaSl7aWYoby5jYWxsKGUsaSkpcmV0dXJuIHQuY2FsbChuLGVbaV0saSxlKX0pfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsgZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIgaW4gZSlpZighMT09PXQuY2FsbChuLGVbcl0scixlKSlicmVha319LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7IHZhciByPW4oNDU0KSxvPW4oNDU1KSxpPW4oNDIpLGE9big0NTcpLHU9ZS5leHBvcnRzLmNhY2hlPXt9O2Z1bmN0aW9uIGMoZSx0LG4pe3JldHVybiBlJiYtMSE9PXQuaW5kZXhPZihuKX1mdW5jdGlvbiBzKGUpe3JldHVybiBlPShlPWUuc3BsaXQoIl9fU0xBU0hfXyIpLmpvaW4oIi8iKSkuc3BsaXQoIl9fRE9UX18iKS5qb2luKCIuIil9ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHUuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIHVbZV07dmFyIHQ9e307dC5vcmlnPWUsdC5pcz17fSxlPWUucmVwbGFjZSgvXHsoW157fV0qPyl9fFwoKFteKCldKj8pXCl8XFsoW15cW1xdXSo/KVxdL2csZnVuY3Rpb24oZSx0LG4scil7dmFyIG89dHx8bnx8cjtyZXR1cm4gbz9lLnNwbGl0KG8pLmpvaW4oZnVuY3Rpb24oZSl7cmV0dXJuIGU9KGU9ZS5zcGxpdCgiLyIpLmpvaW4oIl9fU0xBU0hfXyIpKS5zcGxpdCgiLiIpLmpvaW4oIl9fRE9UX18iKX0obykpOmV9KTt2YXIgbj1vKGUpO3QuaXMuZ2xvYj1uLmlzR2xvYix0Lmdsb2I9bi5nbG9iLHQuYmFzZT1uLmJhc2U7dmFyIGY9LyhbXlwvXSopJC8uZXhlYyhlKTt0LnBhdGg9e30sdC5wYXRoLmRpcm5hbWU9IiIsdC5wYXRoLmJhc2VuYW1lPWZbMV18fCIiLHQucGF0aC5kaXJuYW1lPWUuc3BsaXQodC5wYXRoLmJhc2VuYW1lKS5qb2luKCIiKXx8IiI7dmFyIGw9KHQucGF0aC5iYXNlbmFtZXx8IiIpLnNwbGl0KCIuIil8fCIiO3QucGF0aC5maWxlbmFtZT1sWzBdfHwiIix0LnBhdGguZXh0bmFtZT1sLnNsaWNlKDEpLmpvaW4oIi4iKXx8IiIsdC5wYXRoLmV4dD0iIixyKHQucGF0aC5kaXJuYW1lKSYmIXQucGF0aC5iYXNlbmFtZSYmKC9cLyQvLnRlc3QodC5nbG9iKXx8KHQucGF0aC5iYXNlbmFtZT10Lmdsb2IpLHQucGF0aC5kaXJuYW1lPXQuYmFzZSksLTEhPT1lLmluZGV4T2YoIi8iKXx8dC5pcy5nbG9ic3Rhcnx8KHQucGF0aC5kaXJuYW1lPSIiLHQucGF0aC5iYXNlbmFtZT10Lm9yaWcpO3ZhciBwPXQucGF0aC5iYXNlbmFtZS5pbmRleE9mKCIuIik7aWYoLTEhPT1wJiYodC5wYXRoLmZpbGVuYW1lPXQucGF0aC5iYXNlbmFtZS5zbGljZSgwLHApLHQucGF0aC5leHRuYW1lPXQucGF0aC5iYXNlbmFtZS5zbGljZShwKSksIi4iPT09dC5wYXRoLmV4dG5hbWUuY2hhckF0KDApKXt2YXIgaD10LnBhdGguZXh0bmFtZS5zcGxpdCgiLiIpO3QucGF0aC5leHQ9aFtoLmxlbmd0aC0xXX10Lmdsb2I9cyh0Lmdsb2IpLHQucGF0aC5kaXJuYW1lPXModC5wYXRoLmRpcm5hbWUpLHQucGF0aC5iYXNlbmFtZT1zKHQucGF0aC5iYXNlbmFtZSksdC5wYXRoLmZpbGVuYW1lPXModC5wYXRoLmZpbGVuYW1lKSx0LnBhdGguZXh0bmFtZT1zKHQucGF0aC5leHRuYW1lKTt2YXIgZD1lJiZ0LmlzLmdsb2I7cmV0dXJuIHQuaXMubmVnYXRlZD1lJiYiISI9PT1lLmNoYXJBdCgwKSx0LmlzLmV4dGdsb2I9ZSYmaShlKSx0LmlzLmJyYWNlcz1jKGQsZSwieyIpLHQuaXMuYnJhY2tldHM9YyhkLGUsIls6IiksdC5pcy5nbG9ic3Rhcj1jKGQsZSwiKioiKSx0LmlzLmRvdGZpbGU9YSh0LnBhdGguYmFzZW5hbWUpfHxhKHQucGF0aC5maWxlbmFtZSksdC5pcy5kb3RkaXI9ZnVuY3Rpb24oZSl7aWYoLTEhPT1lLmluZGV4T2YoIi8uIikpcmV0dXJuITA7aWYoIi4iPT09ZS5jaGFyQXQoMCkmJiIvIiE9PWUuY2hhckF0KDEpKXJldHVybiEwO3JldHVybiExfSh0LnBhdGguZGlybmFtZSksdVtlXT10fX0sZnVuY3Rpb24oZSx0LG4peyB2YXIgcj1uKDQyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoL1sqIT97fSh8KVtcXV0vLnRlc3QoZSl8fHIoZSkpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsgdmFyIHI9big1Nyksbz1uKDQ1NiksaT1uKDIzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJnbG9iLWJhc2UgZXhwZWN0cyBhIHN0cmluZy4iKTt2YXIgdCxuPXt9O3JldHVybiBuLmJhc2U9byhlKSxuLmlzR2xvYj1pKGUpLCIuIiE9PW4uYmFzZT8obi5nbG9iPWUuc3Vic3RyKG4uYmFzZS5sZW5ndGgpLCIvIj09PW4uZ2xvYi5jaGFyQXQoMCkmJihuLmdsb2I9bi5nbG9iLnN1YnN0cigxKSkpOm4uZ2xvYj1lLG4uaXNHbG9ifHwobi5iYXNlPSIvIj09PSh0PWUpLnNsaWNlKC0xKT90OnIuZGlybmFtZSh0KSxuLmdsb2I9Ii4iIT09bi5iYXNlP2Uuc3Vic3RyKG4uYmFzZS5sZW5ndGgpOmUpLCIuLyI9PT1uLmdsb2Iuc3Vic3RyKDAsMikmJihuLmdsb2I9bi5nbG9iLnN1YnN0cigyKSksIi8iPT09bi5nbG9iLmNoYXJBdCgwKSYmKG4uZ2xvYj1uLmdsb2Iuc3Vic3RyKDEpKSxufX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDU3KSxvPW4oMjMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZSs9ImEiO2Rve2U9ci5kaXJuYW1lKGUpfXdoaWxlKG8oZSkpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0KXsgZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKDQ2PT09ZS5jaGFyQ29kZUF0KDApJiYtMT09PWUuaW5kZXhPZigiLyIsMSkpcmV0dXJuITA7dmFyIHQ9ZS5sYXN0SW5kZXhPZigiLyIpO3JldHVybi0xIT09dCYmNDY9PT1lLmNoYXJDb2RlQXQodCsxKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7IHZhciByPW4oNDU5KSxvPXt9LGk9e307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYSx1LGM9Il9kZWZhdWx0XyI7aWYoIXQmJiFuKXJldHVybiJmdW5jdGlvbiIhPXR5cGVvZiBlP2U6b1tjXXx8KG9bY109ZSh0KSk7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZighbilyZXR1cm4gb1t0XXx8KG9bdF09ZSh0KSk7Yz10fWVsc2Ugbj10O2lmKCh1PWlbY10pJiZyKHUub3B0cyxuKSlyZXR1cm4gdS5yZWdleDtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2lbZV09e3JlZ2V4Om4sb3B0czp0fX0oYyxuLGE9ZSh0LG4pKSxhfSxlLmV4cG9ydHMuY2FjaGU9aSxlLmV4cG9ydHMuYmFzaWM9b30sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjsgdmFyIHI9big0NjApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFlJiYhdClyZXR1cm4hMDtpZighZSYmdHx8ZSYmIXQpcmV0dXJuITE7dmFyIG4sbz0wLGk9MDtmb3IobiBpbiB0KWlmKGkrKywhcih0W25dKXx8IWUuaGFzT3duUHJvcGVydHkobil8fGVbbl0hPT10W25dKXJldHVybiExO2ZvcihuIGluIGUpbysrO3JldHVybiBvPT09aX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7IGUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUmJiJvYmplY3QiIT10eXBlb2YgZX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big0NjIpLG89bigxNDEpLGk9ZS5leHBvcnRzPWZ1bmN0aW9uIGUodCxuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBlKSlyZXR1cm4gbmV3IGUodCxuKTt0aGlzLm9wdGlvbnM9bnx8e30sdGhpcy5wYXR0ZXJuPXQsdGhpcy5oaXN0b3J5PVtdLHRoaXMudG9rZW5zPXt9LHRoaXMuaW5pdCh0KX07aS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLm9yaWc9ZSx0aGlzLm5lZ2F0ZWQ9dGhpcy5pc05lZ2F0ZWQoKSx0aGlzLm9wdGlvbnMudHJhY2s9dGhpcy5vcHRpb25zLnRyYWNrfHwhMSx0aGlzLm9wdGlvbnMubWFrZVJlPSEwfSxpLnByb3RvdHlwZS50cmFjaz1mdW5jdGlvbihlKXt0aGlzLm9wdGlvbnMudHJhY2smJnRoaXMuaGlzdG9yeS5wdXNoKHttc2c6ZSxwYXR0ZXJuOnRoaXMucGF0dGVybn0pfSxpLnByb3RvdHlwZS5pc05lZ2F0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMzM9PT10aGlzLnBhdHRlcm4uY2hhckNvZGVBdCgwKSYmKHRoaXMucGF0dGVybj10aGlzLnBhdHRlcm4uc2xpY2UoMSksITApfSxpLnByb3RvdHlwZS5icmFjZXM9ZnVuY3Rpb24oKXtpZighMCE9PXRoaXMub3B0aW9ucy5ub2JyYWNlcyYmITAhPT10aGlzLm9wdGlvbnMubm9icmFjZSl7dmFyIGU9dGhpcy5wYXR0ZXJuLm1hdGNoKC9bXHtcKFxbXS9nKSx0PXRoaXMucGF0dGVybi5tYXRjaCgvW1x9XClcXV0vZyk7ZSYmdCYmZS5sZW5ndGghPT10Lmxlbmd0aCYmKHRoaXMub3B0aW9ucy5tYWtlUmU9ITEpO3ZhciBuPW8uYnJhY2VzKHRoaXMucGF0dGVybix0aGlzLm9wdGlvbnMpO3RoaXMucGF0dGVybj1uLmpvaW4oInwiKX19LGkucHJvdG90eXBlLmJyYWNrZXRzPWZ1bmN0aW9uKCl7ITAhPT10aGlzLm9wdGlvbnMubm9icmFja2V0cyYmKHRoaXMucGF0dGVybj1vLmJyYWNrZXRzKHRoaXMucGF0dGVybikpfSxpLnByb3RvdHlwZS5leHRnbG9iPWZ1bmN0aW9uKCl7ITAhPT10aGlzLm9wdGlvbnMubm9leHRnbG9iJiZvLmlzRXh0Z2xvYih0aGlzLnBhdHRlcm4pJiYodGhpcy5wYXR0ZXJuPW8uZXh0Z2xvYih0aGlzLnBhdHRlcm4se2VzY2FwZTohMH0pKX0saS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9rZW5zPW8ucGFyc2VHbG9iKGV8fHRoaXMucGF0dGVybiwhMCksdGhpcy50b2tlbnN9LGkucHJvdG90eXBlLl9yZXBsYWNlPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnRyYWNrKCdiZWZvcmUgKGZpbmQpOiAiJytlKyciIChyZXBsYWNlIHdpdGgpOiAiJyt0KyciJyksbiYmKHQ9dC5zcGxpdCgiPyIpLmpvaW4oIiV+Iikuc3BsaXQoIioiKS5qb2luKCIlJSIpKSx0aGlzLnBhdHRlcm49ZSYmdCYmInN0cmluZyI9PXR5cGVvZiBlP3RoaXMucGF0dGVybi5zcGxpdChlKS5qb2luKHQpOnRoaXMucGF0dGVybi5yZXBsYWNlKGUsdCksdGhpcy50cmFjaygiYWZ0ZXIiKX0saS5wcm90b3R5cGUuZXNjYXBlPWZ1bmN0aW9uKGUpe3RoaXMudHJhY2soImJlZm9yZSBlc2NhcGU6ICIpO3RoaXMucGF0dGVybj1lLnJlcGxhY2UoL1siXFxdKFsnIl0/W14iJ1xcXVsnIl0/KS9nLGZ1bmN0aW9uKGUsdCl7dmFyIG49ci5FU0Msbz1uJiZuW3RdO3JldHVybiBvfHwoL1thLXpdL2kudGVzdChlKT9lLnNwbGl0KCJcXCIpLmpvaW4oIiIpOmUpfSksdGhpcy50cmFjaygiYWZ0ZXIgZXNjYXBlOiAiKX0saS5wcm90b3R5cGUudW5lc2NhcGU9ZnVuY3Rpb24oZSl7dGhpcy5wYXR0ZXJuPWUucmVwbGFjZSgvX18oW0EtWl0rKV8oW0EtWl0rKV9fL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gclt0XVtlXX0pLHRoaXMucGF0dGVybj1mdW5jdGlvbihlKXtyZXR1cm4gZT0oZT1lLnNwbGl0KCIlfiIpLmpvaW4oIj8iKSkuc3BsaXQoIiUlIikuam9pbigiKiIpfSh0aGlzLnBhdHRlcm4pfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixvLGk9e307ZnVuY3Rpb24gYShlLHQpe3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoZnVuY3Rpb24obixyKXt2YXIgbz10P3QrcjpyO3JldHVybiBuW2Vbcl1dPW8sbn0se30pfWkuZXNjYXBlUmVnZXg9eyI/IjovXD8vZywiQCI6L1xAL2csIiEiOi9cIS9nLCIrIjovXCsvZywiKiI6L1wqL2csIigiOi9cKC9nLCIpIjovXCkvZywiWyI6L1xbL2csIl0iOi9cXS9nfSxpLkVTQz17Ij8iOiJfX1VORVNDX1FNUktfXyIsIkAiOiJfX1VORVNDX0FNUEVfXyIsIiEiOiJfX1VORVNDX0VYQ0xfXyIsIisiOiJfX1VORVNDX1BMVVNfXyIsIioiOiJfX1VORVNDX1NUQVJfXyIsIiwiOiJfX1VORVNDX0NPTU1BX18iLCIoIjoiX19VTkVTQ19MVFBBUkVOX18iLCIpIjoiX19VTkVTQ19SVFBBUkVOX18iLCJbIjoiX19VTkVTQ19MVEJSQUNLX18iLCJdIjoiX19VTkVTQ19SVEJSQUNLX18ifSxpLlVORVNDPXJ8fChyPWEoaS5FU0MsIlxcIikpLGkuRVNDX1RFTVA9eyI/IjoiX19URU1QX1FNUktfXyIsIkAiOiJfX1RFTVBfQU1QRV9fIiwiISI6Il9fVEVNUF9FWENMX18iLCIqIjoiX19URU1QX1NUQVJfXyIsIisiOiJfX1RFTVBfUExVU19fIiwiLCI6Il9fVEVNUF9DT01NQV9fIiwiKCI6Il9fVEVNUF9MVFBBUkVOX18iLCIpIjoiX19URU1QX1JUUEFSRU5fXyIsIlsiOiJfX1RFTVBfTFRCUkFDS19fIiwiXSI6Il9fVEVNUF9SVEJSQUNLX18ifSxpLlRFTVA9b3x8KG89YShpLkVTQ19URU1QKSksZS5leHBvcnRzPWl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PS9eXFxcXFw/XFwvLnRlc3QoZSksbj0vW15ceDAwLVx4ODBdKy8udGVzdChlKTtyZXR1cm4gdHx8bj9lOmUucmVwbGFjZSgvXFwvZywiLyIpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1mKG4oOSkpLG89ZihuKDg1KSksaT1mKG4oNDY1KSksYT1mKG4oMTM0KSksdT1mKG4oMTM1KSksYz1mKG4oNDApKSxzPWYobigxMzMpKTtmdW5jdGlvbiBmKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgbD1uKDU4KSxwPWwuZXF1YWxzLGg9bC5mbk5hbWVGb3IsZD1sLmhhc1Byb3BlcnR5LHY9bC5pc0EsZz1sLmlzVW5kZWZpbmVkLHk9ZnVuY3Rpb24gZSgpeygwLHMuZGVmYXVsdCkodGhpcyxlKSx0aGlzLiQkdHlwZW9mPSgwLGMuZGVmYXVsdCkoImplc3QuYXN5bW1ldHJpY01hdGNoZXIiKX0sbT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpeygwLHMuZGVmYXVsdCkodGhpcyx0KTt2YXIgbj0oMCxhLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMpKTtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBUeXBlRXJyb3IoImFueSgpIGV4cGVjdHMgdG8gYmUgcGFzc2VkIGEgY29uc3RydWN0b3IgZnVuY3Rpb24uIFBsZWFzZSBwYXNzIG9uZSBvciB1c2UgYW55dGhpbmcoKSB0byBtYXRjaCBhbnkgb2JqZWN0LiIpO3JldHVybiBuLnNhbXBsZT1lLG59cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLGkuZGVmYXVsdCkodCxbe2tleToiYXN5bW1ldHJpY01hdGNoIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zYW1wbGU9PVN0cmluZz8ic3RyaW5nIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBTdHJpbmc6dGhpcy5zYW1wbGU9PU51bWJlcj8ibnVtYmVyIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBOdW1iZXI6dGhpcy5zYW1wbGU9PUZ1bmN0aW9uPyJmdW5jdGlvbiI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgRnVuY3Rpb246dGhpcy5zYW1wbGU9PU9iamVjdD8ib2JqZWN0Ij09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsci5kZWZhdWx0KShlKSk6dGhpcy5zYW1wbGU9PUJvb2xlYW4/ImJvb2xlYW4iPT10eXBlb2YgZTplIGluc3RhbmNlb2YgdGhpcy5zYW1wbGV9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iQW55In19LHtrZXk6ImdldEV4cGVjdGVkVHlwZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGU9PVN0cmluZz8ic3RyaW5nIjp0aGlzLnNhbXBsZT09TnVtYmVyPyJudW1iZXIiOnRoaXMuc2FtcGxlPT1GdW5jdGlvbj8iZnVuY3Rpb24iOnRoaXMuc2FtcGxlPT1PYmplY3Q/Im9iamVjdCI6dGhpcy5zYW1wbGU9PUJvb2xlYW4/ImJvb2xlYW4iOmgodGhpcy5zYW1wbGUpfX0se2tleToidG9Bc3ltbWV0cmljTWF0Y2hlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iQW55PCIraCh0aGlzLnNhbXBsZSkrIj4ifX1dKSx0fSh5KSxiPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMsdCksKDAsYS5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KSh0KSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4oMCx1LmRlZmF1bHQpKHQsZSksKDAsaS5kZWZhdWx0KSh0LFt7a2V5OiJhc3ltbWV0cmljTWF0Y2giLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiFnKGUpJiZudWxsIT09ZX19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJBbnl0aGluZyJ9fSx7a2V5OiJ0b0FzeW1tZXRyaWNNYXRjaGVyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJBbnl0aGluZyJ9fV0pLHR9KHkpLF89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXsoMCxzLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsYS5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzKSk7cmV0dXJuIG4uc2FtcGxlPWUsbn1yZXR1cm4oMCx1LmRlZmF1bHQpKHQsZSksKDAsaS5kZWZhdWx0KSh0LFt7a2V5OiJhc3ltbWV0cmljTWF0Y2giLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFBcnJheS5pc0FycmF5KHRoaXMuc2FtcGxlKSl0aHJvdyBuZXcgRXJyb3IoIllvdSBtdXN0IHByb3ZpZGUgYW4gYXJyYXkgdG8gQXJyYXlDb250YWluaW5nLCBub3QgJyIrKDAsci5kZWZhdWx0KSh0aGlzLnNhbXBsZSkrIicuIik7cmV0dXJuIDA9PT10aGlzLnNhbXBsZS5sZW5ndGh8fEFycmF5LmlzQXJyYXkoZSkmJnRoaXMuc2FtcGxlLmV2ZXJ5KGZ1bmN0aW9uKHQpe3JldHVybiBlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHAodCxlKX0pfSl9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iQXJyYXlDb250YWluaW5nIn19LHtrZXk6ImdldEV4cGVjdGVkVHlwZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iYXJyYXkifX1dKSx0fSh5KSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7KDAscy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBuPSgwLGEuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkodCkpLmNhbGwodGhpcykpO3JldHVybiBuLnNhbXBsZT1lLG59cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLGkuZGVmYXVsdCkodCxbe2tleToiYXN5bW1ldHJpY01hdGNoIix2YWx1ZTpmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PSgwLHIuZGVmYXVsdCkodGhpcy5zYW1wbGUpKXRocm93IG5ldyBFcnJvcigiWW91IG11c3QgcHJvdmlkZSBhbiBvYmplY3QgdG8gT2JqZWN0Q29udGFpbmluZywgbm90ICciKygwLHIuZGVmYXVsdCkodGhpcy5zYW1wbGUpKyInLiIpO2Zvcih2YXIgdCBpbiB0aGlzLnNhbXBsZSlpZighZChlLHQpfHwhcCh0aGlzLnNhbXBsZVt0XSxlW3RdKSlyZXR1cm4hMTtyZXR1cm4hMH19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJPYmplY3RDb250YWluaW5nIn19LHtrZXk6ImdldEV4cGVjdGVkVHlwZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4ib2JqZWN0In19XSksdH0oeSkseD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpeygwLHMuZGVmYXVsdCkodGhpcyx0KTt2YXIgbj0oMCxhLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMpKTtpZighdigiU3RyaW5nIixlKSl0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIGlzIG5vdCBhIHN0cmluZyIpO3JldHVybiBuLnNhbXBsZT1lLG59cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLGkuZGVmYXVsdCkodCxbe2tleToiYXN5bW1ldHJpY01hdGNoIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pbmNsdWRlcyh0aGlzLnNhbXBsZSl9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iU3RyaW5nQ29udGFpbmluZyJ9fSx7a2V5OiJnZXRFeHBlY3RlZFR5cGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuInN0cmluZyJ9fV0pLHR9KHkpLEU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXsoMCxzLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsYS5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzKSk7aWYoIXYoIlN0cmluZyIsZSkmJiF2KCJSZWdFeHAiLGUpKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgaXMgbm90IGEgU3RyaW5nIG9yIGEgUmVnRXhwIik7cmV0dXJuIG4uc2FtcGxlPW5ldyBSZWdFeHAoZSksbn1yZXR1cm4oMCx1LmRlZmF1bHQpKHQsZSksKDAsaS5kZWZhdWx0KSh0LFt7a2V5OiJhc3ltbWV0cmljTWF0Y2giLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNhbXBsZS50ZXN0KGUpfX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIlN0cmluZ01hdGNoaW5nIn19LHtrZXk6ImdldEV4cGVjdGVkVHlwZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4ic3RyaW5nIn19XSksdH0oeSk7ZS5leHBvcnRzPXthbnk6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBtKGUpfSxhbnl0aGluZzpmdW5jdGlvbigpe3JldHVybiBuZXcgYn0sYXJyYXlDb250YWluaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgXyhlKX0sb2JqZWN0Q29udGFpbmluZzpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHcoZSl9LHN0cmluZ0NvbnRhaW5pbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB4KGUpfSxzdHJpbmdNYXRjaGluZzpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEUoZSl9fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIHIsbz1uKDIxMCksaT0ocj1vKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dC5kZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksKDAsaS5kZWZhdWx0KShlLHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24odCxuLHIpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLHImJmUodCxyKSx0fX0oKX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByO3dpbmRvdyxyPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBvPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQscil7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmIm9iamVjdCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJiJzdHJpbmciIT10eXBlb2YgZSlmb3IodmFyIG8gaW4gZSluLmQocixvLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsbykpO3JldHVybiByfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LCJhIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD0iIixuKG4ucz0iLi9wYWNrYWdlcy9qZXN0LW1vY2svc3JjL2luZGV4LnRzIil9KHsiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2pzIjogZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybihyPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIG87bz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtvPW98fG5ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKGUpeyJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93PyJ1bmRlZmluZWQiOnIod2luZG93KSkmJihvPXdpbmRvdyl9ZS5leHBvcnRzPW99LCIuL3BhY2thZ2VzL2plc3QtbW9jay9zcmMvaW5kZXgudHMiOiBmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyhmdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUpe3JldHVybihuPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXZhciBvPS9bXHMhLVwvOi1AXFstYHstfl0vLGk9bmV3IFJlZ0V4cChvLnNvdXJjZSwiZyIpLGE9bmV3IFNldChbImFyZ3VtZW50cyIsImF3YWl0IiwiYnJlYWsiLCJjYXNlIiwiY2F0Y2giLCJjbGFzcyIsImNvbnN0IiwiY29udGludWUiLCJkZWJ1Z2dlciIsImRlZmF1bHQiLCJkZWxldGUiLCJkbyIsImVsc2UiLCJlbnVtIiwiZXZhbCIsImV4cG9ydCIsImV4dGVuZHMiLCJmYWxzZSIsImZpbmFsbHkiLCJmb3IiLCJmdW5jdGlvbiIsImlmIiwiaW1wbGVtZW50cyIsImltcG9ydCIsImluIiwiaW5zdGFuY2VvZiIsImludGVyZmFjZSIsImxldCIsIm5ldyIsIm51bGwiLCJwYWNrYWdlIiwicHJpdmF0ZSIsInByb3RlY3RlZCIsInB1YmxpYyIsInJldHVybiIsInN0YXRpYyIsInN1cGVyIiwic3dpdGNoIiwidGhpcyIsInRocm93IiwidHJ1ZSIsInRyeSIsInR5cGVvZiIsInZhciIsInZvaWQiLCJ3aGlsZSIsIndpdGgiLCJ5aWVsZCJdKTtmdW5jdGlvbiB1KGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KGUpLnNsaWNlKDgsLTEpfWZ1bmN0aW9uIGMoZSx0KXtpZigiYXJndW1lbnRzIj09PXR8fCJjYWxsZXIiPT09dHx8ImNhbGxlZSI9PT10fHwibmFtZSI9PT10fHwibGVuZ3RoIj09PXQpe3ZhciBuPXUoZSk7cmV0dXJuIkZ1bmN0aW9uIj09PW58fCJBc3luY0Z1bmN0aW9uIj09PW58fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT1ufXJldHVybigic291cmNlIj09PXR8fCJnbG9iYWwiPT09dHx8Imlnbm9yZUNhc2UiPT09dHx8Im11bHRpbGluZSI9PT10KSYmIlJlZ0V4cCI9PT11KGUpfXZhciBzPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsZSksdGhpcy5fZW52aXJvbm1lbnRHbG9iYWw9dCx0aGlzLl9tb2NrU3RhdGU9bmV3IFdlYWtNYXAsdGhpcy5fbW9ja0NvbmZpZ1JlZ2lzdHJ5PW5ldyBXZWFrTWFwLHRoaXMuX3NweVN0YXRlPW5ldyBTZXQsdGhpcy5Nb2R1bGVNb2NrZXI9ZSx0aGlzLl9pbnZvY2F0aW9uQ2FsbENvdW50ZXI9MX12YXIgdCxzLGY7cmV0dXJuIHQ9ZSwocz1be2tleToiX2dldFNsb3RzIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSlyZXR1cm5bXTtmb3IodmFyIHQ9bmV3IFNldCxuPXRoaXMuX2Vudmlyb25tZW50T2JqZWN0LnByb3RvdHlwZSxyPXRoaXMuX2Vudmlyb25tZW50RnVuY3Rpb24ucHJvdG90eXBlLG89dGhpcy5fZW52aXJvbm1lbnRSZWdFeHAucHJvdG90eXBlLGk9T2JqZWN0LnByb3RvdHlwZSxhPUZ1bmN0aW9uLnByb3RvdHlwZSx1PVJlZ0V4cC5wcm90b3R5cGU7bnVsbCE9ZSYmZSE9PW4mJmUhPT1yJiZlIT09byYmZSE9PWkmJmUhPT1hJiZlIT09dTspe2Zvcih2YXIgcz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxmPTA7ZjxzLmxlbmd0aDtmKyspe3ZhciBsPXNbZl07aWYoIWMoZSxsKSl7dmFyIHA9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGwpOyh2b2lkIDAhPT1wJiYhcC5nZXR8fGUuX19lc01vZHVsZSkmJnQuYWRkKGwpfX1lPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX1yZXR1cm4gQXJyYXkuZnJvbSh0KX19LHtrZXk6Il9lbnN1cmVNb2NrQ29uZmlnIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tb2NrQ29uZmlnUmVnaXN0cnkuZ2V0KGUpO3JldHVybiB0fHwodD10aGlzLl9kZWZhdWx0TW9ja0NvbmZpZygpLHRoaXMuX21vY2tDb25maWdSZWdpc3RyeS5zZXQoZSx0KSksdH19LHtrZXk6Il9lbnN1cmVNb2NrU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX21vY2tTdGF0ZS5nZXQoZSk7cmV0dXJuIHR8fCh0PXRoaXMuX2RlZmF1bHRNb2NrU3RhdGUoKSx0aGlzLl9tb2NrU3RhdGUuc2V0KGUsdCkpLHR9fSx7a2V5OiJfZGVmYXVsdE1vY2tDb25maWciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue2RlZmF1bHRSZXR1cm5WYWx1ZTp2b2lkIDAsaXNSZXR1cm5WYWx1ZUxhc3RTZXQ6ITEsbW9ja0ltcGw6dm9pZCAwLG1vY2tOYW1lOiJqZXN0LmZuKCkiLHNwZWNpZmljTW9ja0ltcGxzOltdLHNwZWNpZmljUmV0dXJuVmFsdWVzOltdfX19LHtrZXk6Il9kZWZhdWx0TW9ja1N0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntjYWxsczpbXSxpbnN0YW5jZXM6W10saW52b2NhdGlvbkNhbGxPcmRlcjpbXSxyZXN1bHRzOltdfX19LHtrZXk6Il9tYWtlQ29tcG9uZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7aWYoIm9iamVjdCI9PT1lLnR5cGUpcmV0dXJuIG5ldyB0aGlzLl9lbnZpcm9ubWVudE9iamVjdDtpZigiYXJyYXkiPT09ZS50eXBlKXJldHVybiBuZXcgdGhpcy5fZW52aXJvbm1lbnRBcnJheTtpZigicmVnZXhwIj09PWUudHlwZSlyZXR1cm4gbmV3IHRoaXMuX2Vudmlyb25tZW50UmVnRXhwKCIiKTtpZigiY29uc3RhbnQiPT09ZS50eXBlfHwiY29sbGVjdGlvbiI9PT1lLnR5cGV8fCJudWxsIj09PWUudHlwZXx8InVuZGVmaW5lZCI9PT1lLnR5cGUpcmV0dXJuIGUudmFsdWU7aWYoImZ1bmN0aW9uIj09PWUudHlwZSl7dmFyIHI9ZS5tZW1iZXJzJiZlLm1lbWJlcnMucHJvdG90eXBlJiZlLm1lbWJlcnMucHJvdG90eXBlLm1lbWJlcnN8fHt9LG89dGhpcy5fZ2V0U2xvdHMociksaT10aGlzLGE9ZnVuY3Rpb24oZSx0KXt2YXIgbjtzd2l0Y2godCl7Y2FzZSAxOm49ZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTticmVhaztjYXNlIDI6bj1mdW5jdGlvbih0LG4pe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07YnJlYWs7Y2FzZSAzOm49ZnVuY3Rpb24odCxuLHIpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07YnJlYWs7Y2FzZSA0Om49ZnVuY3Rpb24odCxuLHIsbyl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTticmVhaztjYXNlIDU6bj1mdW5jdGlvbih0LG4scixvLGkpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07YnJlYWs7Y2FzZSA2Om49ZnVuY3Rpb24odCxuLHIsbyxpLGEpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07YnJlYWs7Y2FzZSA3Om49ZnVuY3Rpb24odCxuLHIsbyxpLGEsdSl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTticmVhaztjYXNlIDg6bj1mdW5jdGlvbih0LG4scixvLGksYSx1LGMpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07YnJlYWs7Y2FzZSA5Om49ZnVuY3Rpb24odCxuLHIsbyxpLGEsdSxjLHMpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07YnJlYWs7ZGVmYXVsdDpuPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1yZXR1cm4gbn0oZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PWFyZ3VtZW50cyxuPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkobiksYz0wO2M8bjtjKyspYVtjXT1hcmd1bWVudHNbY107dmFyIHM9aS5fZW5zdXJlTW9ja1N0YXRlKHUpLGY9aS5fZW5zdXJlTW9ja0NvbmZpZyh1KTtzLmluc3RhbmNlcy5wdXNoKHRoaXMpLHMuY2FsbHMucHVzaChhKTt2YXIgbCxwLGg9e3R5cGU6ImluY29tcGxldGUiLHZhbHVlOnZvaWQgMH07cy5yZXN1bHRzLnB1c2goaCkscy5pbnZvY2F0aW9uQ2FsbE9yZGVyLnB1c2goaS5faW52b2NhdGlvbkNhbGxDb3VudGVyKyspO3ZhciBkPSExO3RyeXtsPWZ1bmN0aW9uKCl7aWYoZSBpbnN0YW5jZW9mIHUpe28uZm9yRWFjaChmdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iPT09clt0XS50eXBlKXt2YXIgbj1lW3RdO2VbdF09aS5nZW5lcmF0ZUZyb21NZXRhZGF0YShyW3RdKSxlW3RdLl9wcm90b0ltcGw9bn19KTt2YXIgbj1mLnNwZWNpZmljTW9ja0ltcGxzLmxlbmd0aD9mLnNwZWNpZmljTW9ja0ltcGxzLnNoaWZ0KCk6Zi5tb2NrSW1wbDtyZXR1cm4gbiYmbi5hcHBseShlLHQpfXZhciBhLGM9Zi5kZWZhdWx0UmV0dXJuVmFsdWU7cmV0dXJuIGYuc3BlY2lmaWNSZXR1cm5WYWx1ZXMubGVuZ3RoP2Yuc3BlY2lmaWNSZXR1cm5WYWx1ZXMuc2hpZnQoKTpmLmlzUmV0dXJuVmFsdWVMYXN0U2V0P2YuZGVmYXVsdFJldHVyblZhbHVlOnZvaWQgMD09PWMmJih2b2lkIDA9PT0oYT1mLnNwZWNpZmljTW9ja0ltcGxzLnNoaWZ0KCkpJiYoYT1mLm1vY2tJbXBsKSxhKT9hLmFwcGx5KGUsdCk6dm9pZCAwPT09YyYmdS5fcHJvdG9JbXBsP3UuX3Byb3RvSW1wbC5hcHBseShlLHQpOmN9KCl9Y2F0Y2goZSl7dGhyb3cgcD1lLGQ9ITAsZX1maW5hbGx5e2gudHlwZT1kPyJ0aHJvdyI6InJldHVybiIsaC52YWx1ZT1kP3A6bH1yZXR1cm4gbH0sZS5sZW5ndGh8fDApLHU9dGhpcy5fY3JlYXRlTW9ja0Z1bmN0aW9uKGUsYSk7cmV0dXJuIHUuX2lzTW9ja0Z1bmN0aW9uPSEwLHUuZ2V0TW9ja0ltcGxlbWVudGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG4uX2Vuc3VyZU1vY2tDb25maWcodSkubW9ja0ltcGx9LCJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0aGlzLl9zcHlTdGF0ZS5hZGQodCksdGhpcy5fbW9ja1N0YXRlLnNldCh1LHRoaXMuX2RlZmF1bHRNb2NrU3RhdGUoKSksdGhpcy5fbW9ja0NvbmZpZ1JlZ2lzdHJ5LnNldCh1LHRoaXMuX2RlZmF1bHRNb2NrQ29uZmlnKCkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LCJtb2NrIix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uX2Vuc3VyZU1vY2tTdGF0ZSh1KX0sc2V0OmZ1bmN0aW9uKGUpe3JldHVybiBuLl9tb2NrU3RhdGUuc2V0KHUsZSl9fSksdS5tb2NrQ2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gbi5fbW9ja1N0YXRlLmRlbGV0ZSh1KSx1fSx1Lm1vY2tSZXNldD1mdW5jdGlvbigpe3JldHVybiB1Lm1vY2tDbGVhcigpLG4uX21vY2tDb25maWdSZWdpc3RyeS5kZWxldGUodSksdX0sdS5tb2NrUmVzdG9yZT1mdW5jdGlvbigpe3JldHVybiB1Lm1vY2tSZXNldCgpLHQ/dCgpOnZvaWQgMH0sdS5tb2NrUmV0dXJuVmFsdWVPbmNlPWZ1bmN0aW9uKGUpe3JldHVybiBuLl9lbnN1cmVNb2NrQ29uZmlnKHUpLnNwZWNpZmljUmV0dXJuVmFsdWVzLnB1c2goZSksdX0sdS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHUubW9ja0ltcGxlbWVudGF0aW9uT25jZShmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoZSl9KX0sdS5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHUubW9ja0ltcGxlbWVudGF0aW9uT25jZShmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChlKX0pfSx1Lm1vY2tSZXR1cm5WYWx1ZT1mdW5jdGlvbihlKXt2YXIgdD1uLl9lbnN1cmVNb2NrQ29uZmlnKHUpO3JldHVybiB0LmlzUmV0dXJuVmFsdWVMYXN0U2V0PSEwLHQuZGVmYXVsdFJldHVyblZhbHVlPWUsdX0sdS5tb2NrUmVzb2x2ZWRWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdS5tb2NrSW1wbGVtZW50YXRpb24oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpfSl9LHUubW9ja1JlamVjdGVkVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHUubW9ja0ltcGxlbWVudGF0aW9uKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfSl9LHUubW9ja0ltcGxlbWVudGF0aW9uT25jZT1mdW5jdGlvbihlKXt2YXIgdD1uLl9lbnN1cmVNb2NrQ29uZmlnKHUpO3JldHVybiB0LmlzUmV0dXJuVmFsdWVMYXN0U2V0PSExLHQuc3BlY2lmaWNNb2NrSW1wbHMucHVzaChlKSx1fSx1Lm1vY2tJbXBsZW1lbnRhdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1uLl9lbnN1cmVNb2NrQ29uZmlnKHUpO3JldHVybiB0LmlzUmV0dXJuVmFsdWVMYXN0U2V0PSExLHQuZGVmYXVsdFJldHVyblZhbHVlPXZvaWQgMCx0Lm1vY2tJbXBsPWUsdX0sdS5tb2NrUmV0dXJuVGhpcz1mdW5jdGlvbigpe3JldHVybiB1Lm1vY2tJbXBsZW1lbnRhdGlvbihmdW5jdGlvbigpe3JldHVybiB0aGlzfSl9LHUubW9ja05hbWU9ZnVuY3Rpb24oZSl7ZSYmKG4uX2Vuc3VyZU1vY2tDb25maWcodSkubW9ja05hbWU9ZSk7cmV0dXJuIHV9LHUuZ2V0TW9ja05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5fZW5zdXJlTW9ja0NvbmZpZyh1KS5tb2NrTmFtZXx8Implc3QuZm4oKSJ9LGUubW9ja0ltcGwmJnUubW9ja0ltcGxlbWVudGF0aW9uKGUubW9ja0ltcGwpLHV9dmFyIGM9ZS50eXBlfHwidW5kZWZpbmVkIHR5cGUiO3Rocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIHR5cGUgIitjKX19LHtrZXk6Il9jcmVhdGVNb2NrRnVuY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5uYW1lO2lmKCFuKXJldHVybiB0O3ZhciByPSIiO2lmKG4mJm4uc3RhcnRzV2l0aCgiYm91bmQgIikpZG97bj1uLnN1YnN0cmluZygiYm91bmQgIi5sZW5ndGgpLHI9Ii5iaW5kKG51bGwpIn13aGlsZShuJiZuLnN0YXJ0c1dpdGgoImJvdW5kICIpKTtpZigibW9ja0NvbnN0cnVjdG9yIj09PW4pcmV0dXJuIHQ7KGEuaGFzKG4pfHwvXlxkLy50ZXN0KG4pKSYmKG49IiQiK24pLG8udGVzdChuKSYmKG49bi5yZXBsYWNlKGksIiQiKSk7dmFyIHU9InJldHVybiBmdW5jdGlvbiAiK24rIigpIHtyZXR1cm4gbW9ja0NvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9IityO3JldHVybiBuZXcgdGhpcy5fZW52aXJvbm1lbnRGdW5jdGlvbigibW9ja0NvbnN0cnVjdG9yIix1KSh0KX19LHtrZXk6Il9nZW5lcmF0ZU1vY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzLGk9dGhpcy5fbWFrZUNvbXBvbmVudChlKTtyZXR1cm4gbnVsbCE9ZS5yZWZJRCYmKHJbZS5yZWZJRF09aSksdGhpcy5fZ2V0U2xvdHMoZS5tZW1iZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBhLHU9ZS5tZW1iZXJzJiZlLm1lbWJlcnNbbl18fHt9O251bGwhPXUucmVmP3QucHVzaCgoYT11LnJlZixmdW5jdGlvbigpe3JldHVybiBpW25dPXJbYV19KSk6aVtuXT1vLl9nZW5lcmF0ZU1vY2sodSx0LHIpfSksInVuZGVmaW5lZCIhPT1lLnR5cGUmJiJudWxsIiE9PWUudHlwZSYmaS5wcm90b3R5cGUmJiJvYmplY3QiPT09bihpLnByb3RvdHlwZSkmJihpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pKSxpfX0se2tleToiZ2VuZXJhdGVGcm9tTWV0YWRhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49dGhpcy5fZ2VuZXJhdGVNb2NrKGUsdCx7fSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSksbn19LHtrZXk6ImdldE1ldGFkYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj10fHxuZXcgTWFwLG89ci5nZXQoZSk7aWYobnVsbCE9bylyZXR1cm57cmVmOm99O3ZhciBpPWZ1bmN0aW9uKGUpe3ZhciB0PXUoZSk7cmV0dXJuIkZ1bmN0aW9uIj09PXR8fCJBc3luY0Z1bmN0aW9uIj09PXR8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT10PyJmdW5jdGlvbiI6QXJyYXkuaXNBcnJheShlKT8iYXJyYXkiOiJPYmplY3QiPT09dD8ib2JqZWN0IjoiTnVtYmVyIj09PXR8fCJTdHJpbmciPT09dHx8IkJvb2xlYW4iPT09dHx8IlN5bWJvbCI9PT10PyJjb25zdGFudCI6Ik1hcCI9PT10fHwiV2Vha01hcCI9PT10fHwiU2V0Ij09PXQ/ImNvbGxlY3Rpb24iOiJSZWdFeHAiPT09dD8icmVnZXhwIjp2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOm51bGw9PT1lPyJudWxsIjpudWxsfShlKTtpZighaSlyZXR1cm4gbnVsbDt2YXIgYT17dHlwZTppfTtpZigiY29uc3RhbnQiPT09aXx8ImNvbGxlY3Rpb24iPT09aXx8InVuZGVmaW5lZCI9PT1pfHwibnVsbCI9PT1pKXJldHVybiBhLnZhbHVlPWUsYTsiZnVuY3Rpb24iPT09aSYmKGEubmFtZT1lLm5hbWUsITA9PT1lLl9pc01vY2tGdW5jdGlvbiYmKGEubW9ja0ltcGw9ZS5nZXRNb2NrSW1wbGVtZW50YXRpb24oKSkpLGEucmVmSUQ9ci5zaXplLHIuc2V0KGUsYS5yZWZJRCk7dmFyIGM9bnVsbDtyZXR1cm4iYXJyYXkiIT09aSYmdGhpcy5fZ2V0U2xvdHMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT09aXx8ITAhPT1lLl9pc01vY2tGdW5jdGlvbnx8IXQubWF0Y2goL15tb2NrLykpe3ZhciBvPW4uZ2V0TWV0YWRhdGEoZVt0XSxyKTtvJiYoY3x8KGM9e30pLGNbdF09byl9fSksYyYmKGEubWVtYmVycz1jKSxhfX0se2tleToiaXNNb2NrRnVuY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEhZSYmITA9PT1lLl9pc01vY2tGdW5jdGlvbn19LHtrZXk6ImZuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lP2UubGVuZ3RoOjAsbj10aGlzLl9tYWtlQ29tcG9uZW50KHtsZW5ndGg6dCx0eXBlOiJmdW5jdGlvbiJ9KTtyZXR1cm4gZSYmbi5tb2NrSW1wbGVtZW50YXRpb24oZSksbn19LHtrZXk6InNweU9uIix2YWx1ZTpmdW5jdGlvbihlLHQscil7aWYocilyZXR1cm4gdGhpcy5fc3B5T25Qcm9wZXJ0eShlLHQscik7aWYoIm9iamVjdCIhPT1uKGUpJiYiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBzcHlPbiBvbiBhIHByaW1pdGl2ZSB2YWx1ZTsgIit0aGlzLl90eXBlT2YoZSkrIiBnaXZlbiIpO3ZhciBvPWVbdF07aWYoIXRoaXMuaXNNb2NrRnVuY3Rpb24obykpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBvKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHNweSB0aGUgIit0KyIgcHJvcGVydHkgYmVjYXVzZSBpdCBpcyBub3QgYSBmdW5jdGlvbjsgIit0aGlzLl90eXBlT2YobykrIiBnaXZlbiBpbnN0ZWFkIik7ZVt0XT10aGlzLl9tYWtlQ29tcG9uZW50KHt0eXBlOiJmdW5jdGlvbiJ9LGZ1bmN0aW9uKCl7ZVt0XT1vfSksZVt0XS5tb2NrSW1wbGVtZW50YXRpb24oZnVuY3Rpb24oKXtyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1yZXR1cm4gZVt0XX19LHtrZXk6Il9zcHlPblByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToiZ2V0IjtpZigib2JqZWN0IiE9PW4oZSkmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHNweU9uIG9uIGEgcHJpbWl0aXZlIHZhbHVlOyAiK3RoaXMuX3R5cGVPZihlKSsiIGdpdmVuIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJzcHlPbiBjb3VsZCBub3QgZmluZCBhbiBvYmplY3QgdG8gc3B5IHVwb24gZm9yICIrdCk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJObyBwcm9wZXJ0eSBuYW1lIHN1cHBsaWVkIik7Zm9yKHZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KSxpPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTshbyYmbnVsbCE9PWk7KW89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpLGk9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKCFvKXRocm93IG5ldyBFcnJvcih0KyIgcHJvcGVydHkgZG9lcyBub3QgZXhpc3QiKTtpZighby5jb25maWd1cmFibGUpdGhyb3cgbmV3IEVycm9yKHQrIiBpcyBub3QgZGVjbGFyZWQgY29uZmlndXJhYmxlIik7aWYoIW9bcl0pdGhyb3cgbmV3IEVycm9yKCJQcm9wZXJ0eSAiK3QrIiBkb2VzIG5vdCBoYXZlIGFjY2VzcyB0eXBlICIrcik7dmFyIGE9b1tyXTtpZighdGhpcy5pc01vY2tGdW5jdGlvbihhKSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGEpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgc3B5IHRoZSAiK3QrIiBwcm9wZXJ0eSBiZWNhdXNlIGl0IGlzIG5vdCBhIGZ1bmN0aW9uOyAiK3RoaXMuX3R5cGVPZihhKSsiIGdpdmVuIGluc3RlYWQiKTtvW3JdPXRoaXMuX21ha2VDb21wb25lbnQoe3R5cGU6ImZ1bmN0aW9uIn0sZnVuY3Rpb24oKXtvW3JdPWEsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxvKX0pLG9bcl0ubW9ja0ltcGxlbWVudGF0aW9uKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsbyksb1tyXX19LHtrZXk6ImNsZWFyQWxsTW9ja3MiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbW9ja1N0YXRlPW5ldyBXZWFrTWFwfX0se2tleToicmVzZXRBbGxNb2NrcyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9tb2NrQ29uZmlnUmVnaXN0cnk9bmV3IFdlYWtNYXAsdGhpcy5fbW9ja1N0YXRlPW5ldyBXZWFrTWFwfX0se2tleToicmVzdG9yZUFsbE1vY2tzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3NweVN0YXRlLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pLHRoaXMuX3NweVN0YXRlPW5ldyBTZXR9fSx7a2V5OiJfdHlwZU9mIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIitlOm4oZSl9fV0pJiZyKHQucHJvdG90eXBlLHMpLGYmJnIodCxmKSxlfSgpKSh0KTtlLmV4cG9ydHM9c30pLmNhbGwodGhpcyxuKC8qISAuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vanMgKi8iLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2pzIikpfX0pfSxlLmV4cG9ydHM9cigpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1uKDU5KSxvPW4oNDMpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGZ1bmN0aW9uIHIobyxpKXt0cnl7dmFyIGE9dFtvXShpKSx1PWEudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1pZighYS5kb25lKXJldHVybiBQcm9taXNlLnJlc29sdmUodSkudGhlbihmdW5jdGlvbihlKXtyKCJuZXh0IixlKX0sZnVuY3Rpb24oZSl7cigidGhyb3ciLGUpfSk7ZSh1KX0oIm5leHQiKX0pfX1jb25zdCBhPSh1PWkoZnVuY3Rpb24qKCl7Y29uc3QgZT0oMCxyLmdldFN0YXRlKSgpLnJvb3REZXNjcmliZUJsb2NrO3JldHVybigwLHIuZGlzcGF0Y2gpKHtuYW1lOiJydW5fc3RhcnQifSkseWllbGQgYyhlKSwoMCxyLmRpc3BhdGNoKSh7bmFtZToicnVuX2ZpbmlzaCJ9KSwoMCxvLm1ha2VUZXN0UmVzdWx0cykoKDAsci5nZXRTdGF0ZSkoKS5yb290RGVzY3JpYmVCbG9jayl9KSxmdW5jdGlvbigpe3JldHVybiB1LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO3ZhciB1O2NvbnN0IGM9KHM9aShmdW5jdGlvbiooZSl7KDAsci5kaXNwYXRjaCkoe2Rlc2NyaWJlQmxvY2s6ZSxuYW1lOiJydW5fZGVzY3JpYmVfc3RhcnQifSk7dmFyIHQ9KDAsby5nZXRBbGxIb29rc0ZvckRlc2NyaWJlKShlKTtjb25zdCBuPXQuYmVmb3JlQWxsLGk9dC5hZnRlckFsbDtmb3IoY29uc3QgZSBvZiBuKXAoZSk7Zm9yKGNvbnN0IHQgb2YgZS50ZXN0cyl5aWVsZCBmKHQpO2Zvcihjb25zdCB0IG9mIGUuY2hpbGRyZW4peWllbGQgYyh0KTtmb3IoY29uc3QgZSBvZiBpKXAoZSk7KDAsci5kaXNwYXRjaCkoe2Rlc2NyaWJlQmxvY2s6ZSxuYW1lOiJydW5fZGVzY3JpYmVfZmluaXNoIn0pfSksZnVuY3Rpb24oZSl7cmV0dXJuIHMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7dmFyIHM7Y29uc3QgZj0obD1pKGZ1bmN0aW9uKihlKXtjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCk7aWYoInNraXAiPT09ZS5tb2RlfHwoMCxyLmdldFN0YXRlKSgpLmhhc0ZvY3VzZWRUZXN0cyYmIm9ubHkiIT09ZS5tb2RlKXJldHVybiB2b2lkKDAsci5kaXNwYXRjaCkoe25hbWU6InRlc3Rfc2tpcCIsdGVzdDplfSk7dmFyIG49KDAsby5nZXRFYWNoSG9va3NGb3JUZXN0KShlKTtjb25zdCBpPW4uYWZ0ZXJFYWNoLGE9bi5iZWZvcmVFYWNoO2Zvcihjb25zdCBlIG9mIGEpeWllbGQgcChlLHQpO3lpZWxkIGgoZSx0KTtmb3IoY29uc3QgZSBvZiBpKXlpZWxkIHAoZSx0KX0pLGZ1bmN0aW9uKGUpe3JldHVybiBsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO3ZhciBsO2NvbnN0IHA9KGUsdCk9PnsoMCxyLmRpc3BhdGNoKSh7aG9vazplLG5hbWU6Imhvb2tfc3RhcnQifSk7Y29uc3Qgbj0oMCxyLmdldFN0YXRlKSgpLnRlc3RUaW1lb3V0O3JldHVybigwLG8uY2FsbEFzeW5jRm4pKGUuZm4sdCx7aXNIb29rOiEwLHRpbWVvdXQ6bn0pLnRoZW4oKCk9PigwLHIuZGlzcGF0Y2gpKHtob29rOmUsbmFtZToiaG9va19zdWNjZXNzIn0pKS5jYXRjaCh0PT4oMCxyLmRpc3BhdGNoKSh7ZXJyb3I6dCxob29rOmUsbmFtZToiaG9va19mYWlsdXJlIn0pKX0saD0oZD1pKGZ1bmN0aW9uKihlLHQpeygwLHIuZGlzcGF0Y2gpKHtuYW1lOiJ0ZXN0X3N0YXJ0Iix0ZXN0OmV9KTtjb25zdCBuPSgwLHIuZ2V0U3RhdGUpKCkudGVzdFRpbWVvdXQ7aWYoIWUuZm4pdGhyb3cgRXJyb3IoIlRlc3RzIHdpdGggbm8gJ2ZuJyBzaG91bGQgaGF2ZSAnbW9kZScgc2V0IHRvICdza2lwcGVkJyIpO3JldHVybigwLG8uY2FsbEFzeW5jRm4pKGUuZm4sdCx7aXNIb29rOiExLHRpbWVvdXQ6bn0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4oMCxyLmRpc3BhdGNoKSh7bmFtZToidGVzdF9zdWNjZXNzIix0ZXN0OmV9KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe3JldHVybigwLHIuZGlzcGF0Y2gpKHtlcnJvcjp0LG5hbWU6InRlc3RfZmFpbHVyZSIsdGVzdDplfSl9KX0pLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7dmFyIGQ7dC5kZWZhdWx0PWF9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1OSk7Y29uc3Qgbz0oZSx0KT0+aSh0LGUpO28ub25seT0oZSx0KT0+aSh0LGUsIm9ubHkiKSxvLnNraXA9KGUsdCk9PmkodCxlLCJza2lwIik7Y29uc3QgaT0oZSx0LG4pPT57KDAsci5kaXNwYXRjaCkoe2Jsb2NrTmFtZTp0LG1vZGU6bixuYW1lOiJzdGFydF9kZXNjcmliZV9kZWZpbml0aW9uIn0pLGUoKSwoMCxyLmRpc3BhdGNoKSh7bmFtZToiZmluaXNoX2Rlc2NyaWJlX2RlZmluaXRpb24ifSl9LGE9KGUsdCk9PigwLHIuZGlzcGF0Y2gpKHtmbjplLGhvb2tUeXBlOnQsbmFtZToiYWRkX2hvb2sifSksdT0oZSx0KT0+KDAsci5kaXNwYXRjaCkoe2ZuOnQsbmFtZToiYWRkX3Rlc3QiLHRlc3ROYW1lOmV9KSxjPXU7dS5za2lwPShlLHQpPT4oMCxyLmRpc3BhdGNoKSh7Zm46dCxtb2RlOiJza2lwIixuYW1lOiJhZGRfdGVzdCIsdGVzdE5hbWU6ZX0pLHUub25seT0oZSx0KT0+KDAsci5kaXNwYXRjaCkoe2ZuOnQsbW9kZToib25seSIsbmFtZToiYWRkX3Rlc3QiLHRlc3ROYW1lOmV9KSxlLmV4cG9ydHM9e2FmdGVyQWxsOmU9PmEoZSwiYWZ0ZXJBbGwiKSxhZnRlckVhY2g6ZT0+YShlLCJhZnRlckVhY2giKSxiZWZvcmVBbGw6ZT0+YShlLCJiZWZvcmVBbGwiKSxiZWZvcmVFYWNoOmU9PmEoZSwiYmVmb3JlRWFjaCIpLGRlc2NyaWJlOm8saXQ6Yyx0ZXN0OnV9fV0pfSk7CgovLyBDT0RFIEJZIExSVVNTTy5DT00KdmFyIHRlc3RzUmVzdWx0ID0gW10KdmFyIHRlc3RzUGFzc2VkID0gMAp2YXIgdGVzdHNGYWlsZWQgPSAwCnZhciB0ZXN0c1Bhc3NlZFN1aXRlcyA9IG5ldyBTZXQoKQp2YXIgdGVzdHNGYWlsZWRTdWl0ZXMgPSBuZXcgU2V0KCkKCmFzeW5jIGZ1bmN0aW9uIG1haW4oKSB7CiAgd2luZG93Lmplc3RMaXRlLmNvcmUuYWRkRXZlbnRIYW5kbGVyKGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKGV2ZW50Lm5hbWUgPT09ICJ0ZXN0X3N1Y2Nlc3MiIHx8IGV2ZW50Lm5hbWUgPT09ICJ0ZXN0X2ZhaWx1cmUiKSB7CiAgICAgIGNvbnN0IG5ld1Rlc3RSZXN1bHQgPQogICAgICAgIGV2ZW50LnRlc3Quc3RhdHVzICsgZXZlbnQudGVzdC5wYXJlbnQubmFtZSArIGV2ZW50LnRlc3QubmFtZQogICAgICBpZiAoIXRlc3RzUmVzdWx0LmluY2x1ZGVzKG5ld1Rlc3RSZXN1bHQpKSB7CiAgICAgICAgdGVzdHNSZXN1bHQucHVzaChuZXdUZXN0UmVzdWx0KQoKICAgICAgICBjb25zdCB0ZXN0UGFzc2VkID0gZXZlbnQudGVzdC5zdGF0dXMgPT09ICJwYXNzIgogICAgICAgIGNvbnN0IHRlc3ROYW1lID0gZXZlbnQudGVzdC5wYXJlbnQubmFtZQogICAgICAgIGNvbnN0IHRlc3RTY2VuYXJpbyA9IGV2ZW50LnRlc3QubmFtZQoKICAgICAgICBpZiAodGVzdFBhc3NlZCkgewogICAgICAgICAgdGVzdHNQYXNzZWQgPSB0ZXN0c1Bhc3NlZCArIDEKCiAgICAgICAgICB0ZXN0c1Bhc3NlZFN1aXRlcy5hZGQodGVzdE5hbWUpCgogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICAgIlx4MWJbNDJtXHgxYlszODsyOzI1NTsyNTU7MjU1bSBQQVNTIFx4MWJbMG0iLAogICAgICAgICAgICAiXHgxYlszODsyOzE2ODsxNjg7MTY4bSIgKyB0ZXN0TmFtZSArICJceDFiWzBtIiwKICAgICAgICAgICAgdGVzdFNjZW5hcmlvCiAgICAgICAgICApCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRlc3RzRmFpbGVkID0gdGVzdHNGYWlsZWQgKyAxCgogICAgICAgICAgdGVzdHNGYWlsZWRTdWl0ZXMuYWRkKHRlc3ROYW1lKQoKICAgICAgICAgIGNvbnN0IHRlc3RFcnJvciA9IGV2ZW50LnRlc3QuZXJyb3JzWzBdLm1lc3NhZ2Uuc3BsaXQoIlxuIikKCiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICAgICAiXHgxYls0MW1ceDFiWzM4OzI7MjU1OzI1NTsyNTVtIEZBSUwgXHgxYlswbSIsCiAgICAgICAgICAgICJceDFiWzM4OzI7MTY4OzE2ODsxNjhtIiArIHRlc3ROYW1lICsgIlx4MWJbMG0iLAogICAgICAgICAgICB0ZXN0U2NlbmFyaW8KICAgICAgICAgICkKCiAgICAgICAgICBpZiAodGVzdEVycm9yWzVdKSB7CiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICAgICAiRXhwZWN0ZWQ6IFx4MWJbMzg7MjswOzE2NTswbSIgKwogICAgICAgICAgICAgICAgdGVzdEVycm9yWzNdLnRyaW0oKSArCiAgICAgICAgICAgICAgICAiXHgxYlswbVxuIiArCiAgICAgICAgICAgICAgICAiUmVjZWl2ZWQ6IFx4MWJbMzg7MjsyMjA7MDswbSIgKwogICAgICAgICAgICAgICAgdGVzdEVycm9yWzVdLnRyaW0oKSArCiAgICAgICAgICAgICAgICAiXHgxYlswbSIKICAgICAgICAgICAgKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJceDFiWzM4OzI7MjIwOzA7MG0iICsgdGVzdEVycm9yICsgIlx4MWJbMG0iKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pCgogIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCkKICBhd2FpdCB3aW5kb3cuamVzdExpdGUuY29yZS5ydW4oKQoKICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKQogIGNvbnN0IGVsYXBzZWQgPSBNYXRoLnJvdW5kKGVuZFRpbWUgLSBzdGFydFRpbWUpCgogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogIGNvbnNvbGUubG9nKCIiKQoKICBjb25zdCBncmVlbiA9ICJceDFiWzFtXHgxYlszODsyOzA7MTgwOzBtIgogIGNvbnN0IHJlZCA9ICJceDFiWzFtXHgxYlszODsyOzIyMDswOzBtIgogIGNvbnN0IHJlc2V0ID0gIlx4MWJbMG0iCgogIGlmICh0ZXN0c0ZhaWxlZCA+IDApIHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgY29uc29sZS5sb2coCiAgICAgICJUZXN0IFN1aXRlczogIiArCiAgICAgICAgcmVkICsKICAgICAgICB0ZXN0c0ZhaWxlZFN1aXRlcy5zaXplICsKICAgICAgICAiIGZhaWxlZCIgKwogICAgICAgIHJlc2V0ICsKICAgICAgICAiLCAiICsKICAgICAgICBncmVlbiArCiAgICAgICAgdGVzdHNQYXNzZWRTdWl0ZXMuc2l6ZSArCiAgICAgICAgIiBwYXNzZWQiICsKICAgICAgICByZXNldCArCiAgICAgICAgIiwgIiArCiAgICAgICAgKHRlc3RzRmFpbGVkU3VpdGVzLnNpemUgKyB0ZXN0c1Bhc3NlZFN1aXRlcy5zaXplKSArCiAgICAgICAgIiB0b3RhbCIKICAgICkKCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgIGNvbnNvbGUubG9nKAogICAgICAiVGVzdHM6ICAgICAgICIgKwogICAgICAgIHJlZCArCiAgICAgICAgdGVzdHNGYWlsZWQgKwogICAgICAgICIgZmFpbGVkIiArCiAgICAgICAgcmVzZXQgKwogICAgICAgICIsICIgKwogICAgICAgIGdyZWVuICsKICAgICAgICB0ZXN0c1Bhc3NlZCArCiAgICAgICAgIiBwYXNzZWQiICsKICAgICAgICByZXNldCArCiAgICAgICAgIiwgIiArCiAgICAgICAgKHRlc3RzRmFpbGVkICsgdGVzdHNQYXNzZWQpICsKICAgICAgICAiIHRvdGFsIgogICAgKQogIH0gZWxzZSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgIGNvbnNvbGUubG9nKAogICAgICAiVGVzdCBTdWl0ZXM6ICIgKwogICAgICAgIGdyZWVuICsKICAgICAgICB0ZXN0c1Bhc3NlZFN1aXRlcy5zaXplICsKICAgICAgICAiIHBhc3NlZCIgKwogICAgICAgIHJlc2V0ICsKICAgICAgICAiLCAiICsKICAgICAgICAodGVzdHNGYWlsZWRTdWl0ZXMuc2l6ZSArIHRlc3RzUGFzc2VkU3VpdGVzLnNpemUpICsKICAgICAgICAiIHRvdGFsIgogICAgKQoKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgY29uc29sZS5sb2coCiAgICAgICJUZXN0czogICAgICAgIiArCiAgICAgICAgZ3JlZW4gKwogICAgICAgIHRlc3RzUGFzc2VkICsKICAgICAgICAiIHBhc3NlZCIgKwogICAgICAgIHJlc2V0ICsKICAgICAgICAiLCAiICsKICAgICAgICAodGVzdHNGYWlsZWQgKyB0ZXN0c1Bhc3NlZCkgKwogICAgICAgICIgdG90YWwiCiAgICApCiAgfQoKICB2YXIgZm9ybWF0dGVkVGltZQogIGlmIChlbGFwc2VkID49IDYwMDAwKSB7CiAgICAvLyAxIG1pbnV0ZSBvciBtb3JlCiAgICB2YXIgbWlucyA9IE1hdGguZmxvb3IoZWxhcHNlZCAvIDYwMDAwKQogICAgdmFyIHNlY3MgPSBNYXRoLmZsb29yKChlbGFwc2VkICUgNjAwMDApIC8gMTAwMCkKICAgIGZvcm1hdHRlZFRpbWUgPSBtaW5zICsgIiBtaW4gIiArIHNlY3MgKyAiIHMiCiAgfSBlbHNlIGlmIChlbGFwc2VkID49IDEwMDApIHsKICAgIC8vIDEgc2Vjb25kIG9yIG1vcmUKICAgIHZhciBzZWNzID0gKGVsYXBzZWQgLyAxMDAwKS50b0ZpeGVkKDIpCiAgICBmb3JtYXR0ZWRUaW1lID0gc2VjcyArICIgcyIKICB9IGVsc2UgewogICAgLy8gbGVzcyB0aGFuIDEgc2Vjb25kCiAgICBmb3JtYXR0ZWRUaW1lID0gZWxhcHNlZCArICIgbXMiCiAgfQoKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICBjb25zb2xlLmxvZygiVGltZTogICAgICAgICIgKyBmb3JtYXR0ZWRUaW1lKQoKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICBjb25zb2xlLmxvZygiIikKCiAgaWYgKHRlc3RzRmFpbGVkID4gMCkgewogICAgcHJvY2Vzcy5leGl0KDEpCiAgfQp9CgpnbG9iYWwuZGVzY3JpYmUgPSB3aW5kb3cuamVzdExpdGUuY29yZS5kZXNjcmliZQpnbG9iYWwuaXQgPSB3aW5kb3cuamVzdExpdGUuY29yZS5pdApnbG9iYWwuZXhwZWN0ID0gd2luZG93Lmplc3RMaXRlLmNvcmUuZXhwZWN0Cmdsb2JhbC5iZWZvcmVFYWNoID0gd2luZG93Lmplc3RMaXRlLmNvcmUuYmVmb3JlRWFjaApnbG9iYWwuYWZ0ZXJFYWNoID0gd2luZG93Lmplc3RMaXRlLmNvcmUuYWZ0ZXJFYWNoCgpwcm9jZXNzLm5leHRUaWNrKG1haW4pCg==",
    "base64"
  ).toString("utf8")
)()

// ----------------------------------------------------------------------------
// HOW TO USE THIS IMPLEMENTATION?
// ----------------------------------------------------------------------------
//
// ADD A JEST TEST TO THE BOTTOM OF THIS FILE:
//
// describe("Example", function () {
//  it("Should test something", function () {
//    const myValue = true
//    expect(myValue).toBe(true)
//   })
// })
//
// THEN RUN:
//
// node unit
//

function findAllFilesRecursive(dir) {
  const files = []

  try {
    const stats = statSync(dir)
    if (!stats.isDirectory()) {
      return files
    }
  } catch (error) {
    return files
  }

  const entries = readdirSync(dir)

  for (const entry of entries) {
    const fullPath = join(dir, entry)

    try {
      const stats = statSync(fullPath)

      if (stats.isDirectory()) {
        files.push(...findAllFilesRecursive(fullPath))
      } else if (stats.isFile()) {
        files.push(fullPath)
      }
    } catch (error) {
      //
    }
  }

  return files
}

function alphaNumericSort(a, b) {
  const nameA = a.toLowerCase()
  const nameB = b.toLowerCase()

  const isDigitA = /^\d/.test(nameA)
  const isDigitB = /^\d/.test(nameB)

  if (isDigitA && !isDigitB) {
    return -1
  }

  if (!isDigitA && isDigitB) {
    return 1
  }

  return nameA.localeCompare(nameB)
}

const startDir = resolve(process.cwd())

function fileExists(filePath) {
  let dir = "."
  if (filePath.includes("/")) {
    dir = filePath.substring(0, filePath.lastIndexOf("/"))
  }

  let base = filePath
  if (base.includes("/")) {
    base = filePath.substring(filePath.lastIndexOf("/") + 1, filePath.length)
  }

  if (!existsSync(dir)) {
    return false
  }

  const entries = readdirSync(dir)
  if (!entries.includes(base)) {
    return false
  }

  if (filePath.includes("/")) {
    if (!folderExists(dir)) {
      return false
    }
  }

  const fullPath = dir === "." ? base : dir + "/" + base
  const stats = statSync(fullPath)
  return stats.isFile()
}

function folderExists(folderPath) {
  let dir = "."
  if (folderPath.includes("/")) {
    dir = folderPath.substring(0, folderPath.lastIndexOf("/"))
  }

  let base = folderPath
  if (base.includes("/")) {
    base = folderPath.substring(folderPath.lastIndexOf("/") + 1, folderPath.length)
  }

  if (!existsSync(dir)) {
    return false
  }

  const entries = readdirSync(dir, { withFileTypes: true })
  const match = entries.find(function (entry) {
    return entry.name === base && entry.isDirectory()
  })

  return !!match
}

function generateHash(s) {
  return Math.abs(
    [...s].reduce(function (h, c) {
      return ((h << 5) - h + c.charCodeAt(0)) | 0
    }, 0)
  ).toString(16)
}

function getVariable(filename, variableName) {
  try {
    const content = readFileSync(filename, "utf8")
    const regex = new RegExp(
      "\\b(?:const|let|var)\\s+" +
        variableName +
        "\\s*=\\s*([\\s\\S]*?)(?=^\\s*(?:const|let|var|function|class|export|import|$))",
      "m"
    )
    const match = content.match(regex)
    return match ? match[1].trim() : ""
  } catch (err) {
    return ""
  }
}

function langsCheckAmountKeys(jsonData) {
  let keysStored = null
  let sameAmount = true

  try {
    jsonData = jsonData.replace(/:\s*'([^']*)'/g, ": \'$1\'")
    jsonData = jsonData.replace(/:\s*'((?:\\'|[^'])*)'/g, function (_, group) {
      const escaped = group.replace(/"/g, '\\"')
      return ': "$' + escaped + '"'
    })

    jsonData = JSON.parse(jsonData)
    const languages = Object.keys(jsonData)
    for (let i = 0; i < languages.length; i++) {
      const lang = languages[i]
      const stringCounter = Object.keys(jsonData[lang]).length
      if (!keysStored) {
        keysStored = stringCounter
      } else if (keysStored !== stringCounter) {
        sameAmount = false
      }
    }
  } catch (err) {
    sameAmount = false
  }

  try {
    if (!sameAmount) {
      sameAmount = ""
      const languages = Object.keys(jsonData)
      for (let i = 0; i < languages.length; i++) {
        const lang = languages[i]
        const stringCounter = Object.keys(jsonData[lang]).length
        if (!sameAmount) {
          sameAmount = lang + "(" + stringCounter + ")"
        } else {
          sameAmount = sameAmount + " " + lang + "(" + stringCounter + ")"
        }
      }
    }
  } catch (err) {
    //
  }

  return sameAmount
}

function langsCheckSameKeys(jsonData) {
  let allLanguagesHaveSameKeys = true
  let referenceKeys = null
  const differences = {}

  try {
    jsonData = jsonData.replace(/:\s*'([^']*)'/g, ": \'$1\'")
    jsonData = jsonData.replace(/:\s*'((?:\\'|[^'])*)'/g, function (_, group) {
      const escaped = group.replace(/"/g, '\\"')
      return ': "' + escaped + '"'
    })
    jsonData = JSON.parse(jsonData)
    const languages = Object.keys(jsonData)

    for (const lang of languages) {
      const keys = Object.keys(jsonData[lang]).sort()

      if (!referenceKeys) {
        referenceKeys = keys
      } else {
        // Find keys missing or extra compared to reference
        const missingKeys = referenceKeys.filter(function (k) {
          return !keys.includes(k)
        })
        const extraKeys = keys.filter(function (k) {
          return !referenceKeys.includes(k)
        })

        if (missingKeys.length > 0 || extraKeys.length > 0) {
          allLanguagesHaveSameKeys = false
          differences[lang] = {}
          if (missingKeys.length > 0) {
            differences[lang].missing = missingKeys
          }
          if (extraKeys.length > 0) {
            differences[lang].extra = extraKeys
          }
        }
      }
    }
  } catch (err) {
    allLanguagesHaveSameKeys = false
  }

  if (!allLanguagesHaveSameKeys) {
    allLanguagesHaveSameKeys = differences
  }

  return allLanguagesHaveSameKeys
}

function langsCheckEmptyKeys(jsonData) {
  let allLanguagesHaveNoEmptyKeys = true
  const emptyKeys = {}

  try {
    jsonData = jsonData.replace(/:\s*'([^']*)'/g, ": \'$1\'")
    jsonData = jsonData.replace(/:\s*'((?:\\'|[^'])*)'/g, function (_, group) {
      const escaped = group.replace(/"/g, '\\"')
      return ': "$' + escaped + '"'
    })
    jsonData = JSON.parse(jsonData)
    const languages = Object.keys(jsonData)

    for (const lang of languages) {
      const entries = Object.entries(jsonData[lang])
      const emptyForLang = entries
        .filter(function ([, value]) {
          return value === "" || value === null || value === undefined
        })
        .map(function ([key]) {
          return key
        })

      if (emptyForLang.length > 0) {
        allLanguagesHaveNoEmptyKeys = false
        emptyKeys[lang] = emptyForLang
      }
    }
  } catch (err) {
    allLanguagesHaveNoEmptyKeys = false
  }

  if (!allLanguagesHaveNoEmptyKeys) {
    allLanguagesHaveNoEmptyKeys = emptyKeys
  }

  return allLanguagesHaveNoEmptyKeys
}

function getImageSize(filePath) {
  const buffer = readFileSync(filePath)

  if (isPng(buffer)) {
    return getPngSize(buffer)
  } else if (isJpeg(buffer)) {
    return getJpegSize(buffer)
  } else if (isWebp(buffer)) {
    return getWebpSize(buffer)
  } else if (isSvg(buffer)) {
    return getSvgSize(buffer)
  } else {
    throw new Error("Unsupported image format")
  }
}

function isPng(buf) {
  return buf[0] === 0x89 && buf.toString("ascii", 1, 4) === "PNG"
}

function getPngSize(buf) {
  const width = buf.readUInt32BE(16)
  const height = buf.readUInt32BE(20)
  return { format: "png", width, height }
}

function isJpeg(buf) {
  return buf[0] === 0xff && buf[1] === 0xd8
}

function getJpegSize(buf) {
  let offset = 2
  while (offset < buf.length) {
    if (buf[offset] !== 0xff) {
      throw new Error("Invalid JPEG marker")
    }

    const marker = buf[offset + 1]

    if (
      marker >= 0xc0 &&
      marker <= 0xcf &&
      marker !== 0xc4 &&
      marker !== 0xc8 &&
      marker !== 0xcc
    ) {
      const height = buf.readUInt16BE(offset + 5)
      const width = buf.readUInt16BE(offset + 7)
      return { format: "jpeg", width, height }
    } else {
      const segmentLength = buf.readUInt16BE(offset + 2)
      offset += 2 + segmentLength
    }
  }
  throw new Error("Size not found in JPEG file")
}

function isWebp(buf) {
  return (
    buf.toString("ascii", 0, 4) === "RIFF" && buf.toString("ascii", 8, 12) === "WEBP"
  )
}

function getWebpSize(buf) {
  const chunkType = buf.toString("ascii", 12, 16)

  if (chunkType === "VP8 ") {
    const start = 26
    const width = buf.readUInt16LE(start) & 0x3fff
    const height = buf.readUInt16LE(start + 2) & 0x3fff
    return { format: "webp (lossy)", width, height }
  }

  if (chunkType === "VP8L") {
    const start = 21
    const b0 = buf[start + 1]
    const b1 = buf[start + 2]
    const b2 = buf[start + 3]
    const b3 = buf[start + 4]

    const width = 1 + (((b1 & 0x3f) << 8) | b0)
    const height = 1 + (((b3 & 0x0f) << 10) | (b2 << 2) | ((b1 & 0xc0) >> 6))
    return { format: "webp (lossless)", width, height }
  }

  if (chunkType === "VP8X") {
    const start = 24
    const width = 1 + buf[start] + (buf[start + 1] << 8) + (buf[start + 2] << 16)
    const height =
      1 + buf[start + 3] + (buf[start + 4] << 8) + (buf[start + 5] << 16)
    return { format: "webp (extended)", width, height }
  }

  throw new Error("Unsupported WebP chunk type: " + chunkType)
}

function isSvg(buf) {
  const head = buf.toString("utf8", 0, 100).toLowerCase()
  return head.includes("<svg")
}

function getSvgSize(buf) {
  const text = buf.toString("utf8")

  const widthMatch = text.match(/\bwidth=["']?([\d.]+)(px)?["']?/i)
  const heightMatch = text.match(/\bheight=["']?([\d.]+)(px)?["']?/i)

  if (widthMatch && heightMatch) {
    return {
      format: "svg",
      width: parseFloat(widthMatch[1]),
      height: parseFloat(heightMatch[1]),
    }
  }

  const viewBoxMatch = text.match(/\bviewBox=["']?([\d.\s-]+)["']?/i)
  if (viewBoxMatch) {
    const parts = viewBoxMatch[1].trim().split(/\s+/)
    if (parts.length === 4) {
      const width = parseFloat(parts[2])
      const height = parseFloat(parts[3])
      return { format: "svg", width, height }
    }
  }

  throw new Error("SVG size not found")
}

describe(".github/workflows/ci.yml", function () {
  it("Should exist", function () {
    expect(fileExists(".github/workflows/ci.yml")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "260cf6b4"
    let currentHash = ""

    try {
      const content = readFileSync(".github/workflows/ci.yml", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe(".github/workflows/cronjob.js", function () {
  it("Should exist", function () {
    expect(fileExists(".github/workflows/cronjob.js")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "5b48f338"
    let currentHash = ""

    try {
      const content = readFileSync(".github/workflows/cronjob.js", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe(".github/workflows/cronjob.yml", function () {
  it("Should exist", function () {
    expect(fileExists(".github/workflows/cronjob.yml")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "119ab950"
    let currentHash = ""

    try {
      const content = readFileSync(".github/workflows/cronjob.yml", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe(".github/workflows/headless-browser.yml", function () {
  it("Should exist", function () {
    expect(fileExists(".github/workflows/headless-browser.yml")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "2c5bc429"
    let currentHash = ""

    try {
      const content = readFileSync(".github/workflows/headless-browser.yml", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("HeadlessBrowser/build.js", function () {
  it("Should exist", function () {
    expect(fileExists("HeadlessBrowser/build.js")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "2eee3c00"
    let currentHash = ""

    try {
      const content = readFileSync("HeadlessBrowser/build.js", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("HeadlessBrowser/HeadlessBrowser.js", function () {
  it("Should exist", function () {
    expect(fileExists("HeadlessBrowser/HeadlessBrowser.js")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "628c1322"
    let currentHash = ""

    try {
      const content = readFileSync("HeadlessBrowser/HeadlessBrowser.js", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("Intranet/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("Intranet/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "19034f56"
    let currentHash = ""

    try {
      const content = readFileSync("Intranet/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })

  it("Should define the i18n variable", function () {
    const variableExists = getVariable("Intranet/index.html", "APP_STRINGS")
    expect(variableExists).not.toBe("")
  })

  it("Should have equal i18n key counts across languages", function () {
    const APP_STRINGS = getVariable("Intranet/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const sameAmount = langsCheckAmountKeys(APP_STRINGS)

    expect(sameAmount).toBe(true)
  })

  it("Should have matching i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Intranet/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveSameKeys = langsCheckSameKeys(APP_STRINGS)

    expect(allLanguagesHaveSameKeys).toBe(true)
  })

  it("Should have non-empty i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Intranet/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveNoEmptyKeys = langsCheckEmptyKeys(APP_STRINGS)

    expect(allLanguagesHaveNoEmptyKeys).toBe(true)
  })

  it("Should have a valid desktop variable", function () {
    let desktopExists = true

    try {
      JSON.parse(
        getVariable("Intranet/index.html", "DESKTOP_FILES")
          .replace(/,\s*([}\]])/g, "$1")
          .replace(
            /([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g,
            '$1"$2":'
          )
          .replace(/<iframe[\s\S]*?<\/iframe>/gim, "data:text/html;base64,")
          .replace(/(?<=^|\:)\s*\b\w+\s*\([^()]*\)/gm, '"MOCK"')
      )
    } catch (err) {
      desktopExists = false
    }

    expect(desktopExists).toBe(true)
  })

  it("Should have valid desktop shortcuts", function () {
    let DESKTOP_FILES = getVariable("Intranet/index.html", "DESKTOP_FILES")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')
      .replace(/<iframe[\s\S]*?<\/iframe>/gim, "data:text/html;base64,")
      .replace(/(?<=^|\:)\s*\b\w+\s*\([^()]*\)/gm, '"MOCK"')

    let validShortcuts = true
    const invalidShortcuts = []

    try {
      DESKTOP_FILES = JSON.parse(DESKTOP_FILES)
      for (let i = 0; i < DESKTOP_FILES.length; i++) {
        const shortcut = DESKTOP_FILES[i]
        if (
          !(
            typeof shortcut.filename === "string" &&
            shortcut.filename !== "" &&
            typeof shortcut.icon === "string" &&
            shortcut.icon !== "" &&
            typeof shortcut.content === "string" &&
            shortcut.content !== ""
          )
        ) {
          invalidShortcuts.push("Shortcut " + (i + 1) + " is not valid")
        }
      }

      if (invalidShortcuts.length > 0) {
        validShortcuts = invalidShortcuts.join(", ")
      }
    } catch (err) {
      validShortcuts = false
    }

    expect(validShortcuts).toBe(true)
  })
})

describe("MediaPlayer/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("MediaPlayer/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "47f401a5"
    let currentHash = ""

    try {
      const content = readFileSync("MediaPlayer/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("Pool/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("Pool/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "3500777"
    let currentHash = ""

    try {
      const content = readFileSync("Pool/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })

  it("Should define the i18n variable", function () {
    const variableExists = getVariable("Pool/index.html", "APP_STRINGS")
    expect(variableExists).not.toBe("")
  })

  it("Should have equal i18n key counts across languages", function () {
    const APP_STRINGS = getVariable("Pool/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const sameAmount = langsCheckAmountKeys(APP_STRINGS)

    expect(sameAmount).toBe(true)
  })

  it("Should have matching i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Pool/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveSameKeys = langsCheckSameKeys(APP_STRINGS)

    expect(allLanguagesHaveSameKeys).toBe(true)
  })

  it("Should have non-empty i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Pool/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveNoEmptyKeys = langsCheckEmptyKeys(APP_STRINGS)

    expect(allLanguagesHaveNoEmptyKeys).toBe(true)
  })
})

describe("Resources/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("Resources/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "59661eb6"
    let currentHash = ""

    try {
      const content = readFileSync("Resources/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })

  it("Should not use groups in the SVG files", function () {
    let usingGroups = false

    try {
      const content = readFileSync("Resources/index.html", "utf8")
      usingGroups = content.indexOf("<g") > -1 ? true : false
    } catch (err) {
      usingGroups = true
    }

    expect(usingGroups).toBe(false)
  })

  it("Should have an ID for every SVG image", function () {
    let validSVGs = true

    try {
      const content = readFileSync("Resources/index.html", "utf8")
      const svgTags = content.match(/<svg[^>]*>/g)
      if (svgTags && svgTags.length > 0) {
        let missingIDs = []
        for (let i = 0; i < svgTags.length; i++) {
          if (!/id\s*=\s*["'][^"']+["']/.test(svgTags[i])) {
            missingIDs.push("SVG " + (i + 1))
          }
        }
        if (missingIDs.length > 0) {
          validSVGs = missingIDs.join(", ")
        }
      }
    } catch (err) {
      validSVGs = false
    }

    expect(validSVGs).toBe(true)
  })

  it("Should have an ID for every IMG image", function () {
    let validIMGs = true

    try {
      const content = readFileSync("Resources/index.html", "utf8")
      const imgTags = content.match(/<img[^>]*>/g)
      if (imgTags && imgTags.length > 0) {
        let missingIDs = []
        for (let i = 0; i < imgTags.length; i++) {
          if (!/id\s*=\s*["'][^"']+["']/.test(imgTags[i])) {
            missingIDs.push("IMG " + (i + 1))
          }
        }
        if (missingIDs.length > 0) {
          validIMGs = missingIDs.join(", ")
        }
      }
    } catch (err) {
      validIMGs = false
    }

    expect(validIMGs).toBe(true)
  })
})

describe("ResumeChecker/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("ResumeChecker/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "59d4695a"
    let currentHash = ""

    try {
      const content = readFileSync("ResumeChecker/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("Spider/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("Spider/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "325a2e34"
    let currentHash = ""

    try {
      const content = readFileSync("Spider/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })

  it("Should define the i18n variable", function () {
    const variableExists = getVariable("Spider/index.html", "APP_STRINGS")
    expect(variableExists).not.toBe("")
  })

  it("Should have equal i18n key counts across languages", function () {
    const APP_STRINGS = getVariable("Spider/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const sameAmount = langsCheckAmountKeys(APP_STRINGS)

    expect(sameAmount).toBe(true)
  })

  it("Should have matching i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Spider/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveSameKeys = langsCheckSameKeys(APP_STRINGS)

    expect(allLanguagesHaveSameKeys).toBe(true)
  })

  it("Should have non-empty i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Spider/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveNoEmptyKeys = langsCheckEmptyKeys(APP_STRINGS)

    expect(allLanguagesHaveNoEmptyKeys).toBe(true)
  })
})

describe("Taipei/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("Taipei/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "6ca809bf"
    let currentHash = ""

    try {
      const content = readFileSync("Taipei/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })

  it("Should define the i18n variable", function () {
    const variableExists = getVariable("Taipei/index.html", "APP_STRINGS")
    expect(variableExists).not.toBe("")
  })

  it("Should have equal i18n key counts across languages", function () {
    const APP_STRINGS = getVariable("Taipei/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const sameAmount = langsCheckAmountKeys(APP_STRINGS)

    expect(sameAmount).toBe(true)
  })

  it("Should have matching i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Taipei/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveSameKeys = langsCheckSameKeys(APP_STRINGS)

    expect(allLanguagesHaveSameKeys).toBe(true)
  })

  it("Should have non-empty i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Taipei/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveNoEmptyKeys = langsCheckEmptyKeys(APP_STRINGS)

    expect(allLanguagesHaveNoEmptyKeys).toBe(true)
  })
})

describe("Tarot/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("Tarot/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "74d84076"
    let currentHash = ""

    try {
      const content = readFileSync("Tarot/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })

  it("Should define the i18n variable", function () {
    const variableExists = getVariable("Tarot/index.html", "APP_STRINGS")
    expect(variableExists).not.toBe("")
  })

  it("Should have equal i18n key counts across languages", function () {
    const APP_STRINGS = getVariable("Tarot/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const sameAmount = langsCheckAmountKeys(APP_STRINGS)

    expect(sameAmount).toBe(true)
  })

  it("Should have matching i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Tarot/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveSameKeys = langsCheckSameKeys(APP_STRINGS)

    expect(allLanguagesHaveSameKeys).toBe(true)
  })

  it("Should have non-empty i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Tarot/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveNoEmptyKeys = langsCheckEmptyKeys(APP_STRINGS)

    expect(allLanguagesHaveNoEmptyKeys).toBe(true)
  })
})

describe("Tetris/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("Tetris/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "3e5bed0e"
    let currentHash = ""

    try {
      const content = readFileSync("Tetris/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })

  it("Should define the i18n variable", function () {
    const variableExists = getVariable("Tetris/index.html", "APP_STRINGS")
    expect(variableExists).not.toBe("")
  })

  it("Should have equal i18n key counts across languages", function () {
    const APP_STRINGS = getVariable("Tetris/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const sameAmount = langsCheckAmountKeys(APP_STRINGS)

    expect(sameAmount).toBe(true)
  })

  it("Should have matching i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Tetris/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveSameKeys = langsCheckSameKeys(APP_STRINGS)

    expect(allLanguagesHaveSameKeys).toBe(true)
  })

  it("Should have non-empty i18n keys across languages", function () {
    const APP_STRINGS = getVariable("Tetris/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveNoEmptyKeys = langsCheckEmptyKeys(APP_STRINGS)

    expect(allLanguagesHaveNoEmptyKeys).toBe(true)
  })
})

describe("TinyACE/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("TinyACE/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "29242c94"
    let currentHash = ""

    try {
      const content = readFileSync("TinyACE/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })

  it("Should define the i18n variable", function () {
    const variableExists = getVariable("TinyACE/index.html", "APP_STRINGS")
    expect(variableExists).not.toBe("")
  })

  it("Should have equal i18n key counts across languages", function () {
    const APP_STRINGS = getVariable("TinyACE/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const sameAmount = langsCheckAmountKeys(APP_STRINGS)

    expect(sameAmount).toBe(true)
  })

  it("Should have matching i18n keys across languages", function () {
    const APP_STRINGS = getVariable("TinyACE/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveSameKeys = langsCheckSameKeys(APP_STRINGS)

    expect(allLanguagesHaveSameKeys).toBe(true)
  })

  it("Should have non-empty i18n keys across languages", function () {
    const APP_STRINGS = getVariable("TinyACE/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveNoEmptyKeys = langsCheckEmptyKeys(APP_STRINGS)

    expect(allLanguagesHaveNoEmptyKeys).toBe(true)
  })
})

describe("TinyDOC/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("TinyDOC/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "55f08396"
    let currentHash = ""

    try {
      const content = readFileSync("TinyDOC/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })

  it("Should define the i18n variable", function () {
    const variableExists = getVariable("TinyDOC/index.html", "APP_STRINGS")
    expect(variableExists).not.toBe("")
  })

  it("Should have equal i18n key counts across languages", function () {
    const APP_STRINGS = getVariable("TinyDOC/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const sameAmount = langsCheckAmountKeys(APP_STRINGS)

    expect(sameAmount).toBe(true)
  })

  it("Should have matching i18n keys across languages", function () {
    const APP_STRINGS = getVariable("TinyDOC/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveSameKeys = langsCheckSameKeys(APP_STRINGS)

    expect(allLanguagesHaveSameKeys).toBe(true)
  })

  it("Should have non-empty i18n keys across languages", function () {
    const APP_STRINGS = getVariable("TinyDOC/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveNoEmptyKeys = langsCheckEmptyKeys(APP_STRINGS)

    expect(allLanguagesHaveNoEmptyKeys).toBe(true)
  })
})

describe("TinyIMG/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("TinyIMG/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "3e146476"
    let currentHash = ""

    try {
      const content = readFileSync("TinyIMG/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })

  it("Should define the i18n variable", function () {
    const variableExists = getVariable("TinyIMG/index.html", "APP_STRINGS")
    expect(variableExists).not.toBe("")
  })

  it("Should have equal i18n key counts across languages", function () {
    const APP_STRINGS = getVariable("TinyIMG/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const sameAmount = langsCheckAmountKeys(APP_STRINGS)

    expect(sameAmount).toBe(true)
  })

  it("Should have matching i18n keys across languages", function () {
    const APP_STRINGS = getVariable("TinyIMG/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveSameKeys = langsCheckSameKeys(APP_STRINGS)

    expect(allLanguagesHaveSameKeys).toBe(true)
  })

  it("Should have non-empty i18n keys across languages", function () {
    const APP_STRINGS = getVariable("TinyIMG/index.html", "APP_STRINGS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveNoEmptyKeys = langsCheckEmptyKeys(APP_STRINGS)

    expect(allLanguagesHaveNoEmptyKeys).toBe(true)
  })
})

describe("WebcamRecorder/index.html", function () {
  it("Should exist", function () {
    expect(fileExists("WebcamRecorder/index.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "7777cead"
    let currentHash = ""

    try {
      const content = readFileSync("WebcamRecorder/index.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("404.html", function () {
  it("Should exist", function () {
    expect(fileExists("404.html")).toBe(true)
  })

  it("Should contain redirects", function () {
    const variableExists = getVariable("404.html", "redirects")
    expect(variableExists).not.toBe("")
  })

  it("Should have a JSON redirects list", function () {
    const redirectsList = getVariable("404.html", "redirects").replace(
      /,\s*([}\]])/g,
      "$1"
    )
    let isValidJSON = true

    try {
      JSON.parse(redirectsList)
    } catch (err) {
      isValidJSON = false
    }

    expect(isValidJSON).toBe(true)
  })

  it("Should have valid folders", function () {
    const redirectsList = getVariable("404.html", "redirects")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')
    let linksValid = true

    try {
      const redirects = JSON.parse(redirectsList)
      const missingPaths = []

      for (const folderPath of Object.values(redirects)) {
        const fullPath = "." + folderPath
        if (!folderExists(fullPath)) {
          missingPaths.push(folderPath)
        }
      }

      if (missingPaths.length > 0) {
        linksValid = missingPaths.join(", ")
      }
    } catch (err) {
      linksValid = false
    }

    expect(linksValid).toBe(true)
  })

  it("Should have valid folders containing an index.html file", function () {
    const redirectsList = getVariable("404.html", "redirects")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')
    let linksValid = true

    try {
      const redirects = JSON.parse(redirectsList)
      const missingPaths = []

      for (const folderPath of Object.values(redirects)) {
        const fullPath = "." + folderPath + "/index.html"
        if (!fileExists(fullPath)) {
          missingPaths.push(folderPath + "/index.html")
        }
      }

      if (missingPaths.length > 0) {
        linksValid = missingPaths.join(", ")
      }
    } catch (err) {
      linksValid = false
    }

    expect(linksValid).toBe(true)
  })
})

const listFavIcons = [
  { "img_Cover.webp": "1b32771d" },
  { "img_FavIcon_16x16.webp": "47cf21c4" },
  { "img_FavIcon_32x32.webp": "6d396933" },
  { "img_FavIcon_48x48.webp": "437215da" },
  { "img_FavIcon_192x192.webp": "722c7462" },
  { "img_FavIcon_512x512.webp": "ccd2e9c" },
  { "img_FavIcon_512x512b.webp": "1ed3c523" },
  { "img_FavIcon.svg": "2e976d87" },
  { "img_Placeholder_1.webp": "527d8f6e" },
  { "img_Placeholder_2.webp": "25d66058" },
]

for (let i = 0; i < listFavIcons.length; i++) {
  const filename = Object.keys(listFavIcons[i])[0]
  const expectedHash = Object.values(listFavIcons[i])[0]
  describe(filename, function () {
    it("Should exist", function () {
      expect(fileExists(filename)).toBe(true)
    })

    it("Should be a valid image", function () {
      let imageValid = true
      try {
        getImageSize(filename, "utf8")
      } catch (err) {
        imageValid = false
      }
      expect(imageValid).toBe(true)
    })

    it("Should not have changed", function () {
      let currentHash = ""

      try {
        const content = readFileSync(filename, "utf8")
        currentHash = generateHash(content)
      } catch (err) {
        currentHash = ""
      }

      expect(currentHash).toBe(expectedHash)
    })
  })
}

describe("index.html", function () {
  it("Should exist", function () {
    expect(fileExists("index.html")).toBe(true)
  })

  it("Should define the i18n variable", function () {
    const variableExists = getVariable("index.html", "STR")
    expect(variableExists).not.toBe("")
  })

  it("Should have equal i18n key counts across languages", function () {
    const STR = getVariable("index.html", "STR")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const sameAmount = langsCheckAmountKeys(STR)

    expect(sameAmount).toBe(true)
  })

  it("Should have matching i18n keys across languages", function () {
    const STR = getVariable("index.html", "STR")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveSameKeys = langsCheckSameKeys(STR)

    expect(allLanguagesHaveSameKeys).toBe(true)
  })

  it("Should have non-empty i18n keys across languages", function () {
    const STR = getVariable("index.html", "STR")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    const allLanguagesHaveNoEmptyKeys = langsCheckEmptyKeys(STR)

    expect(allLanguagesHaveNoEmptyKeys).toBe(true)
  })

  it("Should show titles for latest projects", function () {
    let STR = getVariable("index.html", "STR")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    let showingLatestTitles = true

    try {
      STR = JSON.parse(STR)

      const missingTitles = []
      const latestKeys = ["latest1t", "latest2t", "latest3t"]

      for (const [lang, data] of Object.entries(STR)) {
        for (const key of latestKeys) {
          const value = data[key]
          if (typeof value !== "string" || value.trim() === "") {
            missingTitles.push(lang + ":" + key)
          }
        }
      }

      if (missingTitles.length > 0) {
        showingLatestTitles =
          "Missing or invalid titles for: " + missingTitles.join(", ")
      }
    } catch (err) {
      showingLatestTitles = false
    }

    expect(showingLatestTitles).toBe(true)
  })

  it("Should show images for latest projects", function () {
    let imageLoaderFound = true

    try {
      const content = readFileSync("index.html", "utf8")
      if (content.includes("img_Latest_")) {
        imageLoaderFound = true
      } else {
        imageLoaderFound = "Image loader not found"
      }
    } catch (err) {
      imageLoaderFound = "Image loader not found"
    }

    expect(imageLoaderFound).toBe(true)
  })

  it("Should have existing images for latest projects", function () {
    const imageFiles = [
      "img_Latest_1.webp",
      "img_Latest_2.webp",
      "img_Latest_3.webp",
    ]

    let latestImagesAreValid = true
    const invalidImages = []

    for (const file of imageFiles) {
      try {
        readFileSync(file, "utf8")
      } catch {
        invalidImages.push(file)
      }
    }

    if (invalidImages.length > 0) {
      latestImagesAreValid =
        "Invalid projects image files: " + invalidImages.join(", ")
    }

    expect(latestImagesAreValid).toBe(true)
  })

  it("Should have valid images for latest projects", function () {
    const imageFiles = [
      "img_Latest_1.webp",
      "img_Latest_2.webp",
      "img_Latest_3.webp",
    ]

    let latestImageExists = true
    const missingImages = []

    for (const file of imageFiles) {
      try {
        getImageSize(file, "utf8")
      } catch {
        missingImages.push(file)
      }
    }

    if (missingImages.length > 0) {
      latestImageExists = "Invalid projects image files: " + missingImages.join(", ")
    }

    expect(latestImageExists).toBe(true)
  })

  it("Should show descriptions for latest projects", function () {
    let STR = getVariable("index.html", "STR")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    let showingLatestDescriptions = true

    try {
      STR = JSON.parse(STR)

      const missingDescriptions = []
      const latestKeys = ["latest1d", "latest2d", "latest3d"]

      for (const [lang, data] of Object.entries(STR)) {
        for (const key of latestKeys) {
          const value = data[key]
          if (typeof value !== "string" || value.trim() === "") {
            missingDescriptions.push(lang + ":" + key)
          }
        }
      }

      if (missingDescriptions.length > 0) {
        showingLatestDescriptions =
          "Missing or invalid descriptions for: " + missingDescriptions.join(", ")
      }
    } catch (err) {
      showingLatestDescriptions = false
    }

    expect(showingLatestDescriptions).toBe(true)
  })

  it("Should display buttons for latest projects", function () {
    let LATEST = getVariable("index.html", "LATEST")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    let showingLatestButtons = true

    try {
      LATEST = JSON.parse(LATEST)
      const missingButtons = []

      for (let i = 0; i < LATEST.length; i++) {
        const button = LATEST[i].t
        if (button !== "app" && button !== "website") {
          missingButtons.push(
            "Project " + (i + 1) + " is not showing a valid button"
          )
        }
      }

      if (missingButtons.length > 0) {
        showingLatestButtons = missingButtons.join(", ")
      }
    } catch (err) {
      showingLatestButtons = false
    }

    expect(showingLatestButtons).toBe(true)
  })

  it("Should show links for latest projects", function () {
    let LATEST = getVariable("index.html", "LATEST")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    let showingLatestLinks = true

    try {
      LATEST = JSON.parse(LATEST)
      const missingLinks = []

      for (let i = 0; i < LATEST.length; i++) {
        const link = LATEST[i].l
        let validLink = true

        if (typeof link !== "string") {
          validLink = false
        } else if (link.indexOf("https://") !== 0) {
          validLink = false
        }

        if (!validLink) {
          missingLinks.push("Project " + (i + 1) + " is not showing a valid link")
        }
      }

      if (missingLinks.length > 0) {
        showingLatestLinks = missingLinks.join(", ")
      }
    } catch (err) {
      showingLatestLinks = false
    }

    expect(showingLatestLinks).toBe(true)
  })

  it("Should show titles for articles", function () {
    let PRESS = getVariable("index.html", "PRESS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    let showingArticlesTitles = true

    try {
      PRESS = JSON.parse(PRESS)
      const missingTitles = []

      for (let i = 0; i < PRESS.length; i++) {
        const title = PRESS[i].t
        if (title === "" || typeof title !== "string") {
          missingTitles.push("Article " + (i + 1) + " is not showing a valid title")
        }
      }

      if (missingTitles.length > 0) {
        showingArticlesTitles = missingTitles.join(", ")
      }
    } catch (err) {
      showingArticlesTitles = false
    }

    expect(showingArticlesTitles).toBe(true)
  })

  it("Should display images for articles", function () {
    let PRESS = getVariable("index.html", "PRESS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    let showingArticlesImages = true

    try {
      PRESS = JSON.parse(PRESS)
      const missingImages = []

      for (let i = 0; i < PRESS.length; i++) {
        const image = PRESS[i].i
        if (image === "" || typeof image !== "string") {
          missingImages.push("Article " + (i + 1) + " is not showing a valid image")
        }
      }

      if (missingImages.length > 0) {
        showingArticlesImages = missingImages.join(", ")
      }
    } catch (err) {
      showingArticlesImages = false
    }

    expect(showingArticlesImages).toBe(true)
  })

  it("Should have existing images for articles", function () {
    let PRESS = getVariable("index.html", "PRESS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    let articleImagesExists = true

    try {
      PRESS = JSON.parse(PRESS)
      const missingImages = []

      for (let i = 0; i < PRESS.length; i++) {
        const imageFile = "img_Press_" + PRESS[i].i + ".webp"
        if (!fileExists(imageFile)) {
          missingImages.push("Article " + (i + 1) + " is not showing a valid image")
        }
      }

      if (missingImages.length > 0) {
        articleImagesExists = missingImages.join(", ")
      }
    } catch (err) {
      articleImagesExists = false
    }

    expect(articleImagesExists).toBe(true)
  })

  it("Should have valid images for articles", function () {
    let PRESS = getVariable("index.html", "PRESS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    let articleImagesValid = true

    try {
      PRESS = JSON.parse(PRESS)
      const missingImages = []

      for (let i = 0; i < PRESS.length; i++) {
        const imageFile = "img_Press_" + PRESS[i].i + ".webp"
        try {
          getImageSize(imageFile, "utf8")
        } catch (err2) {
          articleImagesValid =
            "Invalid articles image files: " + missingImages.join(", ")
        }
      }

      if (missingImages.length > 0) {
        articleImagesValid = missingImages.join(", ")
      }
    } catch (err) {
      articleImagesValid = false
    }

    expect(articleImagesValid).toBe(true)
  })

  it("Should show descriptions for articles", function () {
    let PRESS = getVariable("index.html", "PRESS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    let showingArticlesDescriptions = true

    try {
      PRESS = JSON.parse(PRESS)
      const missingArticleDescriptions = []

      for (let i = 0; i < PRESS.length; i++) {
        const description = PRESS[i].d
        if (description === "" || typeof description !== "string") {
          missingArticleDescriptions.push(
            "Article " + (i + 1) + " is not showing a valid description"
          )
        }
      }

      if (missingArticleDescriptions.length > 0) {
        showingArticlesDescriptions = missingArticleDescriptions.join(", ")
      }
    } catch (err) {
      showingArticlesDescriptions = false
    }

    expect(showingArticlesDescriptions).toBe(true)
  })

  it("Should show buttons for articles", function () {
    let PRESS = getVariable("index.html", "PRESS")
      .replace(/,\s*([}\]])/g, "$1")
      .replace(/([{\s,])([a-zA-Z0-9_]+)\s*:(?=(?:[^"]*"[^"]*")*[^"]*$)/g, '$1"$2":')

    let showingArticlesButtons = true

    try {
      PRESS = JSON.parse(PRESS)
      const missingButtons = []

      for (let i = 0; i < PRESS.length; i++) {
        const button = PRESS[i].b
        if (button !== "read" && button !== "watch") {
          missingButtons.push(
            "Article " + (i + 1) + " is not showing a valid button"
          )
        }
      }

      if (missingButtons.length > 0) {
        showingArticlesButtons = missingButtons.join(", ")
      }
    } catch (err) {
      showingArticlesButtons = false
    }

    expect(showingArticlesButtons).toBe(true)
  })

  it("Should load the cover image", function () {
    let imageCoverLoaderFound = true

    try {
      const content = readFileSync("index.html", "utf8")
      if (content.includes("img_Cover")) {
        imageCoverLoaderFound = true
      } else {
        imageCoverLoaderFound = "Image cover loader not found"
      }
    } catch (err) {
      imageCoverLoaderFound = "Image cover loader not found"
    }

    expect(imageCoverLoaderFound).toBe(true)
  })

  it("Should have an existing cover image", function () {
    let coverImageExists = true

    try {
      readFileSync("img_Cover.webp", "utf8")
    } catch (err) {
      coverImageExists = false
    }

    expect(coverImageExists).toBe(true)
  })

  it("Should have a valid cover image", function () {
    let imageValid = true
    try {
      getImageSize("img_Cover.webp", "utf8")
    } catch (err) {
      imageValid = false
    }
    expect(imageValid).toBe(true)
  })
})

describe("license.txt", function () {
  it("Should exist", function () {
    expect(fileExists("license.txt")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "792cf31f"
    let currentHash = ""

    try {
      const content = readFileSync("license.txt", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("privacy.html", function () {
  it("Should exist", function () {
    expect(fileExists("privacy.html")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "102f2163"
    let currentHash = ""

    try {
      const content = readFileSync("privacy.html", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("profile1.webp", function () {
  it("Should exist", function () {
    expect(fileExists("profile1.webp")).toBe(true)
  })

  it("Should be a valid image", function () {
    let imageValid = true
    try {
      getImageSize("profile1.webp", "utf8")
    } catch (err) {
      imageValid = false
    }
    expect(imageValid).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "14286336"
    let currentHash = ""

    try {
      const content = readFileSync("profile1.webp", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("profile2.webp", function () {
  it("Should exist", function () {
    expect(fileExists("profile2.webp")).toBe(true)
  })

  it("Should be a valid image", function () {
    let imageValid = true
    try {
      getImageSize("profile2.webp", "utf8")
    } catch (err) {
      imageValid = false
    }
    expect(imageValid).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "1242b837"
    let currentHash = ""

    try {
      const content = readFileSync("profile2.webp", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("robots.txt", function () {
  it("Should exist", function () {
    expect(fileExists("robots.txt")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "6f7f4579"
    let currentHash = ""

    try {
      const content = readFileSync("robots.txt", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("share.webp", function () {
  it("Should exist", function () {
    expect(fileExists("share.webp")).toBe(true)
  })

  it("Should be a valid image", function () {
    let imageValid = true
    try {
      getImageSize("share.webp", "utf8")
    } catch (err) {
      imageValid = false
    }
    expect(imageValid).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "5a84123e"
    let currentHash = ""

    try {
      const content = readFileSync("share.webp", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("sitemap.xml", function () {
  it("Should exist", function () {
    expect(fileExists("sitemap.xml")).toBe(true)
  })

  it("Should not have changed", function () {
    const expectedHash = "48318304"
    let currentHash = ""

    try {
      const content = readFileSync("sitemap.xml", "utf8")
      currentHash = generateHash(content)
    } catch (err) {
      currentHash = ""
    }

    expect(currentHash).toBe(expectedHash)
  })
})

describe("No inline styles", function () {
  const allFiles = findAllFilesRecursive(startDir).sort(alphaNumericSort)
  const targetExts = [".html", ".htm", ".js"]
  const filesToCheck = allFiles.filter(function (file) {
    return targetExts.includes(extname(file))
  })

  filesToCheck.forEach(function (file) {
    const filename = file.substring(startDir.length + 1)
    it(filename + " should not have inline styles", function () {
      const content = readFileSync(file, "utf8")
      const lines = content.split(/\r?\n/)
      let inlineDetected = []

      lines.forEach(function (line, index) {
        if (/style\=\"/gm.test(line)) {
          inlineDetected.push("L:" + (index + 1))
        }
      })

      let fileResult = false

      if (inlineDetected.length > 0) {
        fileResult = inlineDetected.join(", ")
      }

      expect(fileResult).toBe(false)
    })
  })
})
